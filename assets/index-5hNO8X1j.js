(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Od={exports:{}},yo={};var B_;function z1(){if(B_)return yo;B_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return yo.Fragment=e,yo.jsx=i,yo.jsxs=i,yo}var z_;function j1(){return z_||(z_=1,Od.exports=z1()),Od.exports}var x=j1(),Md={exports:{}},Ee={};var j_;function q1(){if(j_)return Ee;j_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),R=Symbol.iterator;function q(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,z={};function ee(V,Z,se){this.props=V,this.context=Z,this.refs=z,this.updater=se||G}ee.prototype.isReactComponent={},ee.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},ee.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function re(){}re.prototype=ee.prototype;function te(V,Z,se){this.props=V,this.context=Z,this.refs=z,this.updater=se||G}var de=te.prototype=new re;de.constructor=te,W(de,ee.prototype),de.isPureReactComponent=!0;var Re=Array.isArray;function _e(){}var N={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function S(V,Z,se){var oe=se.ref;return{$$typeof:s,type:V,key:Z,ref:oe!==void 0?oe:null,props:se}}function O(V,Z){return S(V.type,Z,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function k(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(se){return Z[se]})}var w=/\/+/g;function Ie(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):Z.toString(36)}function et(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(_e,_e):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,Z,se,oe,ve){var we=typeof V;(we==="undefined"||we==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(we){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case s:case e:Pe=!0;break;case E:return Pe=V._init,K(Pe(V._payload),Z,se,oe,ve)}}if(Pe)return ve=ve(V),Pe=oe===""?"."+Ie(V,0):oe,Re(ve)?(se="",Pe!=null&&(se=Pe.replace(w,"$&/")+"/"),K(ve,Z,se,"",function(ur){return ur})):ve!=null&&(D(ve)&&(ve=O(ve,se+(ve.key==null||V&&V.key===ve.key?"":(""+ve.key).replace(w,"$&/")+"/")+Pe)),Z.push(ve)),1;Pe=0;var xt=oe===""?".":oe+":";if(Re(V))for(var at=0;at<V.length;at++)oe=V[at],we=xt+Ie(oe,at),Pe+=K(oe,Z,se,we,ve);else if(at=q(V),typeof at=="function")for(V=at.call(V),at=0;!(oe=V.next()).done;)oe=oe.value,we=xt+Ie(oe,at++),Pe+=K(oe,Z,se,we,ve);else if(we==="object"){if(typeof V.then=="function")return K(et(V),Z,se,oe,ve);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function ie(V,Z,se){if(V==null)return V;var oe=[],ve=0;return K(V,oe,"","",function(we){return Z.call(se,we,ve++)}),oe}function me(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(se){(V._status===0||V._status===-1)&&(V._status=1,V._result=se)},function(se){(V._status===0||V._status===-1)&&(V._status=2,V._result=se)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var ze=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qe={map:ie,forEach:function(V,Z,se){ie(V,function(){Z.apply(this,arguments)},se)},count:function(V){var Z=0;return ie(V,function(){Z++}),Z},toArray:function(V){return ie(V,function(Z){return Z})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ee.Activity=b,Ee.Children=Qe,Ee.Component=ee,Ee.Fragment=i,Ee.Profiler=o,Ee.PureComponent=te,Ee.StrictMode=a,Ee.Suspense=y,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Ee.cache=function(V){return function(){return V.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(V,Z,se){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=W({},V.props),ve=V.key;if(Z!=null)for(we in Z.key!==void 0&&(ve=""+Z.key),Z)!C.call(Z,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Z.ref===void 0||(oe[we]=Z[we]);var we=arguments.length-2;if(we===1)oe.children=se;else if(1<we){for(var Pe=Array(we),xt=0;xt<we;xt++)Pe[xt]=arguments[xt+2];oe.children=Pe}return S(V.type,ve,oe)},Ee.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ee.createElement=function(V,Z,se){var oe,ve={},we=null;if(Z!=null)for(oe in Z.key!==void 0&&(we=""+Z.key),Z)C.call(Z,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ve[oe]=Z[oe]);var Pe=arguments.length-2;if(Pe===1)ve.children=se;else if(1<Pe){for(var xt=Array(Pe),at=0;at<Pe;at++)xt[at]=arguments[at+2];ve.children=xt}if(V&&V.defaultProps)for(oe in Pe=V.defaultProps,Pe)ve[oe]===void 0&&(ve[oe]=Pe[oe]);return S(V,we,ve)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(V){return{$$typeof:p,render:V}},Ee.isValidElement=D,Ee.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:me}},Ee.memo=function(V,Z){return{$$typeof:_,type:V,compare:Z===void 0?null:Z}},Ee.startTransition=function(V){var Z=N.T,se={};N.T=se;try{var oe=V(),ve=N.S;ve!==null&&ve(se,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(_e,ze)}catch(we){ze(we)}finally{Z!==null&&se.types!==null&&(Z.types=se.types),N.T=Z}},Ee.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ee.use=function(V){return N.H.use(V)},Ee.useActionState=function(V,Z,se){return N.H.useActionState(V,Z,se)},Ee.useCallback=function(V,Z){return N.H.useCallback(V,Z)},Ee.useContext=function(V){return N.H.useContext(V)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(V,Z){return N.H.useDeferredValue(V,Z)},Ee.useEffect=function(V,Z){return N.H.useEffect(V,Z)},Ee.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Ee.useId=function(){return N.H.useId()},Ee.useImperativeHandle=function(V,Z,se){return N.H.useImperativeHandle(V,Z,se)},Ee.useInsertionEffect=function(V,Z){return N.H.useInsertionEffect(V,Z)},Ee.useLayoutEffect=function(V,Z){return N.H.useLayoutEffect(V,Z)},Ee.useMemo=function(V,Z){return N.H.useMemo(V,Z)},Ee.useOptimistic=function(V,Z){return N.H.useOptimistic(V,Z)},Ee.useReducer=function(V,Z,se){return N.H.useReducer(V,Z,se)},Ee.useRef=function(V){return N.H.useRef(V)},Ee.useState=function(V){return N.H.useState(V)},Ee.useSyncExternalStore=function(V,Z,se){return N.H.useSyncExternalStore(V,Z,se)},Ee.useTransition=function(){return N.H.useTransition()},Ee.version="19.2.0",Ee}var q_;function Rm(){return q_||(q_=1,Md.exports=q1()),Md.exports}var Me=Rm(),Vd={exports:{}},_o={},kd={exports:{}},Ud={};var H_;function H1(){return H_||(H_=1,(function(s){function e(K,ie){var me=K.length;K.push(ie);e:for(;0<me;){var ze=me-1>>>1,Qe=K[ze];if(0<o(Qe,ie))K[ze]=ie,K[me]=Qe,me=ze;else break e}}function i(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var ie=K[0],me=K.pop();if(me!==ie){K[0]=me;e:for(var ze=0,Qe=K.length,V=Qe>>>1;ze<V;){var Z=2*(ze+1)-1,se=K[Z],oe=Z+1,ve=K[oe];if(0>o(se,me))oe<Qe&&0>o(ve,se)?(K[ze]=ve,K[oe]=me,ze=oe):(K[ze]=se,K[Z]=me,ze=Z);else if(oe<Qe&&0>o(ve,me))K[ze]=ve,K[oe]=me,ze=oe;else break e}}return ie}function o(K,ie){var me=K.sortIndex-ie.sortIndex;return me!==0?me:K.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,b=null,R=3,q=!1,G=!1,W=!1,z=!1,ee=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function de(K){for(var ie=i(_);ie!==null;){if(ie.callback===null)a(_);else if(ie.startTime<=K)a(_),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=i(_)}}function Re(K){if(W=!1,de(K),!G)if(i(y)!==null)G=!0,_e||(_e=!0,k());else{var ie=i(_);ie!==null&&et(Re,ie.startTime-K)}}var _e=!1,N=-1,C=5,S=-1;function O(){return z?!0:!(s.unstable_now()-S<C)}function D(){if(z=!1,_e){var K=s.unstable_now();S=K;var ie=!0;try{e:{G=!1,W&&(W=!1,re(N),N=-1),q=!0;var me=R;try{t:{for(de(K),b=i(y);b!==null&&!(b.expirationTime>K&&O());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,R=b.priorityLevel;var Qe=ze(b.expirationTime<=K);if(K=s.unstable_now(),typeof Qe=="function"){b.callback=Qe,de(K),ie=!0;break t}b===i(y)&&a(y),de(K)}else a(y);b=i(y)}if(b!==null)ie=!0;else{var V=i(_);V!==null&&et(Re,V.startTime-K),ie=!1}}break e}finally{b=null,R=me,q=!1}ie=void 0}}finally{ie?k():_e=!1}}}var k;if(typeof te=="function")k=function(){te(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ie=w.port2;w.port1.onmessage=D,k=function(){Ie.postMessage(null)}}else k=function(){ee(D,0)};function et(K,ie){N=ee(function(){K(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(K){switch(R){case 1:case 2:case 3:var ie=3;break;default:ie=R}var me=R;R=ie;try{return K()}finally{R=me}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=R;R=K;try{return ie()}finally{R=me}},s.unstable_scheduleCallback=function(K,ie,me){var ze=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,K){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=me+Qe,K={id:E++,callback:ie,priorityLevel:K,startTime:me,expirationTime:Qe,sortIndex:-1},me>ze?(K.sortIndex=me,e(_,K),i(y)===null&&K===i(_)&&(W?(re(N),N=-1):W=!0,et(Re,me-ze))):(K.sortIndex=Qe,e(y,K),G||q||(G=!0,_e||(_e=!0,k()))),K},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(K){var ie=R;return function(){var me=R;R=ie;try{return K.apply(this,arguments)}finally{R=me}}}})(Ud)),Ud}var F_;function F1(){return F_||(F_=1,kd.exports=H1()),kd.exports}var Ld={exports:{}},Yt={};var G_;function G1(){if(G_)return Yt;G_=1;var s=Rm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:y,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,E)},Yt.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},Yt.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Yt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Yt.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,b=p(E,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:q}):E==="script"&&a.d.X(y,{crossOrigin:b,integrity:R,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Yt.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Yt.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,b=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Yt.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Yt.requestFormReset=function(y){a.d.r(y)},Yt.unstable_batchedUpdates=function(y,_){return y(_)},Yt.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.0",Yt}var Q_;function Q1(){if(Q_)return Ld.exports;Q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=G1(),Ld.exports}var K_;function K1(){if(K_)return _o;K_=1;var s=F1(),e=Rm(),i=Q1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,l=f;break}if(T===l){g=!0,l=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,l=h;break}if(T===l){g=!0,l=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,R=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),te=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ee:return"Profiler";case z:return"StrictMode";case Re:return"Suspense";case _e:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case te:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case de:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ie(t.type)||"Memo";case C:n=t._payload,t=t._init;try{return Ie(t(n))}catch{}}return null}var et=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],Qe=-1;function V(t){return{current:t}}function Z(t){0>Qe||(t.current=ze[Qe],ze[Qe]=null,Qe--)}function se(t,n){Qe++,ze[Qe]=t.current,t.current=n}var oe=V(null),ve=V(null),we=V(null),Pe=V(null);function xt(t,n){switch(se(we,n),se(ve,t),se(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?o_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=o_(n),t=u_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(oe),se(oe,t)}function at(){Z(oe),Z(ve),Z(we)}function ur(t){t.memoizedState!==null&&se(Pe,t);var n=oe.current,r=u_(n,t.type);n!==r&&(se(ve,t),se(oe,r))}function Jr(t){ve.current===t&&(Z(oe),Z(ve)),Pe.current===t&&(Z(Pe),fo._currentValue=me)}var Wr,ea;function ni(t){if(Wr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",ea=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+t+ea}var fl=!1;function cr(t,n){if(!t||fl)return"";fl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var j=F}Reflect.construct(t,[],X)}else{try{X.call()}catch(F){j=F}t.call(X.prototype)}}else{try{throw Error()}catch(F){j=F}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var I=g.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{fl=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ni(r):""}function dl(t,n){switch(t.tag){case 26:case 27:case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return t.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return cr(t.type,!1);case 11:return cr(t.type.render,!1);case 1:return cr(t.type,!0);case 31:return ni("Activity");default:return""}}function ml(t){try{var n="",r=null;do n+=dl(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,Dt=s.unstable_scheduleCallback,us=s.unstable_cancelCallback,Mh=s.unstable_shouldYield,Wo=s.unstable_requestPaint,tn=s.unstable_now,hr=s.unstable_getCurrentPriorityLevel,pl=s.unstable_ImmediatePriority,gl=s.unstable_UserBlockingPriority,cs=s.unstable_NormalPriority,Vh=s.unstable_LowPriority,eu=s.unstable_IdlePriority,tu=s.log,nu=s.unstable_setDisableYieldValue,jn=null,Bt=null;function Cn(t){if(typeof tu=="function"&&nu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(jn,t)}catch{}}var ft=Math.clz32?Math.clz32:su,iu=Math.log,ta=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(iu(t)/ta|0)|0}var ii=256,fr=262144,_t=4194304;function si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ri(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=si(l):(g&=T,g!==0?h=si(g):r||(r=T&~t,r!==0&&(h=si(r))))):(T=l&~f,T!==0?h=si(T):g!==0?h=si(g):r||(r=l&~t,r!==0&&(h=si(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uh(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(r=g&~r;0<r;){var Q=31-ft(r),X=1<<Q;T[Q]=0,I[Q]=-1;var j=B[Q];if(j!==null)for(B[Q]=null,Q=0;Q<j.length;Q++){var F=j[Q];F!==null&&(F.lane&=-536870913)}r&=~X}l!==0&&mr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function mr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ft(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function yl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ft(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function _l(t,n){var r=n&-n;return r=(r&42)!==0?1:pr(r),(r&(t.suspendedLanes|n))!==0?0:r}function pr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:O_(t.type))}function Hn(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var Fn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Fn,kt="__reactProps$"+Fn,li="__reactContainer$"+Fn,na="__reactEvents$"+Fn,Lh="__reactListeners$"+Fn,lu="__reactHandles$"+Fn,ou="__reactResources$"+Fn,oi="__reactMarker$"+Fn;function ia(t){delete t[vt],delete t[kt],delete t[na],delete t[Lh],delete t[lu]}function ui(t){var n=t[vt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[li]||r[vt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=g_(t);t!==null;){if(r=t[vt])return r;t=g_(t)}return n}t=r,r=t.parentNode}return null}function Rn(t){if(t=t[vt]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function gn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ci(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[oi]=!0}var vl=new Set,Tl={};function hi(t,n){fi(t,n),fi(t+"Capture",n)}function fi(t,n){for(Tl[t]=n,t=0;t<n.length;t++)vl.add(n[t])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},bl={};function uu(t){return yt.call(bl,t)?!0:yt.call(Al,t)?!1:El.test(t)?bl[t]=!0:(Al[t]=!0,!1)}function sa(t,n,r){if(uu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function yn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Et(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ke(t){if(!t._valueTracker){var n=hs(t)?"checked":"value";t._valueTracker=Sl(t,n,""+t[n])}}function gr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=hs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yr=/[\n"\\]/g;function rn(t){return t.replace(yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(t,n,r,l,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?wl(t,g,Ut(n)):r!=null?wl(t,g,Ut(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ut(T):t.removeAttribute("name")}function cu(t,n,r,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ke(t);return}r=r!=null?""+Ut(r):"",n=n!=null?""+Ut(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ke(t)}function wl(t,n,r){n==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function fs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ut(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,r){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ut(r):""}function ds(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(et(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ut(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Ke(t)}function an(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Rl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Cl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Cl(t,f,n[f])}function aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(t){return ms.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Il=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ps=null,mi=null;function _r(t){var n=Rn(t);if(n&&(t=n.stateNode)){var r=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ra(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(a(90));ra(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&gr(l)}break e;case"textarea":hu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&fs(t,!!r.multiple,n,!1)}}}var oa=!1;function gs(t,n,r){if(oa)return t(n,r);oa=!0;try{var l=t(n);return l}finally{if(oa=!1,(ps!==null||mi!==null)&&(ac(),ps&&(n=ps,t=mi,mi=ps=null,_r(n),t)))for(n=0;n<t.length;n++)_r(t[n])}}function Qn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[kt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Nn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){vr=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{vr=!1}var pi=null,Nl=null,Tr=null;function xl(){if(Tr)return Tr;var t,n=Nl,r=n.length,l,h="value"in pi?pi.value:pi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return Tr=h.slice(t,1<l?1-l:void 0)}function Er(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function Kn(){return!1}function zt(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Kn,this.isPropagationStopped=Kn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=zt(ki),ys=b({},ki,{view:0,detail:0}),Dl=zt(ys),_s,ua,yi,ca=b({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(_s=t.screenX-yi.screenX,ua=t.screenY-yi.screenY):ua=_s=0,yi=t),_s)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),Ol=zt(ca),Ar=b({},ca,{dataTransfer:0}),mu=zt(Ar),pu=b({},ys,{relatedTarget:0}),br=zt(pu),Ml=b({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=zt(Ml),ha=b({},ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=zt(ha),_u=b({},ki,{data:0}),_i=zt(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Eu[t])?!!n[t]:!1}function vs(){return Au}var nn=b({},ys,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Er(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(t){return t.type==="keypress"?Er(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Er(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bu=zt(nn),Su=b({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=zt(Su),u=b({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),m=zt(u),v=b({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=zt(v),L=b({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=zt(L),ne=b({},ki,{newState:0,oldState:0}),be=zt(ne),dt=[9,13,27,32],He=Nn&&"CompositionEvent"in window,lt=null;Nn&&"documentMode"in document&&(lt=document.documentMode);var xn=Nn&&"TextEvent"in window&&!lt,vi=Nn&&(!He||lt&&8<lt&&11>=lt),Yn=" ",Xn=!1;function Sr(t,n){switch(t){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var da=!1;function cA(t,n){switch(t){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Xn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Xn?null:t;default:return null}}function hA(t,n){if(da)return t==="compositionend"||!He&&Sr(t,n)?(t=xl(),Tr=Nl=pi=null,da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var fA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!fA[t.type]:n==="textarea"}function Tp(t,n,r,l){ps?mi?mi.push(l):mi=[l]:ps=l,n=dc(n,"onChange"),0<n.length&&(r=new gi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Vl=null,kl=null;function dA(t){n_(t,0)}function wu(t){var n=gn(t);if(gr(n))return t}function Ep(t,n){if(t==="change")return n}var Ap=!1;if(Nn){var Ph;if(Nn){var Bh="oninput"in document;if(!Bh){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),Bh=typeof bp.oninput=="function"}Ph=Bh}else Ph=!1;Ap=Ph&&(!document.documentMode||9<document.documentMode)}function Sp(){Vl&&(Vl.detachEvent("onpropertychange",wp),kl=Vl=null)}function wp(t){if(t.propertyName==="value"&&wu(kl)){var n=[];Tp(n,kl,t,In(t)),gs(dA,n)}}function mA(t,n,r){t==="focusin"?(Sp(),Vl=n,kl=r,Vl.attachEvent("onpropertychange",wp)):t==="focusout"&&Sp()}function pA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(kl)}function gA(t,n){if(t==="click")return wu(n)}function yA(t,n){if(t==="input"||t==="change")return wu(n)}function _A(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var _n=typeof Object.is=="function"?Object.is:_A;function Ul(t,n){if(_n(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!yt.call(n,h)||!_n(t[h],n[h]))return!1}return!0}function Cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rp(t,n){var r=Cp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cp(r)}}function Ip(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ip(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Np(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=di(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=di(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var vA=Nn&&"documentMode"in document&&11>=document.documentMode,ma=null,jh=null,Ll=null,qh=!1;function xp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qh||ma==null||ma!==di(l)||(l=ma,"selectionStart"in l&&zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ll&&Ul(Ll,l)||(Ll=l,l=dc(jh,"onSelect"),0<l.length&&(n=new gi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ma)))}function wr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var pa={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},Hh={},Dp={};Nn&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Cr(t){if(Hh[t])return Hh[t];if(!pa[t])return t;var n=pa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Dp)return Hh[t]=n[r];return t}var Op=Cr("animationend"),Mp=Cr("animationiteration"),Vp=Cr("animationstart"),TA=Cr("transitionrun"),EA=Cr("transitionstart"),AA=Cr("transitioncancel"),kp=Cr("transitionend"),Up=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function $n(t,n){Up.set(t,n),hi(n,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],ga=0,Gh=0;function Ru(){for(var t=ga,n=Gh=ga=0;n<t;){var r=Dn[n];Dn[n++]=null;var l=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Lp(r,h,f)}}function Iu(t,n,r,l){Dn[ga++]=t,Dn[ga++]=n,Dn[ga++]=r,Dn[ga++]=l,Gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qh(t,n,r,l){return Iu(t,n,r,l),Nu(t)}function Rr(t,n){return Iu(t,null,null,n),Nu(t)}function Lp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ft(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Nu(t){if(50<ro)throw ro=0,nd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ya={};function bA(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,n,r,l){return new bA(t,n,r,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,n){var r=t.alternate;return r===null?(r=vn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Pp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function xu(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")Kh(t)&&(g=1);else if(typeof t=="string")g=I1(t,r,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case S:return t=vn(31,r,n,h),t.elementType=S,t.lanes=f,t;case W:return Ir(r.children,h,f,n);case z:g=8,h|=24;break;case ee:return t=vn(12,r,n,h|2),t.elementType=ee,t.lanes=f,t;case Re:return t=vn(13,r,n,h),t.elementType=Re,t.lanes=f,t;case _e:return t=vn(19,r,n,h),t.elementType=_e,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:g=10;break e;case re:g=9;break e;case de:g=11;break e;case N:g=14;break e;case C:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=vn(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Ir(t,n,r,l){return t=vn(7,t,l,n),t.lanes=r,t}function Yh(t,n,r){return t=vn(6,t,null,n),t.lanes=r,t}function Bp(t){var n=vn(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,r){return n=vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zp=new WeakMap;function On(t,n){if(typeof t=="object"&&t!==null){var r=zp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ml(n)},zp.set(t,n),n)}return{value:t,source:n,stack:ml(n)}}var _a=[],va=0,Du=null,Pl=0,Mn=[],Vn=0,Ts=null,Ti=1,Ei="";function Pi(t,n){_a[va++]=Pl,_a[va++]=Du,Du=t,Pl=n}function jp(t,n,r){Mn[Vn++]=Ti,Mn[Vn++]=Ei,Mn[Vn++]=Ts,Ts=t;var l=Ti;t=Ei;var h=32-ft(l)-1;l&=~(1<<h),r+=1;var f=32-ft(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Ti=1<<32-ft(n)+h|r<<h|l,Ei=f+t}else Ti=1<<f|r<<h|l,Ei=t}function $h(t){t.return!==null&&(Pi(t,1),jp(t,1,0))}function Zh(t){for(;t===Du;)Du=_a[--va],_a[va]=null,Pl=_a[--va],_a[va]=null;for(;t===Ts;)Ts=Mn[--Vn],Mn[Vn]=null,Ei=Mn[--Vn],Mn[Vn]=null,Ti=Mn[--Vn],Mn[Vn]=null}function qp(t,n){Mn[Vn++]=Ti,Mn[Vn++]=Ei,Mn[Vn++]=Ts,Ti=n.id,Ei=n.overflow,Ts=t}var jt=null,it=null,Le=!1,Es=null,kn=!1,Jh=Error(a(519));function As(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(On(n,t)),Jh}function Hp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[vt]=t,n[kt]=l,r){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(r=0;r<lo.length;r++)xe(lo[r],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),cu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),ds(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||a_(n.textContent,r)?(l.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),l.onScroll!=null&&xe("scroll",n),l.onScrollEnd!=null&&xe("scrollend",n),l.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||As(t,!0)}function Fp(t){for(jt=t.return;jt;)switch(jt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:jt=jt.return}}function Ta(t){if(t!==jt)return!1;if(!Le)return Fp(t),Le=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||yd(t.type,t.memoizedProps)),r=!r),r&&it&&As(t),Fp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=p_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=p_(t)}else n===27?(n=it,Us(t.type)?(t=Ad,Ad=null,it=t):it=n):it=jt?Ln(t.stateNode.nextSibling):null;return!0}function Nr(){it=jt=null,Le=!1}function Wh(){var t=Es;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Es=null),t}function Bl(t){Es===null?Es=[t]:Es.push(t)}var ef=V(null),xr=null,Bi=null;function bs(t,n,r){se(ef,n._currentValue),n._currentValue=r}function zi(t){t._currentValue=ef.current,Z(ef)}function tf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function nf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),tf(f.return,r,t),l||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),tf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ea(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;_n(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pe.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(fo):t=[fo])}h=h.return}t!==null&&nf(n,t,r,l),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Dr(t){xr=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Gp(xr,t)}function Mu(t,n){return xr===null&&Dr(t),Gp(t,n)}function Gp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Bi===null){if(t===null)throw Error(a(308));Bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Bi=Bi.next=n;return r}var SA=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},wA=s.unstable_scheduleCallback,CA=s.unstable_NormalPriority,At={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new SA,data:new Map,refCount:0}}function zl(t){t.refCount--,t.refCount===0&&wA(CA,function(){t.controller.abort()})}var jl=null,rf=0,Aa=0,ba=null;function RA(t,n){if(jl===null){var r=jl=[];rf=0,Aa=od(),ba={status:"pending",value:void 0,then:function(l){r.push(l)}}}return rf++,n.then(Qp,Qp),n}function Qp(){if(--rf===0&&jl!==null){ba!==null&&(ba.status="fulfilled");var t=jl;jl=null,Aa=0,ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function IA(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Kp=K.S;K.S=function(t,n){xy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RA(t,n),Kp!==null&&Kp(t,n)};var Or=V(null);function af(){var t=Or.current;return t!==null?t:tt.pooledCache}function Vu(t,n){n===null?se(Or,Or.current):se(Or,n.pool)}function Yp(){var t=af();return t===null?null:{parent:At._currentValue,pool:t}}var Sa=Error(a(460)),lf=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function Xp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $p(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Gn,Gn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jp(t),t;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jp(t),t}throw Vr=n,Sa}}function Mr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Vr=r,Sa):r}}var Vr=null;function Zp(){if(Vr===null)throw Error(a(459));var t=Vr;return Vr=null,t}function Jp(t){if(t===Sa||t===ku)throw Error(a(483))}var wa=null,ql=0;function Lu(t){var n=ql;return ql+=1,wa===null&&(wa=[]),$p(wa,t,n)}function Hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wp(t){function n(U,M){if(t){var P=U.deletions;P===null?(U.deletions=[M],U.flags|=16):P.push(M)}}function r(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Li(U,M),U.index=0,U.sibling=null,U}function f(U,M,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<M?(U.flags|=67108866,M):P):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,P,Y){return M===null||M.tag!==6?(M=Yh(P,U.mode,Y),M.return=U,M):(M=h(M,P),M.return=U,M)}function I(U,M,P,Y){var he=P.type;return he===W?Q(U,M,P.props.children,Y,P.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===C&&Mr(he)===M.type)?(M=h(M,P.props),Hl(M,P),M.return=U,M):(M=xu(P.type,P.key,P.props,null,U.mode,Y),Hl(M,P),M.return=U,M)}function B(U,M,P,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Xh(P,U.mode,Y),M.return=U,M):(M=h(M,P.children||[]),M.return=U,M)}function Q(U,M,P,Y,he){return M===null||M.tag!==7?(M=Ir(P,U.mode,Y,he),M.return=U,M):(M=h(M,P),M.return=U,M)}function X(U,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Yh(""+M,U.mode,P),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return P=xu(M.type,M.key,M.props,null,U.mode,P),Hl(P,M),P.return=U,P;case G:return M=Xh(M,U.mode,P),M.return=U,M;case C:return M=Mr(M),X(U,M,P)}if(et(M)||k(M))return M=Ir(M,U.mode,P,null),M.return=U,M;if(typeof M.then=="function")return X(U,Lu(M),P);if(M.$$typeof===te)return X(U,Mu(U,M),P);Pu(U,M)}return null}function j(U,M,P,Y){var he=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return he!==null?null:T(U,M,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===he?I(U,M,P,Y):null;case G:return P.key===he?B(U,M,P,Y):null;case C:return P=Mr(P),j(U,M,P,Y)}if(et(P)||k(P))return he!==null?null:Q(U,M,P,Y,null);if(typeof P.then=="function")return j(U,M,Lu(P),Y);if(P.$$typeof===te)return j(U,M,Mu(U,P),Y);Pu(U,P)}return null}function F(U,M,P,Y,he){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(P)||null,T(M,U,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return U=U.get(Y.key===null?P:Y.key)||null,I(M,U,Y,he);case G:return U=U.get(Y.key===null?P:Y.key)||null,B(M,U,Y,he);case C:return Y=Mr(Y),F(U,M,P,Y,he)}if(et(Y)||k(Y))return U=U.get(P)||null,Q(M,U,Y,he,null);if(typeof Y.then=="function")return F(U,M,P,Lu(Y),he);if(Y.$$typeof===te)return F(U,M,P,Mu(M,Y),he);Pu(M,Y)}return null}function ue(U,M,P,Y){for(var he=null,je=null,ce=M,Ce=M=0,Oe=null;ce!==null&&Ce<P.length;Ce++){ce.index>Ce?(Oe=ce,ce=null):Oe=ce.sibling;var qe=j(U,ce,P[Ce],Y);if(qe===null){ce===null&&(ce=Oe);break}t&&ce&&qe.alternate===null&&n(U,ce),M=f(qe,M,Ce),je===null?he=qe:je.sibling=qe,je=qe,ce=Oe}if(Ce===P.length)return r(U,ce),Le&&Pi(U,Ce),he;if(ce===null){for(;Ce<P.length;Ce++)ce=X(U,P[Ce],Y),ce!==null&&(M=f(ce,M,Ce),je===null?he=ce:je.sibling=ce,je=ce);return Le&&Pi(U,Ce),he}for(ce=l(ce);Ce<P.length;Ce++)Oe=F(ce,U,Ce,P[Ce],Y),Oe!==null&&(t&&Oe.alternate!==null&&ce.delete(Oe.key===null?Ce:Oe.key),M=f(Oe,M,Ce),je===null?he=Oe:je.sibling=Oe,je=Oe);return t&&ce.forEach(function(js){return n(U,js)}),Le&&Pi(U,Ce),he}function pe(U,M,P,Y){if(P==null)throw Error(a(151));for(var he=null,je=null,ce=M,Ce=M=0,Oe=null,qe=P.next();ce!==null&&!qe.done;Ce++,qe=P.next()){ce.index>Ce?(Oe=ce,ce=null):Oe=ce.sibling;var js=j(U,ce,qe.value,Y);if(js===null){ce===null&&(ce=Oe);break}t&&ce&&js.alternate===null&&n(U,ce),M=f(js,M,Ce),je===null?he=js:je.sibling=js,je=js,ce=Oe}if(qe.done)return r(U,ce),Le&&Pi(U,Ce),he;if(ce===null){for(;!qe.done;Ce++,qe=P.next())qe=X(U,qe.value,Y),qe!==null&&(M=f(qe,M,Ce),je===null?he=qe:je.sibling=qe,je=qe);return Le&&Pi(U,Ce),he}for(ce=l(ce);!qe.done;Ce++,qe=P.next())qe=F(ce,U,Ce,qe.value,Y),qe!==null&&(t&&qe.alternate!==null&&ce.delete(qe.key===null?Ce:qe.key),M=f(qe,M,Ce),je===null?he=qe:je.sibling=qe,je=qe);return t&&ce.forEach(function(B1){return n(U,B1)}),Le&&Pi(U,Ce),he}function We(U,M,P,Y){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var he=P.key;M!==null;){if(M.key===he){if(he=P.type,he===W){if(M.tag===7){r(U,M.sibling),Y=h(M,P.props.children),Y.return=U,U=Y;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===C&&Mr(he)===M.type){r(U,M.sibling),Y=h(M,P.props),Hl(Y,P),Y.return=U,U=Y;break e}r(U,M);break}else n(U,M);M=M.sibling}P.type===W?(Y=Ir(P.props.children,U.mode,Y,P.key),Y.return=U,U=Y):(Y=xu(P.type,P.key,P.props,null,U.mode,Y),Hl(Y,P),Y.return=U,U=Y)}return g(U);case G:e:{for(he=P.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){r(U,M.sibling),Y=h(M,P.children||[]),Y.return=U,U=Y;break e}else{r(U,M);break}else n(U,M);M=M.sibling}Y=Xh(P,U.mode,Y),Y.return=U,U=Y}return g(U);case C:return P=Mr(P),We(U,M,P,Y)}if(et(P))return ue(U,M,P,Y);if(k(P)){if(he=k(P),typeof he!="function")throw Error(a(150));return P=he.call(P),pe(U,M,P,Y)}if(typeof P.then=="function")return We(U,M,Lu(P),Y);if(P.$$typeof===te)return We(U,M,Mu(U,P),Y);Pu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(r(U,M.sibling),Y=h(M,P),Y.return=U,U=Y):(r(U,M),Y=Yh(P,U.mode,Y),Y.return=U,U=Y),g(U)):r(U,M)}return function(U,M,P,Y){try{ql=0;var he=We(U,M,P,Y);return wa=null,he}catch(ce){if(ce===Sa||ce===ku)throw ce;var je=vn(29,ce,null,U.mode);return je.lanes=Y,je.return=U,je}finally{}}}var kr=Wp(!0),eg=Wp(!1),Ss=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Nu(t),Lp(t,null,r),n}return Iu(t,l,n,r),Nu(t)}function Fl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,yl(t,r)}}function cf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var hf=!1;function Gl(){if(hf){var t=ba;if(t!==null)throw t}}function Ql(t,n,r,l){hf=!1;var h=t.updateQueue;Ss=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,g===null?f=B:g.next=B,g=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==g&&(T===null?Q.firstBaseUpdate=B:T.next=B,Q.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,Q=B=I=null,T=f;do{var j=T.lane&-536870913,F=j!==T.lane;if(F?(De&j)===j:(l&j)===j){j!==0&&j===Aa&&(hf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,pe=T;j=n;var We=r;switch(pe.tag){case 1:if(ue=pe.payload,typeof ue=="function"){X=ue.call(We,X,j);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=pe.payload,j=typeof ue=="function"?ue.call(We,X,j):ue,j==null)break e;X=b({},X,j);break e;case 2:Ss=!0}}j=T.callback,j!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(B=Q=F,I=X):Q=Q.next=F,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(I=X),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ds|=g,t.lanes=g,t.memoizedState=X}}function tg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ng(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)tg(r[t],n)}var Ca=V(null),Bu=V(0);function ig(t,n){t=Xi,se(Bu,t),se(Ca,n),Xi=t|n.baseLanes}function ff(){se(Bu,Xi),se(Ca,Ca.current)}function df(){Xi=Bu.current,Z(Ca),Z(Bu)}var Tn=V(null),Un=null;function Rs(t){var n=t.alternate;se(mt,mt.current&1),se(Tn,t),Un===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Un=t)}function mf(t){se(mt,mt.current),se(Tn,t),Un===null&&(Un=t)}function sg(t){t.tag===22?(se(mt,mt.current),se(Tn,t),Un===null&&(Un=t)):Is()}function Is(){se(mt,mt.current),se(Tn,Tn.current)}function En(t){Z(Tn),Un===t&&(Un=null),Z(mt)}var mt=V(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Td(r)||Ed(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,Se=null,Ze=null,bt=null,ju=!1,Ra=!1,Ur=!1,qu=0,Kl=0,Ia=null,NA=0;function ct(){throw Error(a(321))}function pf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!_n(t[r],n[r]))return!1;return!0}function gf(t,n,r,l,h,f){return ji=f,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?jg:Df,Ur=!1,f=r(l,h),Ur=!1,Ra&&(f=ag(n,r,l,h)),rg(t),f}function rg(t){K.H=$l;var n=Ze!==null&&Ze.next!==null;if(ji=0,bt=Ze=Se=null,ju=!1,Kl=0,Ia=null,n)throw Error(a(300));t===null||St||(t=t.dependencies,t!==null&&Ou(t)&&(St=!0))}function ag(t,n,r,l){Se=t;var h=0;do{if(Ra&&(Ia=null),Kl=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,bt=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=qg,f=n(r,l)}while(Ra);return f}function xA(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Yl(n):n,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Se.flags|=1024),n}function yf(){var t=qu!==0;return qu=0,t}function _f(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function vf(t){if(ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ju=!1}ji=0,bt=Ze=Se=null,Ra=!1,Kl=qu=0,Ia=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Se.memoizedState=bt=t:bt=bt.next=t,bt}function pt(){if(Ze===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=bt===null?Se.memoizedState:bt.next;if(n!==null)bt=n,Ze=t;else{if(t===null)throw Se.alternate===null?Error(a(467)):Error(a(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},bt===null?Se.memoizedState=bt=t:bt=bt.next=t}return bt}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(t){var n=Kl;return Kl+=1,Ia===null&&(Ia=[]),t=$p(Ia,t,n),n=Se,(bt===null?n.memoizedState:bt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?jg:Df),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yl(t);if(t.$$typeof===te)return qt(t)}throw Error(a(438,String(t)))}function Tf(t){var n=null,r=Se.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),Se.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function qi(t,n){return typeof n=="function"?n(t):n}function Gu(t){var n=pt();return Ef(n,Ze,t)}function Ef(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,I=null,B=n,Q=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(De&X)===X:(ji&X)===X){var j=B.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Aa&&(Q=!0);else if((ji&j)===j){B=B.next,j===Aa&&(Q=!0);continue}else X={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=X,g=f):I=I.next=X,Se.lanes|=j,Ds|=j;X=B.action,Ur&&r(f,X),f=B.hasEagerState?B.eagerState:r(f,X)}else j={lane:X,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=j,g=f):I=I.next=j,Se.lanes|=X,Ds|=X;B=B.next}while(B!==null&&B!==n);if(I===null?g=f:I.next=T,!_n(f,t.memoizedState)&&(St=!0,Q&&(r=ba,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Af(t){var n=pt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);_n(f,n.memoizedState)||(St=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function lg(t,n,r){var l=Se,h=pt(),f=Le;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!_n((Ze||h).memoizedState,r);if(g&&(h.memoizedState=r,St=!0),h=h.queue,wf(cg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Na(9,{destroy:void 0},ug.bind(null,l,h,r,n),null),tt===null)throw Error(a(349));f||(ji&127)!==0||og(l,n,r)}return r}function og(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Se.updateQueue,n===null?(n=Hu(),Se.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ug(t,n,r,l){n.value=r,n.getSnapshot=l,hg(n)&&fg(t)}function cg(t,n,r){return r(function(){hg(n)&&fg(t)})}function hg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!_n(t,r)}catch{return!0}}function fg(t){var n=Rr(t,2);n!==null&&hn(n,t,2)}function bf(t){var n=sn();if(typeof t=="function"){var r=t;if(t=r(),Ur){Cn(!0);try{r()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},n}function dg(t,n,r,l){return t.baseState=r,Ef(t,Ze,typeof l=="function"?l:qi)}function DA(t,n,r,l,h){if(Yu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};K.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,mg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function mg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=K.T,g={};K.T=g;try{var T=r(h,l),I=K.S;I!==null&&I(g,T),pg(t,n,T)}catch(B){Sf(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),K.T=f}}else try{f=r(h,l),pg(t,n,f)}catch(B){Sf(t,n,B)}}function pg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){gg(t,n,l)},function(l){return Sf(t,n,l)}):gg(t,n,r)}function gg(t,n,r){n.status="fulfilled",n.value=r,yg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,mg(t,r)))}function Sf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,yg(n),n=n.next;while(n!==l)}t.action=null}function yg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _g(t,n){return n}function vg(t,n){if(Le){var r=tt.formState;if(r!==null){e:{var l=Se;if(Le){if(it){t:{for(var h=it,f=kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){it=Ln(h.nextSibling),l=h.data==="F!";break e}}As(l)}l=!1}l&&(n=r[0])}}return r=sn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:n},r.queue=l,r=Pg.bind(null,Se,l),l.dispatch=r,l=bf(!1),f=xf.bind(null,Se,!1,l.queue),l=sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=DA.bind(null,Se,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Tg(t){var n=pt();return Eg(n,Ze,t)}function Eg(t,n,r){if(n=Ef(t,n,_g)[0],t=Gu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Yl(n)}catch(g){throw g===Sa?ku:g}else l=n;n=pt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Se.flags|=2048,Na(9,{destroy:void 0},OA.bind(null,h,r),null)),[l,f,t]}function OA(t,n){t.action=n}function Ag(t){var n=pt(),r=Ze;if(r!==null)return Eg(n,r,t);pt(),n=n.memoizedState,r=pt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Na(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Se.updateQueue,n===null&&(n=Hu(),Se.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function bg(){return pt().memoizedState}function Qu(t,n,r,l){var h=sn();Se.flags|=t,h.memoizedState=Na(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ku(t,n,r,l){var h=pt();l=l===void 0?null:l;var f=h.memoizedState.inst;Ze!==null&&l!==null&&pf(l,Ze.memoizedState.deps)?h.memoizedState=Na(n,f,r,l):(Se.flags|=t,h.memoizedState=Na(1|n,f,r,l))}function Sg(t,n){Qu(8390656,8,t,n)}function wf(t,n){Ku(2048,8,t,n)}function MA(t){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=Hu(),Se.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function wg(t){var n=pt().memoizedState;return MA({ref:n,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Cg(t,n){return Ku(4,2,t,n)}function Rg(t,n){return Ku(4,4,t,n)}function Ig(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ng(t,n,r){r=r!=null?r.concat([t]):null,Ku(4,4,Ig.bind(null,n,t),r)}function Cf(){}function xg(t,n){var r=pt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&pf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Dg(t,n){var r=pt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&pf(n,l[1]))return l[0];if(l=t(),Ur){Cn(!0);try{t()}finally{Cn(!1)}}return r.memoizedState=[l,n],l}function Rf(t,n,r){return r===void 0||(ji&1073741824)!==0&&(De&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Oy(),Se.lanes|=t,Ds|=t,r)}function Og(t,n,r,l){return _n(r,n)?r:Ca.current!==null?(t=Rf(t,r,l),_n(t,n)||(St=!0),t):(ji&42)===0||(ji&1073741824)!==0&&(De&261930)===0?(St=!0,t.memoizedState=r):(t=Oy(),Se.lanes|=t,Ds|=t,n)}function Mg(t,n,r,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var g=K.T,T={};K.T=T,xf(t,!1,n,r);try{var I=h(),B=K.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=IA(I,l);Xl(t,n,Q,Sn(t))}else Xl(t,n,l,Sn(t))}catch(X){Xl(t,n,{then:function(){},status:"rejected",reason:X},Sn())}finally{ie.p=f,g!==null&&T.types!==null&&(g.types=T.types),K.T=g}}function VA(){}function If(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Vg(t).queue;Mg(t,h,n,me,r===null?VA:function(){return kg(t),r(l)})}function Vg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function kg(t){var n=Vg(t);n.next===null&&(n=t.alternate.memoizedState),Xl(t,n.next.queue,{},Sn())}function Nf(){return qt(fo)}function Ug(){return pt().memoizedState}function Lg(){return pt().memoizedState}function kA(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Sn();t=ws(r);var l=Cs(n,t,r);l!==null&&(hn(l,n,r),Fl(l,n,r)),n={cache:sf()},t.payload=n;return}n=n.return}}function UA(t,n,r){var l=Sn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Bg(n,r):(r=Qh(t,n,r,l),r!==null&&(hn(r,t,l),zg(r,n,l)))}function Pg(t,n,r){var l=Sn();Xl(t,n,r,l)}function Xl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Bg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,_n(T,g))return Iu(t,n,h,0),tt===null&&Ru(),!1}catch{}finally{}if(r=Qh(t,n,h,l),r!==null)return hn(r,t,l),zg(r,n,l),!0}return!1}function xf(t,n,r,l){if(l={lane:2,revertLane:od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(a(479))}else n=Qh(t,r,l,2),n!==null&&hn(n,t,2)}function Yu(t){var n=t.alternate;return t===Se||n!==null&&n===Se}function Bg(t,n){Ra=ju=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function zg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,yl(t,r)}}var $l={readContext:qt,use:Fu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};$l.useEffectEvent=ct;var jg={readContext:qt,use:Fu,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:Sg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Qu(4194308,4,Ig.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var r=sn();n=n===void 0?null:n;var l=t();if(Ur){Cn(!0);try{t()}finally{Cn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=sn();if(r!==void 0){var h=r(n);if(Ur){Cn(!0);try{r(n)}finally{Cn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=UA.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=bf(t);var n=t.queue,r=Pg.bind(null,Se,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(t,n){var r=sn();return Rf(r,t,n)},useTransition:function(){var t=bf(!1);return t=Mg.bind(null,Se,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Se,h=sn();if(Le){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),tt===null)throw Error(a(349));(De&127)!==0||og(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Sg(cg.bind(null,l,f,t),[t]),l.flags|=2048,Na(9,{destroy:void 0},ug.bind(null,l,f,r,n),null),r},useId:function(){var t=sn(),n=tt.identifierPrefix;if(Le){var r=Ei,l=Ti;r=(l&~(1<<32-ft(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=NA++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nf,useFormState:vg,useActionState:vg,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=xf.bind(null,Se,!0,r),r.dispatch=n,[t,n]},useMemoCache:Tf,useCacheRefresh:function(){return sn().memoizedState=kA.bind(null,Se)},useEffectEvent:function(t){var n=sn(),r={impl:t};return n.memoizedState=r,function(){if((Fe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Df={readContext:qt,use:Fu,useCallback:xg,useContext:qt,useEffect:wf,useImperativeHandle:Ng,useInsertionEffect:Cg,useLayoutEffect:Rg,useMemo:Dg,useReducer:Gu,useRef:bg,useState:function(){return Gu(qi)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=pt();return Og(r,Ze.memoizedState,t,n)},useTransition:function(){var t=Gu(qi)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:lg,useId:Ug,useHostTransitionStatus:Nf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,n){var r=pt();return dg(r,Ze,t,n)},useMemoCache:Tf,useCacheRefresh:Lg};Df.useEffectEvent=wg;var qg={readContext:qt,use:Fu,useCallback:xg,useContext:qt,useEffect:wf,useImperativeHandle:Ng,useInsertionEffect:Cg,useLayoutEffect:Rg,useMemo:Dg,useReducer:Af,useRef:bg,useState:function(){return Af(qi)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=pt();return Ze===null?Rf(r,t,n):Og(r,Ze.memoizedState,t,n)},useTransition:function(){var t=Af(qi)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:lg,useId:Ug,useHostTransitionStatus:Nf,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,n){var r=pt();return Ze!==null?dg(r,Ze,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Lg};qg.useEffectEvent=wg;function Of(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:b({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Sn(),h=ws(l);h.payload=n,r!=null&&(h.callback=r),n=Cs(t,h,l),n!==null&&(hn(n,t,l),Fl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Sn(),h=ws(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Cs(t,h,l),n!==null&&(hn(n,t,l),Fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Sn(),l=ws(r);l.tag=2,n!=null&&(l.callback=n),n=Cs(t,l,r),n!==null&&(hn(n,t,r),Fl(n,t,r))}};function Hg(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ul(r,l)||!Ul(h,f):!0}function Fg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Mf.enqueueReplaceState(n,n.state,null)}function Lr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=b({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Gg(t){Cu(t)}function Qg(t){console.error(t)}function Kg(t){Cu(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Yg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,n,r){return r=ws(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function Xg(t){return t=ws(t),t.tag=3,t}function $g(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Yg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Yg(n,r,l),typeof h!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function LA(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ea(n,r,h,!0),r=Tn.current,r!==null){switch(r.tag){case 31:case 13:return Un===null?lc():r.alternate===null&&ht===0&&(ht=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Uu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),rd(t,l,h)),!1;case 22:return r.flags|=65536,l===Uu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),rd(t,l,h)),!1}throw Error(a(435,r.tag))}return rd(t,l,h),lc(),!1}if(Le)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Jh&&(t=Error(a(422),{cause:l}),Bl(On(t,r)))):(l!==Jh&&(n=Error(a(423),{cause:l}),Bl(On(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,r),h=Vf(t.stateNode,l,h),cf(t,h),ht!==4&&(ht=2)),!1;var f=Error(a(520),{cause:l});if(f=On(f,r),so===null?so=[f]:so.push(f),ht!==4&&(ht=2),n===null)return!0;l=On(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Vf(r.stateNode,l,t),cf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Os===null||!Os.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Xg(h),$g(h,t,r,l),cf(r,h),!1}r=r.return}while(r!==null);return!1}var kf=Error(a(461)),St=!1;function Ht(t,n,r,l){n.child=t===null?eg(n,null,r,l):kr(n,t.child,r,l)}function Zg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Dr(n),l=gf(t,n,r,g,f,h),T=yf(),t!==null&&!St?(_f(t,n,h),Hi(t,n,h)):(Le&&T&&$h(n),n.flags|=1,Ht(t,n,l,h),n.child)}function Jg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Wg(t,n,f,l,h)):(t=xu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ul,r(g,l)&&t.ref===n.ref)return Hi(t,n,h)}return n.flags|=1,t=Li(f,l),t.ref=n.ref,t.return=n,n.child=t}function Wg(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Ul(f,l)&&t.ref===n.ref)if(St=!1,n.pendingProps=l=f,Hf(t,h))(t.flags&131072)!==0&&(St=!0);else return n.lanes=t.lanes,Hi(t,n,h)}return Uf(t,n,r,l,h)}function ey(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ty(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?ig(n,f):ff(),sg(n);else return l=n.lanes=536870912,ty(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Vu(n,f.cachePool),ig(n,f),Is(),n.memoizedState=null):(t!==null&&Vu(n,null),ff(),Is());return Ht(t,n,h,r),n.child}function Zl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(t,n,r,l,h){var f=af();return f=f===null?null:{parent:At._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Vu(n,null),ff(),sg(n),t!==null&&Ea(t,n,l,!0),n.childLanes=h,null}function $u(t,n){return n=Ju({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ny(t,n,r){return kr(n,t.child,null,r),t=$u(n,n.pendingProps),t.flags|=2,En(n),n.memoizedState=null,t}function PA(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=$u(n,l),n.lanes=536870912,Zl(null,t);if(mf(n),(t=it)?(t=m_(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},r=Bp(t),r.return=n,n.child=r,jt=n,it=null)):t=null,t===null)throw As(n);return n.lanes=536870912,null}return $u(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=ny(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(St||Ea(t,n,r,!1),h=(r&t.childLanes)!==0,St||h){if(l=tt,l!==null&&(g=_l(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Rr(t,g),hn(l,t,g),kf;lc(),n=ny(t,n,r)}else t=f.treeContext,it=Ln(g.nextSibling),jt=n,Le=!0,Es=null,kn=!1,t!==null&&qp(n,t),n=$u(n,l),n.flags|=4096;return n}return t=Li(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Uf(t,n,r,l,h){return Dr(n),r=gf(t,n,r,l,void 0,h),l=yf(),t!==null&&!St?(_f(t,n,h),Hi(t,n,h)):(Le&&l&&$h(n),n.flags|=1,Ht(t,n,r,h),n.child)}function iy(t,n,r,l,h,f){return Dr(n),n.updateQueue=null,r=ag(n,l,r,h),rg(t),l=yf(),t!==null&&!St?(_f(t,n,f),Hi(t,n,f)):(Le&&l&&$h(n),n.flags|=1,Ht(t,n,r,f),n.child)}function sy(t,n,r,l,h){if(Dr(n),n.stateNode===null){var f=ya,g=r.contextType;typeof g=="object"&&g!==null&&(f=qt(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},of(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?qt(g):ya,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Of(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Ql(n,l,f,h),Gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,I=Lr(r,T);f.props=I;var B=f.context,Q=r.contextType;g=ya,typeof Q=="object"&&Q!==null&&(g=qt(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==g)&&Fg(n,f,l,g),Ss=!1;var j=n.memoizedState;f.state=j,Ql(n,l,f,h),Gl(),B=n.memoizedState,T||j!==B||Ss?(typeof X=="function"&&(Of(n,r,X,l),B=n.memoizedState),(I=Ss||Hg(n,r,I,l,j,B,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uf(t,n),g=n.memoizedProps,Q=Lr(r,g),f.props=Q,X=n.pendingProps,j=f.context,B=r.contextType,I=ya,typeof B=="object"&&B!==null&&(I=qt(B)),T=r.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==I)&&Fg(n,f,l,I),Ss=!1,j=n.memoizedState,f.state=j,Ql(n,l,f,h),Gl();var F=n.memoizedState;g!==X||j!==F||Ss||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof T=="function"&&(Of(n,r,T,l),F=n.memoizedState),(Q=Ss||Hg(n,r,Q,l,j,F,I)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=kr(n,t.child,null,h),n.child=kr(n,null,r,h)):Ht(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Hi(t,n,h),t}function ry(t,n,r,l){return Nr(),n.flags|=256,Ht(t,n,r,l),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:Yp()}}function Bf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function ay(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(h?Rs(n):Is(),(t=it)?(t=m_(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},r=Bp(t),r.return=n,n.child=r,jt=n,it=null)):t=null,t===null)throw As(n);return Ed(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Is(),h=n.mode,T=Ju({mode:"hidden",children:T},h),l=Ir(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Pf(r),l.childLanes=Bf(t,g,r),n.memoizedState=Lf,Zl(null,l)):(Rs(n),zf(n,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(Rs(n),n.flags&=-257,n=jf(t,n,r)):n.memoizedState!==null?(Is(),n.child=t.child,n.flags|=128,n=null):(Is(),T=l.fallback,h=n.mode,l=Ju({mode:"visible",children:l.children},h),T=Ir(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,kr(n,t.child,null,r),l=n.child,l.memoizedState=Pf(r),l.childLanes=Bf(t,g,r),n.memoizedState=Lf,n=Zl(null,l));else if(Rs(n),Ed(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(a(419)),l.stack="",l.digest=g,Bl({value:l,source:null,stack:null}),n=jf(t,n,r)}else if(St||Ea(t,n,r,!1),g=(r&t.childLanes)!==0,St||g){if(g=tt,g!==null&&(l=_l(g,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Rr(t,l),hn(g,t,l),kf;Td(T)||lc(),n=jf(t,n,r)}else Td(T)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,it=Ln(T.nextSibling),jt=n,Le=!0,Es=null,kn=!1,t!==null&&qp(n,t),n=zf(n,l.children),n.flags|=4096);return n}return h?(Is(),T=l.fallback,h=n.mode,I=t.child,B=I.sibling,l=Li(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?T=Li(B,T):(T=Ir(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Zl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Pf(r):(h=T.cachePool,h!==null?(I=At._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Yp(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Bf(t,g,r),n.memoizedState=Lf,Zl(t.child,l)):(Rs(n),r=t.child,t=r.sibling,r=Li(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function zf(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=vn(22,t,null,n),t.lanes=0,t}function jf(t,n,r){return kr(n,t.child,null,r),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ly(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),tf(t.return,n,r)}function qf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function oy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=mt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,se(mt,g),Ht(t,n,l,r),l=Le?Pl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ly(t,r,n);else if(t.tag===19)ly(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&zu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),qf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}qf(n,!0,r,null,f,l);break;case"together":qf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Hi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ds|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ea(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Li(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Li(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Hf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function BA(t,n,r){switch(n.tag){case 3:xt(n,n.stateNode.containerInfo),bs(n,At,t.memoizedState.cache),Nr();break;case 27:case 5:ur(n);break;case 4:xt(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ay(t,n,r):(Rs(n),t=Hi(t,n,r),t!==null?t.sibling:null);Rs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ea(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return oy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(mt,mt.current),l)break;return null;case 22:return n.lanes=0,ey(t,n,r,n.pendingProps);case 24:bs(n,At,t.memoizedState.cache)}return Hi(t,n,r)}function uy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)St=!0;else{if(!Hf(t,r)&&(n.flags&128)===0)return St=!1,BA(t,n,r);St=(t.flags&131072)!==0}else St=!1,Le&&(n.flags&1048576)!==0&&jp(n,Pl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Mr(n.elementType),n.type=t,typeof t=="function")Kh(t)?(l=Lr(t,l),n.tag=1,n=sy(null,n,t,l,r)):(n.tag=0,n=Uf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===de){n.tag=11,n=Zg(null,n,t,l,r);break e}else if(h===N){n.tag=14,n=Jg(null,n,t,l,r);break e}}throw n=Ie(t)||t,Error(a(306,n,""))}}return n;case 0:return Uf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Lr(l,n.pendingProps),sy(t,n,l,h,r);case 3:e:{if(xt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),Ql(n,l,null,r);var g=n.memoizedState;if(l=g.cache,bs(n,At,l),l!==f.cache&&nf(n,[At],r,!0),Gl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ry(t,n,l,r);break e}else if(l!==h){h=On(Error(a(424)),n),Bl(h),n=ry(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Ln(t.firstChild),jt=n,Le=!0,Es=null,kn=!0,r=eg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Nr(),l===h){n=Hi(t,n,r);break e}Ht(t,n,l,r)}n=n.child}return n;case 26:return Zu(t,n),t===null?(r=T_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Le||(r=n.type,t=n.pendingProps,l=mc(we.current).createElement(r),l[vt]=n,l[kt]=t,Ft(l,r,t),Tt(l),n.stateNode=l):n.memoizedState=T_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ur(n),t===null&&Le&&(l=n.stateNode=y_(n.type,n.pendingProps,we.current),jt=n,kn=!0,h=it,Us(n.type)?(Ad=h,it=Ln(l.firstChild)):it=h),Ht(t,n,n.pendingProps.children,r),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Le&&((h=l=it)&&(l=p1(l,n.type,n.pendingProps,kn),l!==null?(n.stateNode=l,jt=n,it=Ln(l.firstChild),kn=!1,h=!0):h=!1),h||As(n)),ur(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,yd(h,f)?l=null:g!==null&&yd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(t,n,xA,null,null,r),fo._currentValue=h),Zu(t,n),Ht(t,n,l,r),n.child;case 6:return t===null&&Le&&((t=r=it)&&(r=g1(r,n.pendingProps,kn),r!==null?(n.stateNode=r,jt=n,it=null,t=!0):t=!1),t||As(n)),null;case 13:return ay(t,n,r);case 4:return xt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=kr(n,null,l,r):Ht(t,n,l,r),n.child;case 11:return Zg(t,n,n.type,n.pendingProps,r);case 7:return Ht(t,n,n.pendingProps,r),n.child;case 8:return Ht(t,n,n.pendingProps.children,r),n.child;case 12:return Ht(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,bs(n,n.type,l.value),Ht(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Dr(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,r),n.child;case 14:return Jg(t,n,n.type,n.pendingProps,r);case 15:return Wg(t,n,n.type,n.pendingProps,r);case 19:return oy(t,n,r);case 31:return PA(t,n,r);case 22:return ey(t,n,r,n.pendingProps);case 24:return Dr(n),l=qt(At),t===null?(h=af(),h===null&&(h=tt,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},of(n),bs(n,At,h)):((t.lanes&r)!==0&&(uf(t,n),Ql(n,null,null,r),Gl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),bs(n,At,l)):(l=f.cache,bs(n,At,l),l!==h.cache&&nf(n,[At],r,!0))),Ht(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Fi(t){t.flags|=4}function Ff(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw Vr=Uu,lf}else t.flags&=-16777217}function cy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!w_(n))if(Uy())t.flags|=8192;else throw Vr=Uu,lf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ru():536870912,t.lanes|=n,Ma|=n)}function Jl(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function zA(t,n,r){var l=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(n),null;case 1:return st(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(At),at(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ta(n)?Fi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),st(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Fi(n),f!==null?(st(n),cy(n,f)):(st(n),Ff(n,h,null,l,r))):f?f!==t.memoizedState?(Fi(n),st(n),cy(n,f)):(st(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Fi(n),st(n),Ff(n,h,t,l,r)),null;case 27:if(Jr(n),r=we.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return st(n),null}t=oe.current,Ta(n)?Hp(n):(t=y_(h,l,r),n.stateNode=t,Fi(n))}return st(n),null;case 5:if(Jr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return st(n),null}if(f=oe.current,Ta(n))Hp(n);else{var g=mc(we.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[vt]=n,f[kt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Fi(n)}}return st(n),Ff(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Fi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=we.current,Ta(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||a_(t.nodeValue,r)),t||As(n,!0)}else t=mc(t).createTextNode(l),t[vt]=n,n.stateNode=t}return st(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ta(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[vt]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),t=!1}else r=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(a(558))}return st(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ta(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[vt]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),h=!1}else h=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),st(n),null);case 4:return at(),t===null&&fd(n.stateNode.containerInfo),st(n),null;case 10:return zi(n.type),st(n),null;case 19:if(Z(mt),l=n.memoizedState,l===null)return st(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Jl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,Jl(l,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Pp(r,t),r=r.sibling;return se(mt,mt.current&1|2),Le&&Pi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&tn()>sc&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),Jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Le)return st(n),null}else 2*tn()-l.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,r=mt.current,se(mt,h?r&1|2:r&1),Le&&Pi(n,l.treeForkCount),t):(st(n),null);case 22:case 23:return En(n),df(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(st(n),n.subtreeFlags&6&&(n.flags|=8192)):st(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Z(Or),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),zi(At),st(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function jA(t,n){switch(Zh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return zi(At),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Jr(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(a(340));Nr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(En(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Nr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Z(mt),null;case 4:return at(),null;case 10:return zi(n.type),null;case 22:case 23:return En(n),df(),t!==null&&Z(Or),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return zi(At),null;case 25:return null;default:return null}}function hy(t,n){switch(Zh(n),n.tag){case 3:zi(At),at();break;case 26:case 27:case 5:Jr(n);break;case 4:at();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:Z(mt);break;case 10:zi(n.type);break;case 22:case 23:En(n),df(),t!==null&&Z(Or);break;case 24:zi(At)}}function Wl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(T){Xe(n,n.return,T)}}function Ns(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var I=r,B=T;try{B()}catch(Q){Xe(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){Xe(n,n.return,Q)}}function fy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ng(n,r)}catch(l){Xe(t,t.return,l)}}}function dy(t,n,r){r.props=Lr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xe(t,n,l)}}function eo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Xe(t,n,h)}}function Ai(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xe(t,n,h)}else r.current=null}function my(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Xe(t,t.return,h)}}function Gf(t,n,r){try{var l=t.stateNode;u1(l,t.type,r,n),l[kt]=n}catch(h){Xe(t,t.return,h)}}function py(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Gn));else if(l!==4&&(l===27&&Us(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,r),t=t.sibling;t!==null;)Kf(t,n,r),t=t.sibling}function ec(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Us(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ec(t,n,r),t=t.sibling;t!==null;)ec(t,n,r),t=t.sibling}function gy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,r),n[vt]=t,n[kt]=r}catch(f){Xe(t,t.return,f)}}var Gi=!1,wt=!1,Yf=!1,yy=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function qA(t,n){if(t=t.containerInfo,pd=Ec,t=Np(t),zh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,T=-1,I=-1,B=0,Q=0,X=t,j=null;t:for(;;){for(var F;X!==r||h!==0&&X.nodeType!==3||(T=g+h),X!==f||l!==0&&X.nodeType!==3||(I=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(F=X.firstChild)!==null;)j=X,X=F;for(;;){if(X===t)break t;if(j===r&&++B===h&&(T=g),j===f&&++Q===l&&(I=g),(F=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=F}r=T===-1||I===-1?null:{start:T,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:t,selectionRange:r},Ec=!1,Lt=n;Lt!==null;)if(n=Lt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Lt=t;else for(;Lt!==null;){switch(n=Lt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ue=Lr(r.type,h);t=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Xe(r,r.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)vd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Lt=t;break}Lt=n.return}}function _y(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ki(t,r),l&4&&Wl(5,r);break;case 1:if(Ki(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){Xe(r,r.return,g)}else{var h=Lr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Xe(r,r.return,g)}}l&64&&fy(r),l&512&&eo(r,r.return);break;case 3:if(Ki(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ng(t,n)}catch(g){Xe(r,r.return,g)}}break;case 27:n===null&&l&4&&gy(r);case 26:case 5:Ki(t,r),n===null&&l&4&&my(r),l&512&&eo(r,r.return);break;case 12:Ki(t,r);break;case 31:Ki(t,r),l&4&&Ey(t,r);break;case 13:Ki(t,r),l&4&&Ay(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ZA.bind(null,r),y1(t,r))));break;case 22:if(l=r.memoizedState!==null||Gi,!l){n=n!==null&&n.memoizedState!==null||wt,h=Gi;var f=wt;Gi=l,(wt=n)&&!f?Yi(t,r,(r.subtreeFlags&8772)!==0):Ki(t,r),Gi=h,wt=f}break;case 30:break;default:Ki(t,r)}}function vy(t){var n=t.alternate;n!==null&&(t.alternate=null,vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ia(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function Qi(t,n,r){for(r=r.child;r!==null;)Ty(t,n,r),r=r.sibling}function Ty(t,n,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(jn,r)}catch{}switch(r.tag){case 26:wt||Ai(r,n),Qi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:wt||Ai(r,n);var l=ot,h=ln;Us(r.type)&&(ot=r.stateNode,ln=!1),Qi(t,n,r),uo(r.stateNode),ot=l,ln=h;break;case 5:wt||Ai(r,n);case 6:if(l=ot,h=ln,ot=null,Qi(t,n,r),ot=l,ln=h,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(r.stateNode)}catch(f){Xe(r,n,f)}else try{ot.removeChild(r.stateNode)}catch(f){Xe(r,n,f)}break;case 18:ot!==null&&(ln?(t=ot,f_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ja(t)):f_(ot,r.stateNode));break;case 4:l=ot,h=ln,ot=r.stateNode.containerInfo,ln=!0,Qi(t,n,r),ot=l,ln=h;break;case 0:case 11:case 14:case 15:Ns(2,r,n),wt||Ns(4,r,n),Qi(t,n,r);break;case 1:wt||(Ai(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&dy(r,n,l)),Qi(t,n,r);break;case 21:Qi(t,n,r);break;case 22:wt=(l=wt)||r.memoizedState!==null,Qi(t,n,r),wt=l;break;default:Qi(t,n,r)}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ja(t)}catch(r){Xe(n,n.return,r)}}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ja(t)}catch(r){Xe(n,n.return,r)}}function HA(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new yy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new yy),n;default:throw Error(a(435,t.tag))}}function tc(t,n){var r=HA(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=JA.bind(null,t,l);l.then(h,h)}})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(Us(T.type)){ot=T.stateNode,ln=!1;break e}break;case 5:ot=T.stateNode,ln=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(ot===null)throw Error(a(160));Ty(f,g,h),ot=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,t),n=n.sibling}var Zn=null;function by(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Ns(3,t,t.return),Wl(3,t),Ns(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(wt||r===null||Ai(r,r.return)),l&64&&Gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Zn;if(on(n,t),un(t),l&512&&(wt||r===null||Ai(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[oi]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,r),f[vt]=t,Tt(f),l=f;break e;case"link":var g=b_("link","href",h).get(l+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(l),Ft(f,l,r),h.head.appendChild(f);break;case"meta":if(g=b_("meta","content",h).get(l+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break t}}f=h.createElement(l),Ft(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[vt]=t,Tt(f),l=f}t.stateNode=l}else S_(h,t.type,t.stateNode);else t.stateNode=A_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?S_(h,t.type,t.stateNode):A_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(wt||r===null||Ai(r,r.return)),r!==null&&l&4&&Gf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(wt||r===null||Ai(r,r.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(ue){Xe(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Gf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Yf=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ue){Xe(t,t.return,ue)}}break;case 3:if(yc=null,h=Zn,Zn=pc(n.containerInfo),on(n,t),Zn=h,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(ue){Xe(t,t.return,ue)}Yf&&(Yf=!1,Sy(t));break;case 4:l=Zn,Zn=pc(t.stateNode.containerInfo),on(n,t),un(t),Zn=l;break;case 12:on(n,t),un(t);break;case 31:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,B=Gi,Q=wt;if(Gi=B||h,wt=Q||I,on(n,t),wt=Q,Gi=B,un(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Gi||wt||Pr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ue){Xe(I,I.return,ue)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ue){Xe(I,I.return,ue)}}}else if(n.tag===18){if(r===null){I=n;try{var F=I.stateNode;h?d_(F,!0):d_(I.stateNode,!1)}catch(ue){Xe(I,I.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,tc(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(py(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Qf(t);ec(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(an(g,""),r.flags&=-33);var T=Qf(t);ec(t,T,g);break;case 3:case 4:var I=r.stateNode.containerInfo,B=Qf(t);Kf(t,B,I);break;default:throw Error(a(161))}}catch(Q){Xe(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_y(t,n.alternate,n),n=n.sibling}function Pr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ns(4,n,n.return),Pr(n);break;case 1:Ai(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&dy(n,n.return,r),Pr(n);break;case 27:uo(n.stateNode);case 26:case 5:Ai(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}t=t.sibling}}function Yi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,r),Wl(4,f);break;case 1:if(Yi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Xe(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)tg(I[h],T)}catch(B){Xe(l,l.return,B)}}r&&g&64&&fy(f),eo(f,f.return);break;case 27:gy(f);case 26:case 5:Yi(h,f,r),r&&l===null&&g&4&&my(f),eo(f,f.return);break;case 12:Yi(h,f,r);break;case 31:Yi(h,f,r),r&&g&4&&Ey(h,f);break;case 13:Yi(h,f,r),r&&g&4&&Ay(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,r),eo(f,f.return);break;case 30:break;default:Yi(h,f,r)}n=n.sibling}}function Xf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&zl(r))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zl(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wy(t,n,r,l),n=n.sibling}function wy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),h&2048&&Wl(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zl(t)));break;case 12:if(h&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(n,n.return,I)}}else Jn(t,n,r,l);break;case 31:Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):to(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,xa(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(g,n);break;case 24:Jn(t,n,r,l),h&2048&&$f(n.alternate,n);break;default:Jn(t,n,r,l)}}function xa(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=r,I=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:xa(f,g,T,I,h),Wl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?xa(f,g,T,I,h):to(f,g):(Q._visibility|=2,xa(f,g,T,I,h)),h&&B&2048&&Xf(g.alternate,g);break;case 24:xa(f,g,T,I,h),h&&B&2048&&$f(g.alternate,g);break;default:xa(f,g,T,I,h)}n=n.sibling}}function to(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:to(r,l),h&2048&&Xf(l.alternate,l);break;case 24:to(r,l),h&2048&&$f(l.alternate,l);break;default:to(r,l)}n=n.sibling}}var no=8192;function Da(t,n,r){if(t.subtreeFlags&no)for(t=t.child;t!==null;)Cy(t,n,r),t=t.sibling}function Cy(t,n,r){switch(t.tag){case 26:Da(t,n,r),t.flags&no&&t.memoizedState!==null&&N1(r,Zn,t.memoizedState,t.memoizedProps);break;case 5:Da(t,n,r);break;case 3:case 4:var l=Zn;Zn=pc(t.stateNode.containerInfo),Da(t,n,r),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=no,no=16777216,Da(t,n,r),no=l):Da(t,n,r));break;default:Da(t,n,r)}}function Ry(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function io(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Lt=l,Ny(l,t)}Ry(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iy(t),t=t.sibling}function Iy(t){switch(t.tag){case 0:case 11:case 15:io(t),t.flags&2048&&Ns(9,t,t.return);break;case 3:io(t);break;case 12:io(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):io(t);break;default:io(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Lt=l,Ny(l,t)}Ry(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ns(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function Ny(t,n){for(;Lt!==null;){var r=Lt;switch(r.tag){case 0:case 11:case 15:Ns(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Lt=l;else e:for(r=t;Lt!==null;){l=Lt;var h=l.sibling,f=l.return;if(vy(l),l===r){Lt=null;break e}if(h!==null){h.return=f,Lt=h;break e}Lt=f}}}var FA={getCacheForType:function(t){var n=qt(At),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return qt(At).controller.signal}},GA=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,Ne=null,De=0,Ye=0,An=null,xs=!1,Oa=!1,Zf=!1,Xi=0,ht=0,Ds=0,Br=0,Jf=0,bn=0,Ma=0,so=null,cn=null,Wf=!1,ic=0,xy=0,sc=1/0,rc=null,Os=null,Ot=0,Ms=null,Va=null,$i=0,ed=0,td=null,Dy=null,ro=0,nd=null;function Sn(){return(Fe&2)!==0&&De!==0?De&-De:K.T!==null?od():au()}function Oy(){if(bn===0)if((De&536870912)===0||Le){var t=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),bn=t}else bn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),bn}function hn(t,n,r){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(ka(t,0),Vs(t,De,bn,!1)),dr(t,r),((Fe&2)===0||t!==tt)&&(t===tt&&((Fe&2)===0&&(Br|=r),ht===4&&Vs(t,De,bn,!1)),bi(t))}function My(t,n,r){if((Fe&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||qn(t,n),h=l?YA(t,n):sd(t,n,!0),f=l;do{if(h===0){Oa&&!l&&Vs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!QA(r)){h=sd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=so;var I=T.current.memoizedState.isDehydrated;if(I&&(ka(T,g).flags|=256),g=sd(T,g,!1),g!==2){if(Zf&&!I){T.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ka(t,0),Vs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Vs(l,n,bn,!xs);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-tn(),10<h)){if(Vs(l,n,bn,!xs),ri(l,0,!0)!==0)break e;$i=n,l.timeoutHandle=c_(Vy.bind(null,l,r,cn,rc,Wf,n,bn,Br,Ma,xs,f,"Throttled",-0,0),h);break e}Vy(l,r,cn,rc,Wf,n,bn,Br,Ma,xs,f,null,-0,0)}}break}while(!0);bi(t)}function Vy(t,n,r,l,h,f,g,T,I,B,Q,X,j,F){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Cy(n,f,X);var ue=(f&62914560)===f?ic-tn():(f&4194048)===f?xy-tn():0;if(ue=x1(X,ue),ue!==null){$i=f,t.cancelPendingCommit=ue(qy.bind(null,t,n,f,r,l,h,g,T,I,Q,X,null,j,F)),Vs(t,f,g,!B);return}}qy(t,n,f,r,l,h,g,T,I)}function QA(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vs(t,n,r,l){n&=~Jf,n&=~Br,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-ft(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&mr(t,r,n)}function ac(){return(Fe&6)===0?(ao(0),!1):!0}function id(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,Bi=xr=null,vf(t),wa=null,ql=0,t=Ne;for(;t!==null;)hy(t.alternate,t),t=t.return;Ne=null}}function ka(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,f1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),$i=0,id(),tt=t,Ne=r=Li(t.current,null),De=n,Ye=0,An=null,xs=!1,Oa=qn(t,n),Zf=!1,Ma=bn=Jf=Br=Ds=ht=0,cn=so=null,Wf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ft(l),f=1<<h;n|=t[h],l&=~f}return Xi=n,Ru(),r}function ky(t,n){Se=null,K.H=$l,n===Sa||n===ku?(n=Zp(),Ye=3):n===lf?(n=Zp(),Ye=4):Ye=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Ne===null&&(ht=1,Xu(t,On(n,t.current)))}function Uy(){var t=Tn.current;return t===null?!0:(De&4194048)===De?Un===null:(De&62914560)===De||(De&536870912)!==0?t===Un:!1}function Ly(){var t=K.H;return K.H=$l,t===null?$l:t}function Py(){var t=K.A;return K.A=FA,t}function lc(){ht=4,xs||(De&4194048)!==De&&Tn.current!==null||(Oa=!0),(Ds&134217727)===0&&(Br&134217727)===0||tt===null||Vs(tt,De,bn,!1)}function sd(t,n,r){var l=Fe;Fe|=2;var h=Ly(),f=Py();(tt!==t||De!==n)&&(rc=null,ka(t,n)),n=!1;var g=ht;e:do try{if(Ye!==0&&Ne!==null){var T=Ne,I=An;switch(Ye){case 8:id(),g=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var B=Ye;if(Ye=0,An=null,Ua(t,T,I,B),r&&Oa){g=0;break e}break;default:B=Ye,Ye=0,An=null,Ua(t,T,I,B)}}KA(),g=ht;break}catch(Q){ky(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Bi=xr=null,Fe=l,K.H=h,K.A=f,Ne===null&&(tt=null,De=0,Ru()),g}function KA(){for(;Ne!==null;)By(Ne)}function YA(t,n){var r=Fe;Fe|=2;var l=Ly(),h=Py();tt!==t||De!==n?(rc=null,sc=tn()+500,ka(t,n)):Oa=qn(t,n);e:do try{if(Ye!==0&&Ne!==null){n=Ne;var f=An;t:switch(Ye){case 1:Ye=0,An=null,Ua(t,n,f,1);break;case 2:case 9:if(Xp(f)){Ye=0,An=null,zy(n);break}n=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),bi(t)},f.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Xp(f)?(Ye=0,An=null,zy(n)):(Ye=0,An=null,Ua(t,n,f,7));break;case 5:var g=null;switch(Ne.tag){case 26:g=Ne.memoizedState;case 5:case 27:var T=Ne;if(g?w_(g):T.stateNode.complete){Ye=0,An=null;var I=T.sibling;if(I!==null)Ne=I;else{var B=T.return;B!==null?(Ne=B,oc(B)):Ne=null}break t}}Ye=0,An=null,Ua(t,n,f,5);break;case 6:Ye=0,An=null,Ua(t,n,f,6);break;case 8:id(),ht=6;break e;default:throw Error(a(462))}}XA();break}catch(Q){ky(t,Q)}while(!0);return Bi=xr=null,K.H=l,K.A=h,Fe=r,Ne!==null?0:(tt=null,De=0,Ru(),ht)}function XA(){for(;Ne!==null&&!Mh();)By(Ne)}function By(t){var n=uy(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,n===null?oc(t):Ne=n}function zy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=iy(r,n,n.pendingProps,n.type,void 0,De);break;case 11:n=iy(r,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:vf(n);default:hy(r,n),n=Ne=Pp(n,Xi),n=uy(r,n,Xi)}t.memoizedProps=t.pendingProps,n===null?oc(t):Ne=n}function Ua(t,n,r,l){Bi=xr=null,vf(n),wa=null,ql=0;var h=n.return;try{if(LA(t,h,n,r,De)){ht=1,Xu(t,On(r,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;ht=1,Xu(t,On(r,t.current)),Ne=null;return}n.flags&32768?(Le||l===1?t=!0:Oa||(De&536870912)!==0?t=!1:(xs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jy(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){jy(n,xs);return}t=n.return;var r=zA(n.alternate,n,Xi);if(r!==null){Ne=r;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);ht===0&&(ht=5)}function jy(t,n){do{var r=jA(t.alternate,t);if(r!==null){r.flags&=32767,Ne=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=r}while(t!==null);ht=6,Ne=null}function qy(t,n,r,l,h,f,g,T,I){t.cancelPendingCommit=null;do uc();while(Ot!==0);if((Fe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Gh,Uh(t,r,f,g,T,I),t===tt&&(Ne=tt=null,De=0),Va=n,Ms=t,$i=r,ed=f,td=h,Dy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WA(cs,function(){return Ky(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ie.p,ie.p=2,g=Fe,Fe|=4;try{qA(t,n,r)}finally{Fe=g,ie.p=h,K.T=l}}Ot=1,Hy(),Fy(),Gy()}}function Hy(){if(Ot===1){Ot=0;var t=Ms,n=Va,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var l=ie.p;ie.p=2;var h=Fe;Fe|=4;try{by(n,t);var f=gd,g=Np(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Ip(T.ownerDocument.documentElement,T)){if(I!==null&&zh(T)){var B=I.start,Q=I.end;if(Q===void 0&&(Q=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var F=j.getSelection(),ue=T.textContent.length,pe=Math.min(I.start,ue),We=I.end===void 0?pe:Math.min(I.end,ue);!F.extend&&pe>We&&(g=We,We=pe,pe=g);var U=Rp(T,pe),M=Rp(T,We);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var P=X.createRange();P.setStart(U.node,U.offset),F.removeAllRanges(),pe>We?(F.addRange(P),F.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),F.addRange(P))}}}}for(X=[],F=T;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ec=!!pd,gd=pd=null}finally{Fe=h,ie.p=l,K.T=r}}t.current=n,Ot=2}}function Fy(){if(Ot===2){Ot=0;var t=Ms,n=Va,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var l=ie.p;ie.p=2;var h=Fe;Fe|=4;try{_y(t,n.alternate,n)}finally{Fe=h,ie.p=l,K.T=r}}Ot=3}}function Gy(){if(Ot===4||Ot===3){Ot=0,Wo();var t=Ms,n=Va,r=$i,l=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ot=5:(Ot=0,Va=Ms=null,Qy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Os=null),Mi(r),n=n.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=ie.p,ie.p=2,K.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{K.T=n,ie.p=h}}($i&3)!==0&&uc(),bi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===nd?ro++:(ro=0,nd=t):ro=0,ao(0)}}function Qy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,zl(n)))}function uc(){return Hy(),Fy(),Gy(),Ky()}function Ky(){if(Ot!==5)return!1;var t=Ms,n=ed;ed=0;var r=Mi($i),l=K.T,h=ie.p;try{ie.p=32>r?32:r,K.T=null,r=td,td=null;var f=Ms,g=$i;if(Ot=0,Va=Ms=null,$i=0,(Fe&6)!==0)throw Error(a(331));var T=Fe;if(Fe|=4,Iy(f.current),wy(f,f.current,g,r),Fe=T,ao(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{ie.p=h,K.T=l,Qy(t,n)}}function Yy(t,n,r){n=On(r,n),n=Vf(t.stateNode,n,2),t=Cs(t,n,2),t!==null&&(dr(t,2),bi(t))}function Xe(t,n,r){if(t.tag===3)Yy(t,t,r);else for(;n!==null;){if(n.tag===3){Yy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Os===null||!Os.has(l))){t=On(r,t),r=Xg(2),l=Cs(n,r,2),l!==null&&($g(r,l,n,t),dr(l,2),bi(l));break}}n=n.return}}function rd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new GA;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Zf=!0,h.add(r),t=$A.bind(null,t,n,r),n.then(t,t))}function $A(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,tt===t&&(De&r)===r&&(ht===4||ht===3&&(De&62914560)===De&&300>tn()-ic?(Fe&2)===0&&ka(t,0):Jf|=r,Ma===De&&(Ma=0)),bi(t)}function Xy(t,n){n===0&&(n=ru()),t=Rr(t,n),t!==null&&(dr(t,n),bi(t))}function ZA(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Xy(t,r)}function JA(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Xy(t,r)}function WA(t,n){return Dt(t,n)}var cc=null,La=null,ad=!1,hc=!1,ld=!1,ks=0;function bi(t){t!==La&&t.next===null&&(La===null?cc=La=t:La=La.next=t),hc=!0,ad||(ad=!0,t1())}function ao(t,n){if(!ld&&hc){ld=!0;do for(var r=!1,l=cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-ft(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Wy(l,f))}else f=De,f=ri(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||qn(l,f)||(r=!0,Wy(l,f));l=l.next}while(r);ld=!1}}function e1(){$y()}function $y(){hc=ad=!1;var t=0;ks!==0&&h1()&&(t=ks);for(var n=tn(),r=null,l=cc;l!==null;){var h=l.next,f=Zy(l,n);f===0?(l.next=null,r===null?cc=h:r.next=h,h===null&&(La=r)):(r=l,(t!==0||(f&3)!==0)&&(hc=!0)),l=h}Ot!==0&&Ot!==5||ao(t),ks!==0&&(ks=0)}function Zy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ft(f),T=1<<g,I=h[g];I===-1?((T&r)===0||(T&l)!==0)&&(h[g]=kh(T,n)):I<=n&&(t.expiredLanes|=T),f&=~T}if(n=tt,r=De,r=ri(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&us(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||qn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&us(l),Mi(r)){case 2:case 8:r=gl;break;case 32:r=cs;break;case 268435456:r=eu;break;default:r=cs}return l=Jy.bind(null,t),r=Dt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&us(l),t.callbackPriority=2,t.callbackNode=null,2}function Jy(t,n){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(uc()&&t.callbackNode!==r)return null;var l=De;return l=ri(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(My(t,l,n),Zy(t,tn()),t.callbackNode!=null&&t.callbackNode===r?Jy.bind(null,t):null)}function Wy(t,n){if(uc())return null;My(t,n,!0)}function t1(){d1(function(){(Fe&6)!==0?Dt(pl,e1):$y()})}function od(){if(ks===0){var t=Aa;t===0&&(t=ii,ii<<=1,(ii&261888)===0&&(ii=256)),ks=t}return ks}function e_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:la(""+t)}function t_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function n1(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=e_((h[kt]||null).action),g=l.submitter;g&&(n=(n=g[kt]||null)?e_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new gi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var I=g?t_(h,g):new FormData(h);If(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=g?t_(h,g):new FormData(h),If(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ud=0;ud<Fh.length;ud++){var cd=Fh[ud],i1=cd.toLowerCase(),s1=cd[0].toUpperCase()+cd.slice(1);$n(i1,"on"+s1)}$n(Op,"onAnimationEnd"),$n(Mp,"onAnimationIteration"),$n(Vp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(TA,"onTransitionRun"),$n(EA,"onTransitionStart"),$n(AA,"onTransitionCancel"),$n(kp,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function n_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=B;try{f(h)}catch(Q){Cu(Q)}h.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(T=l[g],I=T.instance,B=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=B;try{f(h)}catch(Q){Cu(Q)}h.currentTarget=null,f=I}}}}function xe(t,n){var r=n[na];r===void 0&&(r=n[na]=new Set);var l=t+"__bubble";r.has(l)||(i_(n,t,2,!1),r.add(l))}function hd(t,n,r){var l=0;n&&(l|=4),i_(r,t,l,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[fc]){t[fc]=!0,vl.forEach(function(r){r!=="selectionchange"&&(r1.has(r)||hd(r,!1,t),hd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,hd("selectionchange",!1,n))}}function i_(t,n,r,l){switch(O_(n)){case 2:var h=M1;break;case 8:h=V1;break;default:h=Rd}r=h.bind(null,n,r,t),h=void 0,!vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function dd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=ui(T),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue e}T=T.parentNode}}l=l.return}gs(function(){var B=f,Q=In(r),X=[];e:{var j=Up.get(t);if(j!==void 0){var F=gi,ue=t;switch(t){case"keypress":if(Er(r)===0)break e;case"keydown":case"keyup":F=bu;break;case"focusin":ue="focus",F=br;break;case"focusout":ue="blur",F=br;break;case"beforeblur":case"afterblur":F=br;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Op:case Mp:case Vp:F=gu;break;case kp:F=A;break;case"scroll":case"scrollend":F=Dl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ui;break;case"toggle":case"beforetoggle":F=be}var pe=(n&4)!==0,We=!pe&&(t==="scroll"||t==="scrollend"),U=pe?j!==null?j+"Capture":null:j;pe=[];for(var M=B,P;M!==null;){var Y=M;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||U===null||(Y=Qn(M,U),Y!=null&&pe.push(oo(M,Y,P))),We)break;M=M.return}0<pe.length&&(j=new F(j,ue,null,r,Q),X.push({event:j,listeners:pe}))}}if((n&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",j&&r!==Il&&(ue=r.relatedTarget||r.fromElement)&&(ui(ue)||ue[li]))break e;if((F||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ue=r.relatedTarget||r.toElement,F=B,ue=ue?ui(ue):null,ue!==null&&(We=c(ue),pe=ue.tag,ue!==We||pe!==5&&pe!==27&&pe!==6)&&(ue=null)):(F=null,ue=B),F!==ue)){if(pe=Ol,Y="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Ui,Y="onPointerLeave",U="onPointerEnter",M="pointer"),We=F==null?j:gn(F),P=ue==null?j:gn(ue),j=new pe(Y,M+"leave",F,r,Q),j.target=We,j.relatedTarget=P,Y=null,ui(Q)===B&&(pe=new pe(U,M+"enter",ue,r,Q),pe.target=P,pe.relatedTarget=We,Y=pe),We=Y,F&&ue)t:{for(pe=a1,U=F,M=ue,P=0,Y=U;Y;Y=pe(Y))P++;Y=0;for(var he=M;he;he=pe(he))Y++;for(;0<P-Y;)U=pe(U),P--;for(;0<Y-P;)M=pe(M),Y--;for(;P--;){if(U===M||M!==null&&U===M.alternate){pe=U;break t}U=pe(U),M=pe(M)}pe=null}else pe=null;F!==null&&s_(X,j,F,pe,!1),ue!==null&&We!==null&&s_(X,We,ue,pe,!0)}}e:{if(j=B?gn(B):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var je=Ep;else if(vp(j))if(Ap)je=yA;else{je=pA;var ce=mA}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&aa(B.elementType)&&(je=Ep):je=gA;if(je&&(je=je(t,B))){Tp(X,je,r,Q);break e}ce&&ce(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&wl(j,"number",j.value)}switch(ce=B?gn(B):window,t){case"focusin":(vp(ce)||ce.contentEditable==="true")&&(ma=ce,jh=B,Ll=null);break;case"focusout":Ll=jh=ma=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,xp(X,r,Q);break;case"selectionchange":if(vA)break;case"keydown":case"keyup":xp(X,r,Q)}var Ce;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else da?Sr(t,r)&&(Oe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Oe="onCompositionStart");Oe&&(vi&&r.locale!=="ko"&&(da||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&da&&(Ce=xl()):(pi=Q,Nl="value"in pi?pi.value:pi.textContent,da=!0)),ce=dc(B,Oe),0<ce.length&&(Oe=new _i(Oe,t,null,r,Q),X.push({event:Oe,listeners:ce}),Ce?Oe.data=Ce:(Ce=fa(r),Ce!==null&&(Oe.data=Ce)))),(Ce=xn?cA(t,r):hA(t,r))&&(Oe=dc(B,"onBeforeInput"),0<Oe.length&&(ce=new _i("onBeforeInput","beforeinput",null,r,Q),X.push({event:ce,listeners:Oe}),ce.data=Ce)),n1(X,t,B,r,Q)}n_(X,n)})}function oo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function dc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(t,r),h!=null&&l.unshift(oo(t,h,f)),h=Qn(t,n),h!=null&&l.push(oo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function a1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function s_(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var T=r,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=Qn(r,f),B!=null&&g.unshift(oo(r,B,I))):h||(B=Qn(r,f),B!=null&&g.push(oo(r,B,I)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var l1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function r_(t){return(typeof t=="string"?t:""+t).replace(l1,`
`).replace(o1,"")}function a_(t,n){return n=r_(n),r_(t)===n}function Je(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,r,l);break;case"style":Rl(t,l,f);break;case"data":if(n!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=la(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Je(t,n,"name",h.name,h,null),Je(t,n,"formEncType",h.formEncType,h,null),Je(t,n,"formMethod",h.formMethod,h,null),Je(t,n,"formTarget",h.formTarget,h,null)):(Je(t,n,"encType",h.encType,h,null),Je(t,n,"method",h.method,h,null),Je(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=la(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=la(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),sa(t,"popover",l);break;case"xlinkActuate":Et(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Et(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Et(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Et(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Et(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Et(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Et(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,sa(t,r,l))}}function md(t,n,r,l,h,f){switch(r){case"style":Rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[kt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):sa(t,r,l)}}}function Ft(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Je(t,n,f,g,r,null)}}h&&Je(t,n,"srcSet",r.srcSet,r,null),l&&Je(t,n,"src",r.src,r,null);return;case"input":xe("invalid",t);var T=f=g=h=null,I=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":g=Q;break;case"checked":I=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Je(t,n,l,Q,r,null)}}cu(t,f,T,I,B,g,h,!1);return;case"select":xe("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:Je(t,n,h,T,r,null)}n=f,r=g,t.multiple=!!l,n!=null?fs(t,!!l,n,!1):r!=null&&fs(t,!!l,r,!0);return;case"textarea":xe("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Je(t,n,g,T,r,null)}ds(t,l,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,n,I,l,r,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<lo.length;l++)xe(lo[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Je(t,n,B,l,r,null)}return;default:if(aa(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&md(t,n,Q,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Je(t,n,T,l,r,null))}function u1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,I=null,B=null,Q=null;for(F in r){var X=r[F];if(r.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(F)||Je(t,n,F,null,l,X)}}for(var j in l){var F=l[j];if(X=r[j],l.hasOwnProperty(j)&&(F!=null||X!=null))switch(j){case"type":f=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":Q=F;break;case"value":g=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==X&&Je(t,n,j,F,l,X)}}ra(t,g,T,I,B,Q,f,h);return;case"select":F=g=T=j=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(f)||Je(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==I&&Je(t,n,h,f,l,I)}n=T,r=g,l=F,j!=null?fs(t,!!r,j,!1):!!l!=!!r&&(n!=null?fs(t,!!r,n,!0):fs(t,!!r,r?[]:"",!1));return;case"textarea":F=j=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,n,T,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Je(t,n,g,h,l,f)}hu(t,j,F);return;case"option":for(var ue in r)if(j=r[ue],r.hasOwnProperty(ue)&&j!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Je(t,n,ue,null,l,j)}for(I in l)if(j=l[I],F=r[I],l.hasOwnProperty(I)&&j!==F&&(j!=null||F!=null))switch(I){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Je(t,n,I,j,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in r)j=r[pe],r.hasOwnProperty(pe)&&j!=null&&!l.hasOwnProperty(pe)&&Je(t,n,pe,null,l,j);for(B in l)if(j=l[B],F=r[B],l.hasOwnProperty(B)&&j!==F&&(j!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Je(t,n,B,j,l,F)}return;default:if(aa(n)){for(var We in r)j=r[We],r.hasOwnProperty(We)&&j!==void 0&&!l.hasOwnProperty(We)&&md(t,n,We,void 0,l,j);for(Q in l)j=l[Q],F=r[Q],!l.hasOwnProperty(Q)||j===F||j===void 0&&F===void 0||md(t,n,Q,j,l,F);return}}for(var U in r)j=r[U],r.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&Je(t,n,U,null,l,j);for(X in l)j=l[X],F=r[X],!l.hasOwnProperty(X)||j===F||j==null&&F==null||Je(t,n,X,j,l,F)}function l_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function c1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&l_(g)){for(g=0,T=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],B=I.startTime;if(B>T)break;var Q=I.transferSize,X=I.initiatorType;Q&&l_(X)&&(I=I.responseEnd,g+=Q*(I<T?1:(T-B)/(I-B)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,gd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function o_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function h1(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,f1=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(t){return h_.resolve(null).then(t).catch(m1)}:c_;function m1(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function f_(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),ja(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")uo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,uo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[oi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&uo(t.ownerDocument.body);r=h}while(r);ja(n)}function d_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vd(r),ia(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function p1(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[oi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function g1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function m_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ln(t.nextSibling),t===null))return null;return t}function Td(t){return t.data==="$?"||t.data==="$~"}function Ed(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function y1(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ad=null;function p_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Ln(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function g_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function y_(t,n,r){switch(n=mc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function uo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ia(t)}var Pn=new Map,__=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=ie.d;ie.d={f:_1,r:v1,D:T1,C:E1,L:A1,m:b1,X:w1,S:S1,M:C1};function _1(){var t=Zi.f(),n=ac();return t||n}function v1(t){var n=Rn(t);n!==null&&n.tag===5&&n.type==="form"?kg(n):Zi.r(t)}var Pa=typeof document>"u"?null:document;function v_(t,n,r){var l=Pa;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),__.has(h)||(__.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),Tt(n),l.head.appendChild(n)))}}function T1(t){Zi.D(t),v_("dns-prefetch",t,null)}function E1(t,n){Zi.C(t,n),v_("preconnect",t,n)}function A1(t,n,r){Zi.L(t,n,r);var l=Pa;if(l&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+rn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+rn(r.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(n){case"style":f=Ba(t);break;case"script":f=za(t)}Pn.has(f)||(t=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Pn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(co(f))||n==="script"&&l.querySelector(ho(f))||(n=l.createElement("link"),Ft(n,"link",t),Tt(n),l.head.appendChild(n)))}}function b1(t,n){Zi.m(t,n);var r=Pa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(t)}if(!Pn.has(f)&&(t=b({rel:"modulepreload",href:t},n),Pn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ho(f)))return}l=r.createElement("link"),Ft(l,"link",t),Tt(l),r.head.appendChild(l)}}}function S1(t,n,r){Zi.S(t,n,r);var l=Pa;if(l&&t){var h=ci(l).hoistableStyles,f=Ba(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(co(f)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Pn.get(f))&&bd(t,r);var I=g=l.createElement("link");Tt(I),Ft(I,"link",t),I._p=new Promise(function(B,Q){I.onload=B,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function w1(t,n){Zi.X(t,n);var r=Pa;if(r&&t){var l=ci(r).hoistableScripts,h=za(t),f=l.get(h);f||(f=r.querySelector(ho(h)),f||(t=b({src:t,async:!0},n),(n=Pn.get(h))&&Sd(t,n),f=r.createElement("script"),Tt(f),Ft(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function C1(t,n){Zi.M(t,n);var r=Pa;if(r&&t){var l=ci(r).hoistableScripts,h=za(t),f=l.get(h);f||(f=r.querySelector(ho(h)),f||(t=b({src:t,async:!0,type:"module"},n),(n=Pn.get(h))&&Sd(t,n),f=r.createElement("script"),Tt(f),Ft(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function T_(t,n,r,l){var h=(h=we.current)?pc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ba(r.href),r=ci(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ba(r.href);var f=ci(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(co(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Pn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Pn.set(t,r),f||R1(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(r),r=ci(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ba(t){return'href="'+rn(t)+'"'}function co(t){return'link[rel="stylesheet"]['+t+"]"}function E_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function R1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",r),Tt(n),t.head.appendChild(n))}function za(t){return'[src="'+rn(t)+'"]'}function ho(t){return"script[async]"+t}function A_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(r.href)+'"]');if(l)return n.instance=l,Tt(l),l;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Ft(l,"style",h),gc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Ba(r.href);var f=t.querySelector(co(h));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;l=E_(r),(h=Pn.get(h))&&bd(l,h),f=(t.ownerDocument||t).createElement("link"),Tt(f);var g=f;return g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),Ft(f,"link",l),n.state.loading|=4,gc(f,r.precedence,t),n.instance=f;case"script":return f=za(r.src),(h=t.querySelector(ho(f)))?(n.instance=h,Tt(h),h):(l=r,(h=Pn.get(f))&&(l=b({},r),Sd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,gc(l,r.precedence,t));return n.instance}function gc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function b_(t,n,r){if(yc===null){var l=new Map,h=yc=new Map;h.set(r,l)}else h=yc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[oi]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function S_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function I1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function w_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function N1(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ba(l.href),f=n.querySelector(co(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Tt(f);return}f=n.ownerDocument||n,l=E_(l),(h=Pn.get(h))&&bd(l,h),f=f.createElement("link"),Tt(f);var g=f;g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),Ft(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=_c.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var wd=0;function x1(t,n){return t.stylesheets&&t.count===0&&Tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wd===0&&(wd=62500*c1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function Tc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(D1,t),vc=null,_c.call(t))}function D1(t,n){if(!(n.state.loading&4)){var r=vc.get(t);if(r)var l=r.get(null);else{r=new Map,vc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var fo={$$typeof:te,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function O1(t,n,r,l,h,f,g,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function C_(t,n,r,l,h,f,g,T,I,B,Q,X){return t=new O1(t,n,r,g,I,B,Q,X,T),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),t.current=f,f.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},of(f),t}function R_(t){return t?(t=ya,t):ya}function I_(t,n,r,l,h,f){h=R_(h),l.context===null?l.context=h:l.pendingContext=h,l=ws(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Cs(t,l,n),r!==null&&(hn(r,t,n),Fl(r,t,n))}function N_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cd(t,n){N_(t,n),(t=t.alternate)&&N_(t,n)}function x_(t){if(t.tag===13||t.tag===31){var n=Rr(t,67108864);n!==null&&hn(n,t,67108864),Cd(t,67108864)}}function D_(t){if(t.tag===13||t.tag===31){var n=Sn();n=pr(n);var r=Rr(t,n);r!==null&&hn(r,t,n),Cd(t,n)}}var Ec=!0;function M1(t,n,r,l){var h=K.T;K.T=null;var f=ie.p;try{ie.p=2,Rd(t,n,r,l)}finally{ie.p=f,K.T=h}}function V1(t,n,r,l){var h=K.T;K.T=null;var f=ie.p;try{ie.p=8,Rd(t,n,r,l)}finally{ie.p=f,K.T=h}}function Rd(t,n,r,l){if(Ec){var h=Id(l);if(h===null)dd(t,n,l,Ac,r),M_(t,l);else if(U1(h,t,n,r,l))l.stopPropagation();else if(M_(t,l),n&4&&-1<k1.indexOf(t)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=si(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var I=1<<31-ft(g);T.entanglements[1]|=I,g&=~I}bi(f),(Fe&6)===0&&(sc=tn()+500,ao(0))}}break;case 31:case 13:T=Rr(f,2),T!==null&&hn(T,f,2),ac(),Cd(f,2)}if(f=Id(l),f===null&&dd(t,n,l,Ac,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else dd(t,n,l,null,r)}}function Id(t){return t=In(t),Nd(t)}var Ac=null;function Nd(t){if(Ac=null,t=ui(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function O_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case pl:return 2;case gl:return 8;case cs:case Vh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var xd=!1,Ls=null,Ps=null,Bs=null,mo=new Map,po=new Map,zs=[],k1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M_(t,n){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function go(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&x_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function U1(t,n,r,l,h){switch(n){case"focusin":return Ls=go(Ls,t,n,r,l,h),!0;case"dragenter":return Ps=go(Ps,t,n,r,l,h),!0;case"mouseover":return Bs=go(Bs,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return mo.set(f,go(mo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,po.set(f,go(po.get(f)||null,t,n,r,l,h)),!0}return!1}function V_(t){var n=ui(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Hn(t.priority,function(){D_(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,Hn(t.priority,function(){D_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Id(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Il=l,r.target.dispatchEvent(l),Il=null}else return n=Rn(r),n!==null&&x_(n),t.blockedOn=r,!1;n.shift()}return!0}function k_(t,n,r){bc(t)&&r.delete(n)}function L1(){xd=!1,Ls!==null&&bc(Ls)&&(Ls=null),Ps!==null&&bc(Ps)&&(Ps=null),Bs!==null&&bc(Bs)&&(Bs=null),mo.forEach(k_),po.forEach(k_)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,xd||(xd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,L1)))}var wc=null;function U_(t){wc!==t&&(wc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Nd(l||r)===null)continue;break}var f=Rn(r);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function ja(t){function n(I){return Sc(I,t)}Ls!==null&&Sc(Ls,t),Ps!==null&&Sc(Ps,t),Bs!==null&&Sc(Bs,t),mo.forEach(n),po.forEach(n);for(var r=0;r<zs.length;r++){var l=zs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zs.length&&(r=zs[0],r.blockedOn===null);)V_(r),r.blockedOn===null&&zs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[kt]||null;if(typeof f=="function")g||U_(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[kt]||null)T=g.formAction;else if(Nd(h)!==null)continue}else T=g.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),U_(r)}}}function L_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(t){this._internalRoot=t}Cc.prototype.render=Dd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Sn();I_(r,l,t,n,null,null)},Cc.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;I_(t.current,2,null,t,null,null),ac(),n[li]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var r=0;r<zs.length&&n!==0&&n<zs[r].priority;r++);zs.splice(r,0,t),r===0&&V_(t)}};var P_=e.version;if(P_!=="19.2.0")throw Error(a(527,P_,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var P1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{jn=Rc.inject(P1),Bt=Rc}catch{}}return _o.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Gg,f=Qg,g=Kg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=C_(t,1,!1,null,null,r,l,null,h,f,g,L_),t[li]=n.current,fd(t),new Dd(n)},_o.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Gg,g=Qg,T=Kg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=C_(t,1,!0,n,r??null,l,h,I,f,g,T,L_),n.context=R_(null),r=n.current,l=Sn(),l=pr(l),h=ws(l),h.callback=null,Cs(r,h,l),r=l,n.current.lanes=r,dr(n,r),bi(n),t[li]=n.current,fd(t),new Cc(n)},_o.version="19.2.0",_o}var Y_;function Y1(){if(Y_)return Vd.exports;Y_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vd.exports=K1(),Vd.exports}var X1=Y1();const $1=()=>{};var X_={};const V0=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Z1=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},k0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,E=c>>2,b=(c&3)<<4|p>>4;let R=(p&15)<<2|_>>6,q=_&63;y||(q=64,d||(R=64)),a.push(i[E],i[b],i[R],i[q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(V0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Z1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const b=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||_==null||b==null)throw new J1;const R=c<<2|p>>4;if(a.push(R),_!==64){const q=p<<4&240|_>>2;if(a.push(q),b!==64){const G=_<<6&192|b;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class J1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W1=function(s){const e=V0(s);return k0.encodeByteArray(e,!0)},Gc=function(s){return W1(s).replace(/\./g,"")},U0=function(s){try{return k0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tb=()=>eb().__FIREBASE_DEFAULTS__,nb=()=>{if(typeof process>"u"||typeof X_>"u")return;const s=X_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ib=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&U0(s[1]);return e&&JSON.parse(e)},hh=()=>{try{return $1()||tb()||nb()||ib()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},L0=s=>hh()?.emulatorHosts?.[s],sb=s=>{const e=L0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},P0=()=>hh()?.config,B0=s=>hh()?.[`_${s}`];class rb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function rl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z0(s){return(await fetch(s,{credentials:"include"})).ok}function ab(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const bo={};function lb(){const s={prod:[],emulator:[]};for(const e of Object.keys(bo))bo[e]?s.emulator.push(e):s.prod.push(e);return s}function ob(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let $_=!1;function j0(s,e){if(typeof window>"u"||typeof document>"u"||!rl(window.location.host)||bo[s]===e||bo[s]||$_)return;bo[s]=e;function i(R){return`__firebase__banner__${R}`}const a="__firebase__banner",c=lb().prod.length>0;function d(){const R=document.getElementById(a);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,q){R.setAttribute("width","24"),R.setAttribute("id",q),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function _(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{$_=!0,d()},R}function E(R,q){R.setAttribute("id",q),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=ob(a),q=i("text"),G=document.getElementById(q)||document.createElement("span"),W=i("learnmore"),z=document.getElementById(W)||document.createElement("a"),ee=i("preprendIcon"),re=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const te=R.element;p(te),E(z,W);const de=_();y(re,ee),te.append(re,G,z,de),document.body.appendChild(te)}c?(G.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ub(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function cb(){const s=hh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function db(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mb(){const s=Wt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function pb(){return!cb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gb(){try{return typeof indexedDB=="object"}catch{return!1}}function yb(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const _b="FirebaseError";class os extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=_b,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?vb(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new os(o,p,a)}}function vb(s,e){return s.replace(Tb,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Tb=/\{\$([^}]+)}/g;function Eb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Fr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(Z_(c)&&Z_(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Z_(s){return s!==null&&typeof s=="object"}function Bo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ab(s,e){const i=new bb(s,e);return i.subscribe.bind(i)}class bb{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Sb(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Pd),o.error===void 0&&(o.error=Pd),o.complete===void 0&&(o.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sb(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Pd(){}function Vt(s){return s&&s._delegate?s._delegate:s}class Gr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zr="[DEFAULT]";class wb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new rb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rb(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Cb(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cb(s){return s===zr?void 0:s}function Rb(s){return s.instantiationMode==="EAGER"}class Ib{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new wb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const Nb={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},xb=Ve.INFO,Db={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Ob=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=Db[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Im{constructor(e){this.name=e,this._logLevel=xb,this._logHandler=Ob,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Mb=(s,e)=>e.some(i=>s instanceof i);let J_,W_;function Vb(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kb(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q0=new WeakMap,Wd=new WeakMap,H0=new WeakMap,Bd=new WeakMap,Nm=new WeakMap;function Ub(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ys(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&q0.set(i,s)}).catch(()=>{}),Nm.set(e,s),e}function Lb(s){if(Wd.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Wd.set(s,e)}let em={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Wd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||H0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Pb(s){em=s(em)}function Bb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(zd(this),e,...i);return H0.set(a,e.sort?e.sort():[e]),Ys(a)}:kb().includes(s)?function(...e){return s.apply(zd(this),e),Ys(q0.get(this))}:function(...e){return Ys(s.apply(zd(this),e))}}function zb(s){return typeof s=="function"?Bb(s):(s instanceof IDBTransaction&&Lb(s),Mb(s,Vb())?new Proxy(s,em):s)}function Ys(s){if(s instanceof IDBRequest)return Ub(s);if(Bd.has(s))return Bd.get(s);const e=zb(s);return e!==s&&(Bd.set(s,e),Nm.set(e,s)),e}const zd=s=>Nm.get(s);function jb(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=Ys(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Ys(d.result),y.oldVersion,y.newVersion,Ys(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const qb=["get","getKey","getAll","getAllKeys","count"],Hb=["put","add","delete","clear"],jd=new Map;function ev(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=Hb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||qb.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return jd.set(e,c),c}Pb(s=>({...s,get:(e,i,a)=>ev(e,i)||s.get(e,i,a),has:(e,i)=>!!ev(e,i)||s.has(e,i)}));class Fb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Gb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Gb(s){return s.getComponent()?.type==="VERSION"}const tm="@firebase/app",tv="0.14.6";const ns=new Im("@firebase/app"),Qb="@firebase/app-compat",Kb="@firebase/analytics-compat",Yb="@firebase/analytics",Xb="@firebase/app-check-compat",$b="@firebase/app-check",Zb="@firebase/auth",Jb="@firebase/auth-compat",Wb="@firebase/database",eS="@firebase/data-connect",tS="@firebase/database-compat",nS="@firebase/functions",iS="@firebase/functions-compat",sS="@firebase/installations",rS="@firebase/installations-compat",aS="@firebase/messaging",lS="@firebase/messaging-compat",oS="@firebase/performance",uS="@firebase/performance-compat",cS="@firebase/remote-config",hS="@firebase/remote-config-compat",fS="@firebase/storage",dS="@firebase/storage-compat",mS="@firebase/firestore",pS="@firebase/ai",gS="@firebase/firestore-compat",yS="firebase",_S="12.6.0";const nm="[DEFAULT]",vS={[tm]:"fire-core",[Qb]:"fire-core-compat",[Yb]:"fire-analytics",[Kb]:"fire-analytics-compat",[$b]:"fire-app-check",[Xb]:"fire-app-check-compat",[Zb]:"fire-auth",[Jb]:"fire-auth-compat",[Wb]:"fire-rtdb",[eS]:"fire-data-connect",[tS]:"fire-rtdb-compat",[nS]:"fire-fn",[iS]:"fire-fn-compat",[sS]:"fire-iid",[rS]:"fire-iid-compat",[aS]:"fire-fcm",[lS]:"fire-fcm-compat",[oS]:"fire-perf",[uS]:"fire-perf-compat",[cS]:"fire-rc",[hS]:"fire-rc-compat",[fS]:"fire-gcs",[dS]:"fire-gcs-compat",[mS]:"fire-fst",[gS]:"fire-fst-compat",[pS]:"fire-vertex","fire-js":"fire-js",[yS]:"fire-js-all"};const Qc=new Map,TS=new Map,im=new Map;function nv(s,e){try{s.container.addComponent(e)}catch(i){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ja(s){const e=s.name;if(im.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,s);for(const i of Qc.values())nv(i,s);for(const i of TS.values())nv(i,s);return!0}function xm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Bn(s){return s==null?!1:s.settings!==void 0}const ES={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Po("app","Firebase",ES);class AS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const al=_S;function F0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:nm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(i||(i=P0()),!i)throw Xs.create("no-options");const c=Qc.get(o);if(c){if(Fr(i,c.options)&&Fr(a,c.config))return c;throw Xs.create("duplicate-app",{appName:o})}const d=new Ib(o);for(const y of im.values())d.addComponent(y);const p=new AS(i,a,d);return Qc.set(o,p),p}function G0(s=nm){const e=Qc.get(s);if(!e&&s===nm&&P0())return F0();if(!e)throw Xs.create("no-app",{appName:s});return e}function $s(s,e,i){let a=vS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}Ja(new Gr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const bS="firebase-heartbeat-database",SS=1,No="firebase-heartbeat-store";let qd=null;function Q0(){return qd||(qd=jb(bS,SS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(No)}catch(i){console.warn(i)}}}}).catch(s=>{throw Xs.create("idb-open",{originalErrorMessage:s.message})})),qd}async function wS(s){try{const i=(await Q0()).transaction(No),a=await i.objectStore(No).get(K0(s));return await i.done,a}catch(e){if(e instanceof os)ns.warn(e.message);else{const i=Xs.create("idb-get",{originalErrorMessage:e?.message});ns.warn(i.message)}}}async function iv(s,e){try{const a=(await Q0()).transaction(No,"readwrite");await a.objectStore(No).put(e,K0(s)),await a.done}catch(i){if(i instanceof os)ns.warn(i.message);else{const a=Xs.create("idb-set",{originalErrorMessage:i?.message});ns.warn(a.message)}}}function K0(s){return`${s.name}!${s.options.appId}`}const CS=1024,RS=30;class IS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=sv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>RS){const o=DS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sv(),{heartbeatsToSend:i,unsentEntries:a}=NS(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ns.warn(e),""}}}function sv(){return new Date().toISOString().substring(0,10)}function NS(s,e=CS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),rv(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),rv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class xS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gb()?yb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await wS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function rv(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function DS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function OS(s){Ja(new Gr("platform-logger",e=>new Fb(e),"PRIVATE")),Ja(new Gr("heartbeat",e=>new IS(e),"PRIVATE")),$s(tm,tv,s),$s(tm,tv,"esm2020"),$s("fire-js","")}OS("");var MS="firebase",VS="12.6.0";$s(MS,VS,"app");function Y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kS=Y0,X0=new Po("auth","Firebase",Y0());const Kc=new Im("@firebase/auth");function US(s,...e){Kc.logLevel<=Ve.WARN&&Kc.warn(`Auth (${al}): ${s}`,...e)}function kc(s,...e){Kc.logLevel<=Ve.ERROR&&Kc.error(`Auth (${al}): ${s}`,...e)}function is(s,...e){throw Dm(s,...e)}function Ci(s,...e){return Dm(s,...e)}function $0(s,e,i){const a={...kS(),[e]:i};return new Po("auth","Firebase",a).create(e,{appName:s.name})}function ts(s){return $0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return X0.create(s,...e)}function ye(s,e,...i){if(!s)throw Dm(e,...i)}function Wi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw kc(e),new Error(e)}function ss(s,e){s||Wi(e)}function sm(){return typeof self<"u"&&self.location?.href||""}function LS(){return av()==="http:"||av()==="https:"}function av(){return typeof self<"u"&&self.location?.protocol||null}function PS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LS()||fb()||"connection"in navigator)?navigator.onLine:!0}function BS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class zo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ss(i>e,"Short delay should be less than long delay!"),this.isMobile=ub()||db()}get(){return PS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(s,e){ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Z0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qS=new zo(3e4,6e4);function jo(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ll(s,e,i,a,o={}){return J0(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Bo({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return hb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&rl(s.emulatorConfig.host)&&(_.credentials="include"),Z0.fetch()(await W0(s,s.config.apiHost,i,p),_)})}async function J0(s,e,i){s._canInitEmulator=!1;const a={...zS,...e};try{const o=new HS(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ic(s,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw $0(s,E,_);is(s,E)}}catch(o){if(o instanceof os)throw o;is(s,"network-request-failed",{message:String(o)})}}async function Mm(s,e,i,a,o={}){const c=await ll(s,e,i,a,o);return"mfaPendingCredential"in c&&is(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function W0(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Om(s.config,o):`${s.config.apiScheme}://${o}`;return jS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class HS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ci(this.auth,"network-request-failed")),qS.get())})}}function Ic(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ci(s,e,a);return o.customData._tokenResponse=i,o}async function FS(s,e){return ll(s,"POST","/v1/accounts:delete",e)}async function Yc(s,e){return ll(s,"POST","/v1/accounts:lookup",e)}function So(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GS(s,e=!1){const i=Vt(s),a=await i.getIdToken(e),o=Vm(a);ye(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:So(Hd(o.auth_time)),issuedAtTime:So(Hd(o.iat)),expirationTime:So(Hd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(s){return Number(s)*1e3}function Vm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=U0(i);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function lv(s){const e=Vm(s);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof os&&QS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function QS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class KS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(s){const e=s.auth,i=await s.getIdToken(),a=await xo(s,Yc(e,{idToken:i}));ye(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?eT(o.providerUserInfo):[],d=XS(s.providerData,c),p=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,E)}async function YS(s){const e=Vt(s);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XS(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function eT(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function $S(s,e){const i=await J0(s,{},async()=>{const a=Bo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await W0(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&rl(s.emulatorConfig.host)&&(y.credentials="include"),Z0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ZS(s,e){return ll(s,"POST","/v2/accounts:revokeToken",jo(s,e))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const i=lv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await $S(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ya;return a&&(ye(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(ye(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(ye(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function qs(s,e){ye(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new KS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await xo(this,this.stsTokenManager.getToken(this.auth,e));return ye(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return GS(this,e)}reload(){return YS(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(ts(this.auth));const e=await this.getIdToken();return await xo(this,FS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:b,emailVerified:R,isAnonymous:q,providerData:G,stsTokenManager:W}=i;ye(b&&W,e,"internal-error");const z=Ya.fromJSON(this.name,W);ye(typeof b=="string",e,"internal-error"),qs(a,e.name),qs(o,e.name),ye(typeof R=="boolean",e,"internal-error"),ye(typeof q=="boolean",e,"internal-error"),qs(c,e.name),qs(d,e.name),qs(p,e.name),qs(y,e.name),qs(_,e.name),qs(E,e.name);const ee=new Wn({uid:b,auth:e,email:o,emailVerified:R,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:z,createdAt:_,lastLoginAt:E});return G&&Array.isArray(G)&&(ee.providerData=G.map(re=>({...re}))),y&&(ee._redirectEventId=y),ee}static async _fromIdTokenResponse(e,i,a=!1){const o=new Ya;o.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];ye(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?eT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Ya;p.updateFromIdToken(a);const y=new Wn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const ov=new Map;function es(s){ss(s instanceof Function,"Expected a class definition");let e=ov.get(s);return e?(ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,ov.set(s,e),e)}class tT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}tT.type="NONE";const uv=tT;function Uc(s,e,i){return`firebase:${s}:${e}:${i}`}class Xa{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Uc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Yc(this.auth,{idToken:e}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Xa(es(uv),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||es(uv);const d=Uc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let b;if(typeof E=="string"){const R=await Yc(e,{idToken:E}).catch(()=>{});if(!R)break;b=await Wn._fromGetAccountInfoResponse(e,R,E)}else b=Wn._fromJSON(e,E);_!==c&&(p=b),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Xa(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Xa(c,e,a))}}function cv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lT(e))return"Blackberry";if(oT(e))return"Webos";if(iT(e))return"Safari";if((e.includes("chrome/")||sT(e))&&!e.includes("edge/"))return"Chrome";if(aT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function nT(s=Wt()){return/firefox\//i.test(s)}function iT(s=Wt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sT(s=Wt()){return/crios\//i.test(s)}function rT(s=Wt()){return/iemobile/i.test(s)}function aT(s=Wt()){return/android/i.test(s)}function lT(s=Wt()){return/blackberry/i.test(s)}function oT(s=Wt()){return/webos/i.test(s)}function km(s=Wt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function JS(s=Wt()){return km(s)&&!!window.navigator?.standalone}function WS(){return mb()&&document.documentMode===10}function uT(s=Wt()){return km(s)||aT(s)||oT(s)||lT(s)||/windows phone/i.test(s)||rT(s)}function cT(s,e=[]){let i;switch(s){case"Browser":i=cv(Wt());break;case"Worker":i=`${cv(Wt())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${al}/${a}`}class ew{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function tw(s,e={}){return ll(s,"GET","/v2/passwordPolicy",jo(s,e))}const nw=6;class iw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??nw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class sw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hv(this),this.idTokenSubscription=new hv(this),this.beforeStateQueue=new ew(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=es(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Yc(this,{idToken:e}),a=await Wn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(ts(this));const i=e?Vt(e):null;return i&&ye(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tw(this),i=new iw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await ZS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&es(e)||this._popupRedirectResolver;ye(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[es(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&US(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qo(s){return Vt(s)}class hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ab(i=>this.observer=i)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rw(s){Um=s}function aw(s){return Um.loadJS(s)}function lw(){return Um.gapiScript}function ow(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function uw(s,e){const i=xm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Fr(c,e??{}))return o;is(o,"already-initialized")}return i.initialize({options:e})}function cw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(es);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function hw(s,e,i){const a=qo(s);ye(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=hT(e),{host:d,port:p}=fw(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ye(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ye(Fr(_,a.config.emulator)&&Fr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,rl(d)?(z0(`${c}//${d}${y}`),j0("Auth",!0)):dw()}function hT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function fw(s){const e=hT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:fv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:fv(d)}}}function fv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function dw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class fT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,i){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function $a(s,e){return Mm(s,"POST","/v1/accounts:signInWithIdp",jo(s,e))}const mw="http://localhost";class Qr extends fT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):is("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Qr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return $a(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,$a(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,$a(e,i)}buildRequest(){const e={requestUri:mw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Bo(i)}return e}}class dT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ho extends dT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hs extends Ho{constructor(){super("facebook.com")}static credential(e){return Qr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class Fs extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Qr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Fs.credential(i,a)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";class Gs extends Ho{constructor(){super("github.com")}static credential(e){return Qr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Qs extends Ho{constructor(){super("twitter.com")}static credential(e,i){return Qr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Qs.credential(i,a)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";async function pw(s,e){return Mm(s,"POST","/v1/accounts:signUp",jo(s,e))}class rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Wn._fromIdTokenResponse(e,a,o),d=dv(a);return new rs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=dv(a);return new rs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function dv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function mv(s){if(Bn(s.app))return Promise.reject(ts(s));const e=qo(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new rs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await pw(e,{returnSecureToken:!0}),a=await rs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class $c extends os{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new $c(e,i,a,o)}}function mT(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(s,c,e,a):c})}async function gw(s,e,i=!1){const a=await xo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return rs._forOperation(s,"link",a)}async function yw(s,e,i=!1){const{auth:a}=s;if(Bn(a.app))return Promise.reject(ts(a));const o="reauthenticate";try{const c=await xo(s,mT(a,o,e,s),i);ye(c.idToken,a,"internal-error");const d=Vm(c.idToken);ye(d,a,"internal-error");const{sub:p}=d;return ye(s.uid===p,a,"user-mismatch"),rs._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&is(a,"user-mismatch"),c}}async function _w(s,e,i=!1){if(Bn(s.app))return Promise.reject(ts(s));const a="signIn",o=await mT(s,a,e),c=await rs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function vw(s,e){return Mm(s,"POST","/v1/accounts:signInWithCustomToken",jo(s,e))}async function Tw(s,e){if(Bn(s.app))return Promise.reject(ts(s));const i=qo(s),a=await vw(i,{token:e,returnSecureToken:!0}),o=await rs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function Ew(s,e,i,a){return Vt(s).onIdTokenChanged(e,i,a)}function Aw(s,e,i){return Vt(s).beforeAuthStateChanged(e,i)}function bw(s,e,i,a){return Vt(s).onAuthStateChanged(e,i,a)}const Zc="__sak";class pT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sw=1e3,ww=10;class gT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);WS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ww):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}gT.type="LOCAL";const Cw=gT;class yT extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}yT.type="SESSION";const _T=yT;function Rw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new fh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await Rw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Lm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Iw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Lm("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===_)switch(R.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(R.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function Nw(s){Ri().location.href=s}function vT(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function xw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dw(){return navigator?.serviceWorker?.controller||null}function Ow(){return vT()?self:null}const TT="firebaseLocalStorageDb",Mw=1,Jc="firebaseLocalStorage",ET="fbase_key";class Fo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(s,e){return s.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function Vw(){const s=indexedDB.deleteDatabase(TT);return new Fo(s).toPromise()}function am(){const s=indexedDB.open(TT,Mw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Jc,{keyPath:ET})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Jc)?e(a):(a.close(),await Vw(),e(await am()))})})}async function pv(s,e,i){const a=dh(s,!0).put({[ET]:e,value:i});return new Fo(a).toPromise()}async function kw(s,e){const i=dh(s,!1).get(e),a=await new Fo(i).toPromise();return a===void 0?null:a.value}function gv(s,e){const i=dh(s,!0).delete(e);return new Fo(i).toPromise()}const Uw=800,Lw=3;class AT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Lw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(Ow()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xw(),!this.activeServiceWorker)return;this.sender=new Iw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await pv(e,Zc,"1"),await gv(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>pv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>kw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>gv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=dh(o,!1).getAll();return new Fo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Uw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AT.type="LOCAL";const Pw=AT;new zo(3e4,6e4);function Bw(s,e){return e?es(e):(ye(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Pm extends fT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,i){return $a(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function zw(s){return _w(s.auth,new Pm(s),s.bypassAuthState)}function jw(s){const{auth:e,user:i}=s;return ye(i,e,"internal-error"),yw(i,new Pm(s),s.bypassAuthState)}async function qw(s){const{auth:e,user:i}=s;return ye(i,e,"internal-error"),gw(i,new Pm(s),s.bypassAuthState)}class bT{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zw;case"linkViaPopup":case"linkViaRedirect":return qw;case"reauthViaPopup":case"reauthViaRedirect":return jw;default:is(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hw=new zo(2e3,1e4);class Ka extends bT{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hw.get())};e()}}Ka.currentPopupAction=null;const Fw="pendingRedirect",Lc=new Map;class Gw extends bT{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const a=await Qw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qw(s,e){const i=Xw(e),a=Yw(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Kw(s,e){Lc.set(s._key(),e)}function Yw(s){return es(s._redirectPersistence)}function Xw(s){return Uc(Fw,s.config.apiKey,s.name)}async function $w(s,e,i=!1){if(Bn(s.app))return Promise.reject(ts(s));const a=qo(s),o=Bw(a,e),d=await new Gw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Zw=600*1e3;class Jw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ww(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!ST(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ci(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zw&&this.cachedEventUids.clear(),this.cachedEventUids.has(yv(e))}saveEventToCache(e){this.cachedEventUids.add(yv(e)),this.lastProcessedEventTime=Date.now()}}function yv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function ST({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Ww(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(s);default:return!1}}async function eC(s,e={}){return ll(s,"GET","/v1/projects",e)}const tC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nC=/^https?/;async function iC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await eC(s);for(const i of e)try{if(sC(i))return}catch{}is(s,"unauthorized-domain")}function sC(s){const e=sm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!nC.test(i))return!1;if(tC.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const rC=new zo(3e4,6e4);function _v(){const s=Ri().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function aC(s){return new Promise((e,i)=>{function a(){_v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_v(),i(Ci(s,"network-request-failed"))},timeout:rC.get()})}if(Ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ri().gapi?.load)a();else{const o=ow("iframefcb");return Ri()[o]=()=>{gapi.load?a():i(Ci(s,"network-request-failed"))},aw(`${lw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function lC(s){return Pc=Pc||aC(s),Pc}const oC=new zo(5e3,15e3),uC="__/auth/iframe",cC="emulator/auth/iframe",hC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dC(s){const e=s.config;ye(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Om(e,cC):`https://${s.config.authDomain}/${uC}`,a={apiKey:e.apiKey,appName:s.name,v:al},o=fC.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bo(a).slice(1)}`}async function mC(s){const e=await lC(s),i=Ri().gapi;return ye(i,s,"internal-error"),e.open({where:document.body,url:dC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hC,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ci(s,"network-request-failed"),p=Ri().setTimeout(()=>{c(d)},oC.get());function y(){Ri().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const pC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gC=500,yC=600,_C="_blank",vC="http://localhost";class vv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TC(s,e,i,a=gC,o=yC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...pC,width:a.toString(),height:o.toString(),top:c,left:d},_=Wt().toLowerCase();i&&(p=sT(_)?_C:i),nT(_)&&(e=e||vC,y.scrollbars="yes");const E=Object.entries(y).reduce((R,[q,G])=>`${R}${q}=${G},`,"");if(JS(_)&&p!=="_self")return EC(e||"",p),new vv(null);const b=window.open(e||"",p,E);ye(b,s,"popup-blocked");try{b.focus()}catch{}return new vv(b)}function EC(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const AC="__/auth/handler",bC="emulator/auth/handler",SC=encodeURIComponent("fac");async function Tv(s,e,i,a,o,c){ye(s.config.authDomain,s,"auth-domain-config-required"),ye(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:al,eventId:o};if(e instanceof dT){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Eb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))d[E]=b}if(e instanceof Ho){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await s._getAppCheckToken(),_=y?`#${SC}=${encodeURIComponent(y)}`:"";return`${wC(s)}?${Bo(p).slice(1)}${_}`}function wC({config:s}){return s.emulator?Om(s,bC):`https://${s.authDomain}/${AC}`}const Fd="webStorageSupport";class CC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_T,this._completeRedirectFn=$w,this._overrideRedirectResult=Kw}async _openPopup(e,i,a,o){ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Tv(e,i,a,sm(),o);return TC(e,c,Lm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await Tv(e,i,a,sm(),o);return Nw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await mC(e),a=new Jw(e);return i.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Fd,{type:Fd},o=>{const c=o?.[0]?.[Fd];c!==void 0&&i(!!c),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=iC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return uT()||iT()||km()}}const RC=CC;var Ev="@firebase/auth",Av="1.11.1";class IC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function NC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xC(s){Ja(new Gr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;ye(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cT(s)},_=new sw(a,o,c,y);return cw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Ja(new Gr("auth-internal",e=>{const i=qo(e.getProvider("auth").getImmediate());return(a=>new IC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(Ev,Av,NC(s)),$s(Ev,Av,"esm2020")}const DC=300,OC=B0("authIdTokenMaxAge")||DC;let bv=null;const MC=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>OC)return;const o=i?.token;bv!==o&&(bv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VC(s=G0()){const e=xm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=uw(s,{popupRedirectResolver:RC,persistence:[Pw,Cw,_T]}),a=B0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=MC(c.toString());Aw(i,d,()=>d(i.currentUser)),Ew(i,p=>d(p))}}const o=L0("auth");return o&&hw(i,`http://${o}`),i}function kC(){return document.getElementsByTagName("head")?.[0]??document}rw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Ci("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",kC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xC("Browser");var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zs,wT;(function(){var s;function e(N,C){function S(){}S.prototype=C.prototype,N.F=C.prototype,N.prototype=new S,N.prototype.constructor=N,N.D=function(O,D,k){for(var w=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)w[Ie-2]=arguments[Ie];return C.prototype[D].apply(O,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,C,S){S||(S=0);const O=Array(16);if(typeof C=="string")for(var D=0;D<16;++D)O[D]=C.charCodeAt(S++)|C.charCodeAt(S++)<<8|C.charCodeAt(S++)<<16|C.charCodeAt(S++)<<24;else for(D=0;D<16;++D)O[D]=C[S++]|C[S++]<<8|C[S++]<<16|C[S++]<<24;C=N.g[0],S=N.g[1],D=N.g[2];let k=N.g[3],w;w=C+(k^S&(D^k))+O[0]+3614090360&4294967295,C=S+(w<<7&4294967295|w>>>25),w=k+(D^C&(S^D))+O[1]+3905402710&4294967295,k=C+(w<<12&4294967295|w>>>20),w=D+(S^k&(C^S))+O[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=S+(C^D&(k^C))+O[3]+3250441966&4294967295,S=D+(w<<22&4294967295|w>>>10),w=C+(k^S&(D^k))+O[4]+4118548399&4294967295,C=S+(w<<7&4294967295|w>>>25),w=k+(D^C&(S^D))+O[5]+1200080426&4294967295,k=C+(w<<12&4294967295|w>>>20),w=D+(S^k&(C^S))+O[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=S+(C^D&(k^C))+O[7]+4249261313&4294967295,S=D+(w<<22&4294967295|w>>>10),w=C+(k^S&(D^k))+O[8]+1770035416&4294967295,C=S+(w<<7&4294967295|w>>>25),w=k+(D^C&(S^D))+O[9]+2336552879&4294967295,k=C+(w<<12&4294967295|w>>>20),w=D+(S^k&(C^S))+O[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=S+(C^D&(k^C))+O[11]+2304563134&4294967295,S=D+(w<<22&4294967295|w>>>10),w=C+(k^S&(D^k))+O[12]+1804603682&4294967295,C=S+(w<<7&4294967295|w>>>25),w=k+(D^C&(S^D))+O[13]+4254626195&4294967295,k=C+(w<<12&4294967295|w>>>20),w=D+(S^k&(C^S))+O[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=S+(C^D&(k^C))+O[15]+1236535329&4294967295,S=D+(w<<22&4294967295|w>>>10),w=C+(D^k&(S^D))+O[1]+4129170786&4294967295,C=S+(w<<5&4294967295|w>>>27),w=k+(S^D&(C^S))+O[6]+3225465664&4294967295,k=C+(w<<9&4294967295|w>>>23),w=D+(C^S&(k^C))+O[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=S+(k^C&(D^k))+O[0]+3921069994&4294967295,S=D+(w<<20&4294967295|w>>>12),w=C+(D^k&(S^D))+O[5]+3593408605&4294967295,C=S+(w<<5&4294967295|w>>>27),w=k+(S^D&(C^S))+O[10]+38016083&4294967295,k=C+(w<<9&4294967295|w>>>23),w=D+(C^S&(k^C))+O[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=S+(k^C&(D^k))+O[4]+3889429448&4294967295,S=D+(w<<20&4294967295|w>>>12),w=C+(D^k&(S^D))+O[9]+568446438&4294967295,C=S+(w<<5&4294967295|w>>>27),w=k+(S^D&(C^S))+O[14]+3275163606&4294967295,k=C+(w<<9&4294967295|w>>>23),w=D+(C^S&(k^C))+O[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=S+(k^C&(D^k))+O[8]+1163531501&4294967295,S=D+(w<<20&4294967295|w>>>12),w=C+(D^k&(S^D))+O[13]+2850285829&4294967295,C=S+(w<<5&4294967295|w>>>27),w=k+(S^D&(C^S))+O[2]+4243563512&4294967295,k=C+(w<<9&4294967295|w>>>23),w=D+(C^S&(k^C))+O[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=S+(k^C&(D^k))+O[12]+2368359562&4294967295,S=D+(w<<20&4294967295|w>>>12),w=C+(S^D^k)+O[5]+4294588738&4294967295,C=S+(w<<4&4294967295|w>>>28),w=k+(C^S^D)+O[8]+2272392833&4294967295,k=C+(w<<11&4294967295|w>>>21),w=D+(k^C^S)+O[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=S+(D^k^C)+O[14]+4259657740&4294967295,S=D+(w<<23&4294967295|w>>>9),w=C+(S^D^k)+O[1]+2763975236&4294967295,C=S+(w<<4&4294967295|w>>>28),w=k+(C^S^D)+O[4]+1272893353&4294967295,k=C+(w<<11&4294967295|w>>>21),w=D+(k^C^S)+O[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=S+(D^k^C)+O[10]+3200236656&4294967295,S=D+(w<<23&4294967295|w>>>9),w=C+(S^D^k)+O[13]+681279174&4294967295,C=S+(w<<4&4294967295|w>>>28),w=k+(C^S^D)+O[0]+3936430074&4294967295,k=C+(w<<11&4294967295|w>>>21),w=D+(k^C^S)+O[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=S+(D^k^C)+O[6]+76029189&4294967295,S=D+(w<<23&4294967295|w>>>9),w=C+(S^D^k)+O[9]+3654602809&4294967295,C=S+(w<<4&4294967295|w>>>28),w=k+(C^S^D)+O[12]+3873151461&4294967295,k=C+(w<<11&4294967295|w>>>21),w=D+(k^C^S)+O[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=S+(D^k^C)+O[2]+3299628645&4294967295,S=D+(w<<23&4294967295|w>>>9),w=C+(D^(S|~k))+O[0]+4096336452&4294967295,C=S+(w<<6&4294967295|w>>>26),w=k+(S^(C|~D))+O[7]+1126891415&4294967295,k=C+(w<<10&4294967295|w>>>22),w=D+(C^(k|~S))+O[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=S+(k^(D|~C))+O[5]+4237533241&4294967295,S=D+(w<<21&4294967295|w>>>11),w=C+(D^(S|~k))+O[12]+1700485571&4294967295,C=S+(w<<6&4294967295|w>>>26),w=k+(S^(C|~D))+O[3]+2399980690&4294967295,k=C+(w<<10&4294967295|w>>>22),w=D+(C^(k|~S))+O[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=S+(k^(D|~C))+O[1]+2240044497&4294967295,S=D+(w<<21&4294967295|w>>>11),w=C+(D^(S|~k))+O[8]+1873313359&4294967295,C=S+(w<<6&4294967295|w>>>26),w=k+(S^(C|~D))+O[15]+4264355552&4294967295,k=C+(w<<10&4294967295|w>>>22),w=D+(C^(k|~S))+O[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=S+(k^(D|~C))+O[13]+1309151649&4294967295,S=D+(w<<21&4294967295|w>>>11),w=C+(D^(S|~k))+O[4]+4149444226&4294967295,C=S+(w<<6&4294967295|w>>>26),w=k+(S^(C|~D))+O[11]+3174756917&4294967295,k=C+(w<<10&4294967295|w>>>22),w=D+(C^(k|~S))+O[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=S+(k^(D|~C))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,C){C===void 0&&(C=N.length);const S=C-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<C;){if(D==0)for(;k<=S;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<C;)if(O[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,O),D=0;break}}else for(;k<C;)if(O[D++]=N[k++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=C},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var S=N.length-8;S<N.length;++S)N[S]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,S=0;S<4;++S)for(let O=0;O<32;O+=8)N[C++]=this.g[S]>>>O&255;return N};function c(N,C){var S=p;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=C(N)}function d(N,C){this.h=C;const S=[];let O=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;O&&k==C||(S[D]=k,O=!1)}this.g=S}var p={};function y(N){return-128<=N&&N<128?c(N,function(C){return new d([C|0],C<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return z(_(-N));const C=[];let S=1;for(let O=0;N>=S;O++)C[O]=N/S|0,S*=4294967296;return new d(C,0)}function E(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return z(E(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=_(Math.pow(C,8));let O=b;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const w=parseInt(N.substring(k,k+D),C);D<8?(D=_(Math.pow(C,D)),O=O.j(D).add(_(w))):(O=O.j(S),O=O.add(_(w)))}return O}var b=y(0),R=y(1),q=y(16777216);s=d.prototype,s.m=function(){if(W(this))return-z(this).m();let N=0,C=1;for(let S=0;S<this.g.length;S++){const O=this.i(S);N+=(O>=0?O:4294967296+O)*C,C*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(W(this))return"-"+z(this).toString(N);const C=_(Math.pow(N,6));var S=this;let O="";for(;;){const D=de(S,C).g;S=ee(S,D.j(C));let k=((S.g.length>0?S.g[0]:S.h)>>>0).toString(N);if(S=D,G(S))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function W(N){return N.h==-1}s.l=function(N){return N=ee(this,N),W(N)?-1:G(N)?0:1};function z(N){const C=N.g.length,S=[];for(let O=0;O<C;O++)S[O]=~N.g[O];return new d(S,~N.h).add(R)}s.abs=function(){return W(this)?z(this):this},s.add=function(N){const C=Math.max(this.g.length,N.g.length),S=[];let O=0;for(let D=0;D<=C;D++){let k=O+(this.i(D)&65535)+(N.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);O=w>>>16,k&=65535,w&=65535,S[D]=w<<16|k}return new d(S,S[S.length-1]&-2147483648?-1:0)};function ee(N,C){return N.add(z(C))}s.j=function(N){if(G(this)||G(N))return b;if(W(this))return W(N)?z(this).j(z(N)):z(z(this).j(N));if(W(N))return z(this.j(z(N)));if(this.l(q)<0&&N.l(q)<0)return _(this.m()*N.m());const C=this.g.length+N.g.length,S=[];for(var O=0;O<2*C;O++)S[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<N.g.length;D++){const k=this.i(O)>>>16,w=this.i(O)&65535,Ie=N.i(D)>>>16,et=N.i(D)&65535;S[2*O+2*D]+=w*et,re(S,2*O+2*D),S[2*O+2*D+1]+=k*et,re(S,2*O+2*D+1),S[2*O+2*D+1]+=w*Ie,re(S,2*O+2*D+1),S[2*O+2*D+2]+=k*Ie,re(S,2*O+2*D+2)}for(N=0;N<C;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=C;N<2*C;N++)S[N]=0;return new d(S,0)};function re(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function te(N,C){this.g=N,this.h=C}function de(N,C){if(G(C))throw Error("division by zero");if(G(N))return new te(b,b);if(W(N))return C=de(z(N),C),new te(z(C.g),z(C.h));if(W(C))return C=de(N,z(C)),new te(z(C.g),C.h);if(N.g.length>30){if(W(N)||W(C))throw Error("slowDivide_ only works with positive integers.");for(var S=R,O=C;O.l(N)<=0;)S=Re(S),O=Re(O);var D=_e(S,1),k=_e(O,1);for(O=_e(O,2),S=_e(S,2);!G(O);){var w=k.add(O);w.l(N)<=0&&(D=D.add(S),k=w),O=_e(O,1),S=_e(S,1)}return C=ee(N,D.j(C)),new te(D,C)}for(D=b;N.l(C)>=0;){for(S=Math.max(1,Math.floor(N.m()/C.m())),O=Math.ceil(Math.log(S)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=_(S),w=k.j(C);W(w)||w.l(N)>0;)S-=O,k=_(S),w=k.j(C);G(k)&&(k=R),D=D.add(k),N=ee(N,w)}return new te(D,N)}s.B=function(N){return de(this,N).h},s.and=function(N){const C=Math.max(this.g.length,N.g.length),S=[];for(let O=0;O<C;O++)S[O]=this.i(O)&N.i(O);return new d(S,this.h&N.h)},s.or=function(N){const C=Math.max(this.g.length,N.g.length),S=[];for(let O=0;O<C;O++)S[O]=this.i(O)|N.i(O);return new d(S,this.h|N.h)},s.xor=function(N){const C=Math.max(this.g.length,N.g.length),S=[];for(let O=0;O<C;O++)S[O]=this.i(O)^N.i(O);return new d(S,this.h^N.h)};function Re(N){const C=N.g.length+1,S=[];for(let O=0;O<C;O++)S[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(S,N.h)}function _e(N,C){const S=C>>5;C%=32;const O=N.g.length-S,D=[];for(let k=0;k<O;k++)D[k]=C>0?N.i(k+S)>>>C|N.i(k+S+1)<<32-C:N.i(k+S);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,wT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Zs=d}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CT,vo,RT,Bc,lm,IT,NT,xT;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break e;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,H){for(var ne=Array(arguments.length-2),be=2;be<arguments.length;be++)ne[be-2]=arguments[be];return m.prototype[L].apply(A,ne)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function G(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const H=L.length||0;u.length=v+H;for(let ne=0;ne<H;ne++)u[v+ne]=L[ne]}else u.push(L)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(u){d.setTimeout(()=>{throw u},0)}function ee(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class re{constructor(){this.h=this.g=null}add(m,v){const A=te.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var te=new W(()=>new de,u=>u.reset());class de{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,_e=!1,N=new re,C=()=>{const u=Promise.resolve(void 0);Re=()=>{u.then(S)}};function S(){for(var u;u=ee();){try{u.h.call(u.g)}catch(v){z(v)}var m=te;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}_e=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Ie(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Ie,D),Ie.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var et="closure_listenable_"+(Math.random()*1e6|0),K=0;function ie(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++K,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ze(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Qe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let H=0;H<Z.length;H++)v=Z[H],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,m,v,A,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ne=we(u,m,A,L);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new ie(m,this.src,H,!!A,L),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(A,L,1),H&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function we(u,m,v,A){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==A)return L}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),xt={};function at(u,m,v,A,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)at(u,m[H],v,A,L);return null}return v=ml(v),u&&u[et]?u.J(m,v,p(A)?!!A.capture:!1,L):ur(u,m,v,!1,A,L)}function ur(u,m,v,A,L,H){if(!m)throw Error("Invalid event type");const ne=p(L)?!!L.capture:!!L;let be=cr(u);if(be||(u[Pe]=be=new oe(u)),v=be.add(m,v,A,ne,H),v.proxy)return v;if(A=Jr(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)k||(L=ne),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(ni(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Jr(){function u(v){return m.call(u.src,u.listener,v)}const m=fl;return u}function Wr(u,m,v,A,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Wr(u,m[H],v,A,L);else A=p(A)?!!A.capture:!!A,v=ml(v),u&&u[et]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=we(m,v,A,L),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=cr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=we(m,v,A,L)),(v=u>-1?m[u]:null)&&ea(v))}function ea(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[et])ve(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ni(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=cr(m))?(ve(v,u),v.h==0&&(v.src=null,m[Pe]=null)):me(u)}}}function ni(u){return u in xt?xt[u]:xt[u]="on"+u}function fl(u,m){if(u.da)u=!0;else{m=new Ie(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ea(u),u=v.call(A,m)}return u}function cr(u){return u=u[Pe],u instanceof oe?u:null}var dl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ml(u){return typeof u=="function"?u:(u[dl]||(u[dl]=function(m){return u.handleEvent(m)}),u[dl])}function yt(){O.call(this),this.i=new oe(this),this.M=this,this.G=null}b(yt,O),yt.prototype[et]=!0,yt.prototype.removeEventListener=function(u,m,v,A){Wr(this,u,m,v,A)};function Dt(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(A,u),se(m,L)}L=!0;let H,ne;if(v)for(ne=v.length-1;ne>=0;ne--)H=m.g=v[ne],L=us(H,A,!0,m)&&L;if(H=m.g=u,L=us(H,A,!0,m)&&L,L=us(H,A,!1,m)&&L,v)for(ne=0;ne<v.length;ne++)H=m.g=v[ne],L=us(H,A,!1,m)&&L}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)me(v[A]);delete u.g[m],u.h--}}this.G=null},yt.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},yt.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function us(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const ne=m[H];if(ne&&!ne.da&&ne.capture==v){const be=ne.listener,dt=ne.ha||ne.src;ne.fa&&ve(u.i,ne),L=be.call(dt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Mh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wo(u){u.g=Mh(()=>{u.g=null,u.i&&(u.i=!1,Wo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(u){O.call(this),this.h=u,this.g={}}b(hr,O);var pl=[];function gl(u){ze(u.g,function(m,v){this.g.hasOwnProperty(v)&&ea(m)},u),u.g={}}hr.prototype.N=function(){hr.Z.N.call(this),gl(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=d.JSON.stringify,Vh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function nu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){D.call(this,"d")}b(Bt,D);function Cn(){D.call(this,"c")}b(Cn,D);var ft={},iu=null;function ta(){return iu=iu||new yt}ft.Ia="serverreachability";function su(u){D.call(this,ft.Ia,u)}b(su,D);function ii(u){const m=ta();Dt(m,new su(m))}ft.STAT_EVENT="statevent";function fr(u,m){D.call(this,ft.STAT_EVENT,u),this.stat=m}b(fr,D);function _t(u){const m=ta();Dt(m,new fr(m,u))}ft.Ja="timingevent";function si(u,m){D.call(this,ft.Ja,u),this.size=m}b(si,D);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function kh(u,m,v,A,L,H){u.info(function(){if(u.g)if(H){var ne="",be=H.split("&");for(let He=0;He<be.length;He++){var dt=be[He].split("=");if(dt.length>1){const lt=dt[0];dt=dt[1];const xn=lt.split("_");ne=xn.length>=2&&xn[1]=="type"?ne+(lt+"="+dt+"&"):ne+(lt+"=redacted&")}}}else ne=null;else ne=H;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+ne})}function ru(u,m,v,A,L,H,ne){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+ne})}function ai(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uh(u,v)+(A?" "+A:"")})}function dr(u,m){u.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Uh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<A.length;ne++)A[ne]=""}}}}return cs(H)}catch{return m}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function pr(){}b(pr,tu),pr.prototype.g=function(){return new XMLHttpRequest},_l=new pr;function Mi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Hn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var vt={},kt={};function li(u,m,v){u.M=1,u.A=gr(Et(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),oi(u),u.B=Et(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),aa(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Fn,u.g=Eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(pl[0]=L.toString()),L=pl);for(let H=0;H<L.length;H++){const ne=at(v,L[H],A||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)e:{const be=Kn(this.g),dt=this.g.ya(),He=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||be!=4||dt==7||(dt==8||He<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Lh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,be,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var H=A;break t}}H=null}if(u=H)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,_t(12),gn(this),Rn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=ou(this,v),lt==kt){be==4&&(this.m=4,_t(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==vt){this.m=4,_t(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,lt,null),ci(this,lt);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||v.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ml(ne),ne.P=!0,_t(11))}}else ai(this.i,this.l,v,null),ci(this,v);be==4&&gn(this),this.o&&!this.K&&(be==4?yu(this.j,this):(this.o=!1,oi(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),gn(this),Rn(this)}}}catch{}finally{}};function Lh(u){if(!lu(u))return u.g.la();const m=zt(u.g);if(m==="")return"";let v="";const A=m.length,L=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<A;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(L&&H==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?kt:(v=Number(m.substring(v,A)),isNaN(v)?vt:(A+=1,A+v>m.length?kt:(m=m.slice(A,A+v),u.C=A+v,m)))}Hn.prototype.cancel=function(){this.K=!0,gn(this)};function oi(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(_(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(dr(this.i,this.B),this.M!=2&&(ii(),_t(17)),gn(this),this.m=2,Rn(this)):ia(this,this.T-u)};function Rn(u){u.j.I==0||u.K||yu(u.j,u)}function gn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,gl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),_s(v);else break e;br(v),_t(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(_(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&ha(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let He=L[m];const lt=He[0];if(!(lt<=v.K))if(v.K=lt,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const xn=He[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const vi=He[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Yn=He[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xn=u.g;if(Xn){const Sr=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var H=A.h;H.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(El(H,H.h),H.h=null))}if(A.G){const fa=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(A.wa=fa,Ke(A.J,A.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ne=u;if(A.na=Tu(A,A.L?A.ba:null,A.W),ne.L){Al(A.h,ne);var be=ne,dt=A.O;dt&&(be.H=dt),be.D&&(ui(be),oi(be)),A.g=ne}else pu(A);v.i.length>0&&yi(v)}else He[0]!="stop"&&He[0]!="close"||_i(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?_i(v,7):Dl(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ii(4)}catch{}}var Tt=class{constructor(u,m){this.g=u,this.map=m}};function vl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function El(u,m){u.g?u.g.add(m):u.h=m}function Al(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vl.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,H=null;A>=0?(L=u[v].substring(0,A),H=u[v].substring(A+1)):L=u[v],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof yn?(this.l=u.l,Ut(this,u.j),this.o=u.o,this.g=u.g,hs(this,u.u),this.h=u.h,Sl(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Ut(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),hs(this,m[4]),this.h=di(m[5]||"",!0),Sl(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}yn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(yr(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yr(m,ra,!0),"@"),u.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(yr(v,v.charAt(0)=="/"?wl:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",yr(v,hu)),u.join("")},yn.prototype.resolve=function(u){const m=Et(this);let v=!!u.j;v?Ut(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)hs(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let ne=0;ne<L.length;){const be=L[ne++];be=="."?A&&ne==L.length&&H.push(""):be==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&ne==L.length&&H.push("")):(H.push(be),A=!0)}A=H.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?Sl(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Et(u){return new yn(u)}function Ut(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Sl(u,m,v){m instanceof ds?(u.i=m,la(u.i,u.l)):(v||(m=yr(m,fs)),u.i=new ds(m,u.l))}function Ke(u,m,v){u.i.set(m,v)}function gr(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,cu=/[#\?:]/g,wl=/[#\?]/g,fs=/[#\?@]/g,hu=/#/g;function ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ds.prototype,s.add=function(u,m){an(this),this.i=null,u=ms(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){an(u),m=ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Cl(u,m){return an(u),m=ms(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Rl(u,m){an(u);let v=[];if(typeof m=="string")Cl(u,m)&&(v=v.concat(u.g.get(ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=ms(this,u),Cl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Rl(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(ms(u,m),q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Mi(v);v=Rl(this,v);for(let H=0;H<v.length;H++){let ne=L;v[H]!==""&&(ne+="="+Mi(v[H])),u.push(ne)}}return this.i=u.join("&")};function du(u){const m=new ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(fu(this,A),aa(this,L,v))},u)),u.j=m}function Gn(u,m){const v=new qn;if(d.Image){const A=new Image;A.onload=E(In,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(In,v,"TestLoadImage: error",!1,m,A),A.onabort=E(In,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(In,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Il(u,m){const v=new qn,A=new AbortController,L=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(L),H.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function ps(){this.g=new eu}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(mi,tu),mi.prototype.g=function(){return new _r(this.i,this.h)};function _r(u,m){yt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(_r,yt),s=_r.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gs(this):Qn(this),this.readyState==3&&oa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,gs(this))},s.Na=function(u){this.g&&(this.response=u,gs(this))},s.ga=function(){this.g&&gs(this)};function gs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let m="";return ze(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function vr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Nn(v),typeof u=="string"?v!=null&&Mi(v):Ke(u,m,v))}function $e(u){yt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($e,yt);var pi=/^https?$/i,Nl=["POST","PUT"];s=$e.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=R(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Tr(this,H);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Nl,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ne]of v)this.g.setRequestHeader(H,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Tr(this,H)}};function Tr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,xl(u),Vi(u)}function xl(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Dt(this,"complete"),Dt(this,"abort"),Vi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),$e.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},s.Xa=function(){Er(this)};function Er(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Dt(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=H===0){let ne=String(u.D).match(uu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),A=!pi.test(ne?ne.toLowerCase():"")}v=A}if(v)Dt(u,"complete"),Dt(u,"success");else{u.o=6;try{var L=Kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",xl(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Dt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vh(m)}};function zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var v=au(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}Qe(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ys(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(u&&u.concurrentRequestLimit),this.Ba=new ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ys.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){_t(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Tu(this,null,this.W),yi(this)};function Dl(u){if(ua(u),u.I==3){var m=u.V++,v=Et(u.J);if(Ke(v,"SID",u.M),Ke(v,"RID",m),Ke(v,"TYPE","terminate"),Ar(u,v),m=new Hn(u,u.j,m),m.M=2,m.A=gr(Et(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),oi(m)}vu(u)}function _s(u){u.g&&(Ml(u),u.g.cancel(),u.g=null)}function ua(u){_s(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!Tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Re||C(),_e||(Re(),_e=!0),N.add(m,u),u.D=0}}function ca(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Hn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=V(H),se(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=mu(this,L,m),v=Et(this.J),Ke(v,"RID",u),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Ar(this,v),H&&(this.R?m="headers="+Mi(Nn(H))+"&"+m:this.u&&vr(v,this.u,H)),El(this.h,L),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",m),Ke(v,"SID","null"),L.U=!0,li(L,v,null)):li(L,v,m),this.I=2}}else this.I==3&&(u?Ol(this,u):this.i.length==0||Tl(this.h)||Ol(this))};function Ol(u,m){var v;m?v=m.l:v=u.V++;const A=Et(u.J);Ke(A,"SID",u.M),Ke(A,"RID",v),Ke(A,"AID",u.K),Ar(u,A),u.u&&u.o&&vr(A,u.u,u.o),v=new Hn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),El(u.h,v),li(v,A,m)}function Ar(u,m){u.H&&ze(u.H,function(v,A){Ke(m,A,v)}),u.l&&ze({},function(v,A){Ke(m,A,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let be=-1;for(;;){const dt=["count="+v];be==-1?v>0?(be=L[0].g,dt.push("ofs="+be)):be=0:dt.push("ofs="+be);let He=!0;for(let lt=0;lt<v;lt++){var H=L[lt].g;const xn=L[lt].map;if(H-=be,H<0)be=Math.max(0,L[lt].g-100),He=!1;else try{H="req"+H+"_"||"";try{var ne=xn instanceof Map?xn:Object.entries(xn);for(const[vi,Yn]of ne){let Xn=Yn;p(Yn)&&(Xn=cs(Yn)),dt.push(H+vi+"="+encodeURIComponent(Xn))}}catch(vi){throw dt.push(H+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(xn)}}if(He){ne=dt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Re||C(),_e||(Re(),_e=!0),N.add(m,u),u.A=0}}function br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(_(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),_s(this),gu(this))};function Ml(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Et(u.na);Ke(m,"RID","rpc"),Ke(m,"SID",u.M),Ke(m,"AID",u.K),Ke(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(m,"TO",u.ia),Ke(m,"TYPE","xmlhttp"),Ar(u,m),u.u&&u.o&&vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=gr(Et(m)),v.u=null,v.R=!0,na(v,u)}s.Va=function(){this.C!=null&&(this.C=null,_s(this),br(this),_t(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){ha(u),Ml(u),u.g=null;var A=2}else if(fi(u.h,m))v=m.G,Al(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=ta(),Dt(A,new si(A,v)),yi(u)}else pu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&ca(u,m)||A==2&&br(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const L=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ut(A,"https"),gr(A),L?Gn(A.toString(),v):Il(A.toString(),v)}else _t(2);u.I=0,u.l&&u.l.pa(m),vu(u),ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=bl(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var A=v instanceof yn?Et(v):new yn(v);if(A.g!="")m&&(A.g=m+"."+A.g),hs(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new yn(null);A&&Ut(H,A),m&&(H.g=m),L&&hs(H,L),v&&(H.h=v),A=H}return v=u.G,m=u.wa,v&&m&&Ke(A,v,m),Ke(A,"VER",u.ka),Ar(u,A),A}function Eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $e(new mi({ab:v})):new $e(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function vs(){}vs.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){yt.call(this),this.g=new ys(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}b(nn,yt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Dl(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=cs(u),u=v);m.i.push(new Tt(m.Ya++,u)),m.I==3&&yi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,nn.Z.N.call(this)};function bu(u){Bt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(bu,Bt);function Su(){Cn.call(this),this.status=1}b(Su,Cn);function Ui(u){this.g=u}b(Ui,Au),Ui.prototype.ra=function(){Dt(this.g,"a")},Ui.prototype.qa=function(u){Dt(this.g,new bu(u))},Ui.prototype.pa=function(u){Dt(this.g,new Su)},Ui.prototype.oa=function(){Dt(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,xT=function(){return new vs},NT=function(){return ta()},IT=ft,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,Bc=mr,yl.COMPLETE="complete",RT=yl,nu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,vo=nu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,CT=$e}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const wv="@firebase/firestore",Cv="4.9.2";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let ol="12.3.0";const Kr=new Im("@firebase/firestore");function Ha(){return Kr.logLevel}function le(s,...e){if(Kr.logLevel<=Ve.DEBUG){const i=e.map(Bm);Kr.debug(`Firestore (${ol}): ${s}`,...i)}}function as(s,...e){if(Kr.logLevel<=Ve.ERROR){const i=e.map(Bm);Kr.error(`Firestore (${ol}): ${s}`,...i)}}function Wa(s,...e){if(Kr.logLevel<=Ve.WARN){const i=e.map(Bm);Kr.warn(`Firestore (${ol}): ${s}`,...i)}}function Bm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ge(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,DT(s,a,i)}function DT(s,e,i){let a=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw as(a),new Error(a)}function Ge(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||DT(e,o,a)}function Ae(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends os{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Js{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class OT{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Zt.UNAUTHENTICATED)))}shutdown(){}}class LC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class PC{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ge(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Js,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Js)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ge(typeof a.accessToken=="string",31837,{l:a}),new OT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class BC{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zC{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new BC(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jC{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ge(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ge(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Rv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=qC(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function ke(s,e){return s<e?-1:s>e?1:0}function om(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Gd(o)===Gd(c)?ke(o,c):Gd(o)?1:-1}return ke(s.length,e.length)}const HC=55296,FC=57343;function Gd(s){const e=s.charCodeAt(0);return e>=HC&&e<=FC}function el(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const Iv="__name__";class wi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ge(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ge(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=wi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return ke(e.length,i.length)}static compareSegments(e,i){const a=wi.isNumericId(e),o=wi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?wi.extractNumericId(e).compare(wi.extractNumericId(i)):om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class nt extends wi{construct(e,i,a){return new nt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ae($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new nt(i)}static emptyPath(){return new nt([])}}const GC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends wi{construct(e,i,a){return new Qt(e,i,a)}static isValidIdentifier(e){return GC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new Qt([Iv])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ae($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ae($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(nt.fromString(e))}static fromName(e){return new fe(nt.fromString(e).popFirst(5))}static empty(){return new fe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return nt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new nt(e.slice()))}}function MT(s,e,i){if(!i)throw new ae($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function QC(s,e,i,a){if(e===!0&&a===!0)throw new ae($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Nv(s){if(!fe.isDocumentKey(s))throw new ae($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function xv(s){if(fe.isDocumentKey(s))throw new ae($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function VT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function mh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ge(12329,{type:typeof s})}function ei(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mh(s);throw new ae($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function It(s,e){const i={typeString:s};return e&&(i.value=e),i}function Go(s,e){if(!VT(s))throw new ae($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ae($.INVALID_ARGUMENT,i);return!0}const Dv=-62135596800,Ov=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Ov);return new rt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Dv)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ov}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Go(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:It("string",rt._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Do=-1;function KC(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(a===1e9?new rt(i+1,0):new rt(i,a));return new er(o,fe.empty(),e)}function YC(s){return new er(s.readTime,s.key,Do)}class er{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new er(Te.min(),fe.empty(),Do)}static max(){return new er(Te.max(),fe.empty(),Do)}}function XC(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=fe.comparator(s.documentKey,e.documentKey),i!==0?i:ke(s.largestBatchId,e.largestBatchId))}const $C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ul(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==$C)throw s;le("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,a)=>{i(e)}))}static reject(e){return new J(((i,a)=>{a(e)}))}static waitFor(e){return new J(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new J(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new J(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function JC(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function cl(s){return s.name==="IndexedDbTransactionError"}class ph{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ph.ce=-1;const jm=-1;function gh(s){return s==null}function Wc(s){return s===0&&1/s==-1/0}function WC(s){return typeof s=="number"&&Number.isInteger(s)&&!Wc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const kT="";function eR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Mv(e)),e=tR(s.get(i),e);return Mv(e)}function tR(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case kT:i+="";break;default:i+=c}}return i}function Mv(s){return s+kT+""}function Vv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function lr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function UT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ut{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new ut(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Gt.RED,this.left=o??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Gt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Gt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new kv(this.data.getIterator())}getIteratorFrom(e){return new kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Mt(this.comparator);return i.data=e,i}}class kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new wn([])}unionWith(e){let i=new Mt(Qt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new wn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class LT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new LT("Invalid base64 string: "+c):c}})(e);return new Kt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Kt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const nR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(s){if(Ge(!!s,39018),typeof s=="string"){let e=0;const i=nR.exec(s);if(Ge(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:gt(s.seconds),nanos:gt(s.nanos)}}function gt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function nr(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}const PT="server_timestamp",BT="__type__",zT="__previous_value__",jT="__local_write_time__";function qm(s){return(s?.mapValue?.fields||{})[BT]?.stringValue===PT}function yh(s){const e=s.mapValue.fields[zT];return qm(e)?yh(e):e}function Oo(s){const e=tr(s.mapValue.fields[jT].timestampValue);return new rt(e.seconds,e.nanos)}class iR{constructor(e,i,a,o,c,d,p,y,_,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const eh="(default)";class Mo{constructor(e,i){this.projectId=e,this.database=i||eh}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}const qT="__type__",sR="__max__",Dc={mapValue:{}},HT="__vector__",th="value";function ir(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qm(s)?4:aR(s)?9007199254740991:rR(s)?10:11:ge(28295,{value:s})}function Oi(s,e){if(s===e)return!0;const i=ir(s);if(i!==ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Oo(s).isEqual(Oo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=tr(o.timestampValue),p=tr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return nr(o.bytesValue).isEqual(nr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return gt(o.geoPointValue.latitude)===gt(c.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return gt(o.integerValue)===gt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=gt(o.doubleValue),p=gt(c.doubleValue);return d===p?Wc(d)===Wc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return el(s.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Vv(d)!==Vv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Oi(d[y],p[y])))return!1;return!0})(s,e);default:return ge(52216,{left:s})}}function Vo(s,e){return(s.values||[]).find((i=>Oi(i,e)))!==void 0}function tl(s,e){if(s===e)return 0;const i=ir(s),a=ir(e);if(i!==a)return ke(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ke(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=gt(c.integerValue||c.doubleValue),y=gt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return Uv(s.timestampValue,e.timestampValue);case 4:return Uv(Oo(s),Oo(e));case 5:return om(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=nr(c),y=nr(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=ke(p[_],y[_]);if(E!==0)return E}return ke(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ke(gt(c.latitude),gt(d.latitude));return p!==0?p:ke(gt(c.longitude),gt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Lv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[th]?.arrayValue,E=y[th]?.arrayValue,b=ke(_?.values?.length||0,E?.values?.length||0);return b!==0?b:Lv(_,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let b=0;b<y.length&&b<E.length;++b){const R=om(y[b],E[b]);if(R!==0)return R;const q=tl(p[y[b]],_[E[b]]);if(q!==0)return q}return ke(y.length,E.length)})(s.mapValue,e.mapValue);default:throw ge(23264,{he:i})}}function Uv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ke(s,e);const i=tr(s),a=tr(e),o=ke(i.seconds,a.seconds);return o!==0?o:ke(i.nanos,a.nanos)}function Lv(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=tl(i[o],a[o]);if(c)return c}return ke(i.length,a.length)}function nl(s){return um(s)}function um(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=tr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return nr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return fe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=um(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${um(i.fields[d])}`;return o+"}"})(s.mapValue):ge(61005,{value:s})}function zc(s){switch(ir(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(s);return e?16+zc(e):16;case 5:return 2*s.stringValue.length;case 6:return nr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return lr(a.fields,((c,d)=>{o+=c.length+zc(d)})),o})(s.mapValue);default:throw ge(13486,{value:s})}}function Pv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function cm(s){return!!s&&"integerValue"in s}function Hm(s){return!!s&&"arrayValue"in s}function Bv(s){return!!s&&"nullValue"in s}function zv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function rR(s){return(s?.mapValue?.fields||{})[qT]?.stringValue===HT}function wo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return lr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=wo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=wo(s.arrayValue.values[i]);return e}return{...s}}function aR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===sR}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=wo(i)}setAll(e){let i=Qt.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=wo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){lr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new mn(wo(this.value))}}function FT(s){const e=[];return lr(s.fields,((i,a)=>{const o=new Qt([i]);if(jc(a)){const c=FT(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new wn(e)}class Jt{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,Te.min(),Te.min(),Te.min(),mn.empty(),0)}static newFoundDocument(e,i,a,o){return new Jt(e,1,i,Te.min(),a,o,0)}static newNoDocument(e,i){return new Jt(e,2,i,Te.min(),Te.min(),mn.empty(),0)}static newUnknownDocument(e,i){return new Jt(e,3,i,Te.min(),Te.min(),mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(e,i){this.position=e,this.inclusive=i}}function jv(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=fe.comparator(fe.fromName(d.referenceValue),i.key):a=tl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function qv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Oi(s.position[i],e.position[i]))return!1;return!0}class ih{constructor(e,i="asc"){this.field=e,this.dir=i}}function lR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class GT{}class Rt extends GT{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new uR(e,i,a):i==="array-contains"?new fR(e,a):i==="in"?new dR(e,a):i==="not-in"?new mR(e,a):i==="array-contains-any"?new pR(e,a):new Rt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new cR(e,a):new hR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(tl(i,this.value)):i!==null&&ir(this.value)===ir(i)&&this.matchesComparison(tl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends GT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ti(e,i)}matches(e){return QT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QT(s){return s.op==="and"}function KT(s){return oR(s)&&QT(s)}function oR(s){for(const e of s.filters)if(e instanceof ti)return!1;return!0}function hm(s){if(s instanceof Rt)return s.field.canonicalString()+s.op.toString()+nl(s.value);if(KT(s))return s.filters.map((e=>hm(e))).join(",");{const e=s.filters.map((i=>hm(i))).join(",");return`${s.op}(${e})`}}function YT(s,e){return s instanceof Rt?(function(a,o){return o instanceof Rt&&a.op===o.op&&a.field.isEqual(o.field)&&Oi(a.value,o.value)})(s,e):s instanceof ti?(function(a,o){return o instanceof ti&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&YT(d,o.filters[p])),!0):!1})(s,e):void ge(19439)}function XT(s){return s instanceof Rt?(function(i){return`${i.field.canonicalString()} ${i.op} ${nl(i.value)}`})(s):s instanceof ti?(function(i){return i.op.toString()+" {"+i.getFilters().map(XT).join(" ,")+"}"})(s):"Filter"}class uR extends Rt{constructor(e,i,a){super(e,i,a),this.key=fe.fromName(a.referenceValue)}matches(e){const i=fe.comparator(e.key,this.key);return this.matchesComparison(i)}}class cR extends Rt{constructor(e,i){super(e,"in",i),this.keys=$T("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class hR extends Rt{constructor(e,i){super(e,"not-in",i),this.keys=$T("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function $T(s,e){return(e.arrayValue?.values||[]).map((i=>fe.fromName(i.referenceValue)))}class fR extends Rt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Hm(i)&&Vo(i.arrayValue,this.value)}}class dR extends Rt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Vo(this.value.arrayValue,i)}}class mR extends Rt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vo(this.value.arrayValue,i)}}class pR extends Rt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vo(this.value.arrayValue,a)))}}class gR{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Hv(s,e=null,i=[],a=[],o=null,c=null,d=null){return new gR(s,e,i,a,o,c,d)}function Fm(s){const e=Ae(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>nl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>nl(a))).join(",")),e.Te=i}return e.Te}function Gm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!lR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!YT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!qv(s.startAt,e.startAt)&&qv(s.endAt,e.endAt)}function fm(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Qo{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yR(s,e,i,a,o,c,d,p){return new Qo(s,e,i,a,o,c,d,p)}function Qm(s){return new Qo(s)}function Fv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ZT(s){return s.collectionGroup!==null}function Co(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Mt(Qt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ih(c,a))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new ih(Qt.keyField(),a))}return e.Ie}function Ii(s){const e=Ae(s);return e.Ee||(e.Ee=_R(e,Co(s))),e.Ee}function _R(s,e){if(s.limitType==="F")return Hv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ih(o.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return Hv(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function dm(s,e){const i=s.filters.concat([e]);return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function mm(s,e,i){return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function _h(s,e){return Gm(Ii(s),Ii(e))&&s.limitType===e.limitType}function JT(s){return`${Fm(Ii(s))}|lt:${s.limitType}`}function Fa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>XT(o))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>nl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>nl(o))).join(",")),`Target(${a})`})(Ii(s))}; limitType=${s.limitType})`}function vh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):fe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Co(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=jv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Co(a),o)||a.endAt&&!(function(d,p,y){const _=jv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Co(a),o))})(s,e)}function vR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function WT(s){return(e,i)=>{let a=!1;for(const o of Co(s)){const c=TR(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function TR(s,e,i){const a=s.field.isKeyField()?fe.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?tl(y,_):ge(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ge(19790,{direction:s.dir})}}class Xr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){lr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}const ER=new ut(fe.comparator);function ls(){return ER}const eE=new ut(fe.comparator);function To(...s){let e=eE;for(const i of s)e=e.insert(i.key,i);return e}function tE(s){let e=eE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function jr(){return Ro()}function nE(){return Ro()}function Ro(){return new Xr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const AR=new ut(fe.comparator),bR=new Mt(fe.comparator);function Ue(...s){let e=bR;for(const i of s)e=e.add(i);return e}const SR=new Mt(ke);function wR(){return SR}function Km(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function iE(s){return{integerValue:""+s}}function CR(s,e){return WC(e)?iE(e):Km(s,e)}class Th{constructor(){this._=void 0}}function RR(s,e,i){return s instanceof ko?(function(o,c){const d={fields:{[BT]:{stringValue:PT},[jT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&qm(c)&&(c=yh(c)),c&&(d.fields[zT]=c),{mapValue:d}})(i,e):s instanceof Uo?rE(s,e):s instanceof Lo?aE(s,e):(function(o,c){const d=sE(o,c),p=Gv(d)+Gv(o.Ae);return cm(d)&&cm(o.Ae)?iE(p):Km(o.serializer,p)})(s,e)}function IR(s,e,i){return s instanceof Uo?rE(s,e):s instanceof Lo?aE(s,e):i}function sE(s,e){return s instanceof sh?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ko extends Th{}class Uo extends Th{constructor(e){super(),this.elements=e}}function rE(s,e){const i=lE(e);for(const a of s.elements)i.some((o=>Oi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Lo extends Th{constructor(e){super(),this.elements=e}}function aE(s,e){let i=lE(e);for(const a of s.elements)i=i.filter((o=>!Oi(o,a)));return{arrayValue:{values:i}}}class sh extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Gv(s){return gt(s.integerValue||s.doubleValue)}function lE(s){return Hm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class NR{constructor(e,i){this.field=e,this.transform=i}}function xR(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Uo&&o instanceof Uo||a instanceof Lo&&o instanceof Lo?el(a.elements,o.elements,Oi):a instanceof sh&&o instanceof sh?Oi(a.Ae,o.Ae):a instanceof ko&&o instanceof ko})(s.transform,e.transform)}class DR{constructor(e,i){this.version=e,this.transformResults=i}}class pn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Eh{}function oE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ah(s.key,pn.none()):new Ko(s.key,s.data,pn.none());{const i=s.data,a=mn.empty();let o=new Mt(Qt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new or(s.key,a,new wn(o.toArray()),pn.none())}}function OR(s,e,i){s instanceof Ko?(function(o,c,d){const p=o.value.clone(),y=Kv(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof or?(function(o,c,d){if(!qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Kv(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(uE(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Io(s,e,i,a){return s instanceof Ko?(function(c,d,p,y){if(!qc(c.precondition,d))return p;const _=c.value.clone(),E=Yv(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof or?(function(c,d,p,y){if(!qc(c.precondition,d))return p;const _=Yv(c.fieldTransforms,y,d),E=d.data;return E.setAll(uE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,e,i,a):(function(c,d,p){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function MR(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=sE(a.transform,o||null);c!=null&&(i===null&&(i=mn.empty()),i.set(a.field,c))}return i||null}function Qv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&el(a,o,((c,d)=>xR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ko extends Eh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class or extends Eh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function uE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Kv(s,e,i){const a=new Map;Ge(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,IR(d,p,i[o]))}return a}function Yv(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,RR(c,d,e))}return a}class Ah extends Eh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VR extends Eh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&OR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Io(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Io(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=nE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=oE(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Te.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((i,a)=>Qv(i,a)))&&el(this.baseMutations,e.baseMutations,((i,a)=>Qv(i,a)))}}class Ym{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ge(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return AR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Ym(e,i,a,o)}}class UR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class LR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ct,Be;function PR(s){switch(s){case $.OK:return ge(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ge(15467,{code:s})}}function cE(s){if(s===void 0)return as("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ct.OK:return $.OK;case Ct.CANCELLED:return $.CANCELLED;case Ct.UNKNOWN:return $.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return $.INTERNAL;case Ct.UNAVAILABLE:return $.UNAVAILABLE;case Ct.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ct.NOT_FOUND:return $.NOT_FOUND;case Ct.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ct.ABORTED:return $.ABORTED;case Ct.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ct.DATA_LOSS:return $.DATA_LOSS;default:return ge(39323,{code:s})}}(Be=Ct||(Ct={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function BR(){return new TextEncoder}const zR=new Zs([4294967295,4294967295],0);function Xv(s){const e=BR().encode(s),i=new wT;return i.update(e),new Uint8Array(i.digest())}function $v(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Zs([i,a],0),new Zs([o,c],0)]}class Xm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Eo(`Invalid padding: ${i}`);if(a<0)throw new Eo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Zs.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Zs.fromNumber(a)));return o.compare(zR)===1&&(o=new Zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Xv(e),[a,o]=$v(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Xm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Xv(e),[a,o]=$v(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Yo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new bh(Te.min(),o,new ut(ke),ls(),Ue())}}class Yo{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Yo(a,i,Ue(),Ue(),Ue())}}class Hc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class hE{constructor(e,i){this.targetId=e,this.Ce=i}}class fE{constructor(e,i,a=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Zv{constructor(){this.ve=0,this.Fe=Jv(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),i=Ue(),a=Ue();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ge(38017,{changeType:c})}})),new Yo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Jv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ls(),this.Je=Oc(),this.He=Oc(),this.Ye=new ut(ke)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(fm(c))if(a===0){const d=new fe(c.path);this.et(i,d,Jt.newNoDocument(d,Te.min()))}else Ge(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=nr(a).toUint8Array()}catch(y){if(y instanceof LT)return Wa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Xm(d,o,c)}catch(y){return Wa(y instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&fm(p.target)){const y=new fe(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Jt.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ue();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new bh(e,i,this.Ye,this.je,a);return this.je=ls(),this.Je=Oc(),this.He=Oc(),this.Ye=new ut(ke),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Zv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Mt(ke),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Mt(ke),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Oc(){return new ut(fe.comparator)}function Jv(){return new ut(fe.comparator)}const qR={asc:"ASCENDING",desc:"DESCENDING"},HR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FR={and:"AND",or:"OR"};class GR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function pm(s,e){return s.useProto3Json||gh(e)?e:{value:e}}function rh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function QR(s,e){return rh(s,e.toTimestamp())}function Ni(s){return Ge(!!s,49232),Te.fromTimestamp((function(i){const a=tr(i);return new rt(a.seconds,a.nanos)})(s))}function $m(s,e){return gm(s,e).canonicalString()}function gm(s,e){const i=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function mE(s){const e=nt.fromString(s);return Ge(vE(e),10190,{key:e.toString()}),e}function ym(s,e){return $m(s.databaseId,e.path)}function Qd(s,e){const i=mE(e);if(i.get(1)!==s.databaseId.projectId)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new fe(gE(i))}function pE(s,e){return $m(s.databaseId,e)}function KR(s){const e=mE(s);return e.length===4?nt.emptyPath():gE(e)}function _m(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function gE(s){return Ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Wv(s,e,i){return{name:ym(s,e),fields:i.value.mapValue.fields}}function YR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ge(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?$.UNKNOWN:cE(_.code);return new ae(E,_.message||"")})(d);i=new fE(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Qd(s,a.document.name),c=Ni(a.document.updateTime),d=a.document.createTime?Ni(a.document.createTime):Te.min(),p=new mn({mapValue:{fields:a.document.fields}}),y=Jt.newFoundDocument(o,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Hc(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Qd(s,a.document),c=a.readTime?Ni(a.readTime):Te.min(),d=Jt.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Hc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Qd(s,a.document),c=a.removedTargetIds||[];i=new Hc([],c,o,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new LR(o,c),p=a.targetId;i=new hE(p,d)}}return i}function XR(s,e){let i;if(e instanceof Ko)i={update:Wv(s,e.key,e.value)};else if(e instanceof Ah)i={delete:ym(s,e.key)};else if(e instanceof or)i={update:Wv(s,e.key,e.data),updateMask:s2(e.fieldMask)};else{if(!(e instanceof VR))return ge(16599,{Vt:e.type});i={verify:ym(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ko)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ge(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:QR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge(27497)})(s,e.precondition)),i}function $R(s,e){return s&&s.length>0?(Ge(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ni(o.updateTime):Ni(c);return d.isEqual(Te.min())&&(d=Ni(c)),new DR(d,o.transformResults||[])})(i,e)))):[]}function ZR(s,e){return{documents:[pE(s,e.path)]}}function JR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=pE(s,o);const c=(function(_){if(_.length!==0)return _E(ti.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(R){return{field:Ga(R.field),direction:t2(R.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=pm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function WR(s){let e=KR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ge(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(b){const R=yE(b);return R instanceof ti&&KT(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((R=>(function(G){return new ih(Qa(G.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(R)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let R;return R=typeof b=="object"?b.value:b,gh(R)?null:R})(i.limit));let y=null;i.startAt&&(y=(function(b){const R=!!b.before,q=b.values||[];return new nh(q,R)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const R=!b.before,q=b.values||[];return new nh(q,R)})(i.endAt)),yR(e,o,d,c,p,"F",y,_)}function e2(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function yE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return Rt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(i.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Rt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Rt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Rt.create(Qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ti.create(i.compositeFilter.filters.map((a=>yE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(i.compositeFilter.op))})(s):ge(30097,{filter:s})}function t2(s){return qR[s]}function n2(s){return HR[s]}function i2(s){return FR[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Qa(s){return Qt.fromServerFormat(s.fieldPath)}function _E(s){return s instanceof Rt?(function(i){if(i.op==="=="){if(zv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(Bv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(zv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(Bv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:n2(i.op),value:i.value}}})(s):s instanceof ti?(function(i){const a=i.getFilters().map((o=>_E(o)));return a.length===1?a[0]:{compositeFilter:{op:i2(i.op),filters:a}}})(s):ge(54877,{filter:s})}function s2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function vE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ks{constructor(e,i,a,o,c=Te.min(),d=Te.min(),p=Kt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class r2{constructor(e){this.yt=e}}function a2(s){const e=WR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?mm(e,e.limit,"L"):e}class l2{constructor(){this.Cn=new o2}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(er.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(er.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class o2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Mt(nt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Mt(nt.comparator)).toArray()}}const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TE=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(TE,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}const t0="LruGarbageCollector",u2=1048576;function n0([s,e],[i,a]){const o=ke(s,i);return o===0?ke(e,a):o}class c2{constructor(e){this.Ir=e,this.buffer=new Mt(n0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();n0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class h2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(t0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){cl(i)?le(t0,"Ignoring IndexedDB error during garbage collection: ",i):await ul(i)}await this.Vr(3e5)}))}}class f2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(ph.ce);const a=new c2(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(e0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(a=b,p=Date.now(),this.removeTargets(e,a,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(_=Date.now(),Ha()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function d2(s,e){return new f2(s,e)}class m2{constructor(){this.changes=new Xr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class p2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class g2{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Io(a.mutation,o,wn.empty(),rt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ue()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ue()){const o=jr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=To();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=jr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ue())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=ls();const d=Ro(),p=(function(){return Ro()})();return i.forEach(((y,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof or)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Io(E.mutation,_,E.mutation.getFieldMask(),rt.now())):d.set(_.key,wn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new p2(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Ro();let o=new ut(((d,p)=>d-p)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||wn.empty();E=p.applyToLocalView(_,E),a.set(y,E);const b=(o.get(p.batchId)||Ue()).add(y);o=o.insert(p.batchId,b)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,b=nE();E.forEach((R=>{if(!c.has(R)){const q=oE(i.get(R),a.get(R));q!==null&&b.set(R,q),c=c.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return fe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ZT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):J.resolve(jr());let p=Do,y=c;return d.next((_=>J.forEach(_,((E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{y=y.insert(E,R)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Ue()))).next((E=>({batchId:p,changes:tE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new fe(i)).next((a=>{let o=To();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=To();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(y=>{const _=(function(b,R){return new Qo(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((E=>{E.forEach(((b,R)=>{d=d.insert(b,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,Jt.newInvalidDocument(E)))}));let p=To();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Io(E.mutation,_,wn.empty(),rt.now()),vh(i,_)&&(p=p.insert(y,_))})),p}))}}class y2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:a2(o.bundledQuery),readTime:Ni(o.readTime)}})(i)),J.resolve()}}class _2{constructor(){this.overlays=new ut(fe.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=jr();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const o=jr(),c=i.length+1,d=new fe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new ut(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=jr(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=jr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return J.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new UR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ue(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class v2{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Zm{constructor(){this.Qr=new Mt(Pt.$r),this.Ur=new Mt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Pt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Pt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new fe(new nt([])),a=new Pt(i,e),o=new Pt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new fe(new nt([])),a=new Pt(i,e),o=new Pt(i,e+1);let c=Ue();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Pt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Pt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return fe.comparator(e.key,i.key)||ke(e.Yr,i.Yr)}static Kr(e,i){return ke(e.Yr,i.Yr)||fe.comparator(e.key,i.key)}}class T2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Pt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kR(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Pt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Mt(ke);return i.forEach((o=>{const c=new Pt(o,0),d=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;fe.isDocumentKey(c)||(c=c.child(""));const d=new Pt(new fe(c),0);let p=new Mt(ke);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ge(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,(o=>{const c=new Pt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Pt(i,0),o=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class E2{constructor(e){this.ri=e,this.docs=(function(){return new ut(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():Jt.newInvalidDocument(i))}getEntries(e,i){let a=ls();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Jt.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=ls();const d=i.path,p=new fe(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||XC(YC(E),a)<=0||(o.has(E.key)||vh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ge(9500)}ii(e,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new A2(this)}getSize(e){return J.resolve(this.size)}}class A2 extends m2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class b2{constructor(e){this.persistence=e,this.si=new Xr((i=>Fm(i)),Gm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new il(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class EE{constructor(e,i){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new v2,this.referenceDelegate=e(this),this.Pi=new b2(this),this.indexManager=new l2,this.remoteDocumentCache=(function(o){return new E2(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new r2(i),this.Ii=new y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new _2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new T2(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new S2(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class S2 extends ZC{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Vi=null}static mi(e){return new Jm(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(a=>{const o=fe.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ah{constructor(e,i){this.persistence=e,this.pi=new Xr((a=>eR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=d2(this,i)}static mi(e,i){return new ah(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Te.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=zc(e.data.value)),i}br(e,i,a){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Ue(),o=Ue();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Wm(e,i.fromCache,a,o)}}class w2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class C2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pb()?8:JC(Wt())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new w2;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ha()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ha()<=Ve.DEBUG&&le("QueryEngine","Query:",Fa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ha()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(i))):J.resolve())}ys(e,i){if(Fv(i))return J.resolve(null);let a=Ii(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=mm(i,null,"F"),a=Ii(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ue(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,mm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return Fv(i)||o.isEqual(Te.min())?J.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?J.resolve(null):(Ha()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(i)),this.vs(e,d,i,KC(o,Do)).next((p=>p)))}))}Ds(e,i){let a=new Mt(WT(e));return i.forEach(((o,c)=>{vh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Ha()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(e,i,er.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ep="LocalStore",R2=3e8;class I2{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ut(ke),this.xs=new Xr((c=>Fm(c)),Gm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function N2(s,e,i,a){return new I2(s,e,i,a)}async function AE(s,e){const i=Ae(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Ue();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function x2(s,e){const i=Ae(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const b=_.batch,R=b.keys();let q=J.resolve();return R.forEach((G=>{q=q.next((()=>E.getEntry(y,G))).next((W=>{const z=_.docVersions.get(G);Ge(z!==null,48541),W.version.compareTo(z)<0&&(b.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),E.addEntry(W)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Ue();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function bE(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function D2(s,e){const i=Ae(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,b)=>{const R=o.get(b);if(!R)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,b))));let q=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?q=q.withResumeToken(Kt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,a)),o=o.insert(b,q),(function(W,z,ee){return W.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=R2?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(R,q,E)&&p.push(i.Pi.updateTargetData(c,q))}));let y=ls(),_=Ue();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(O2(c,d,e.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(Te.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function O2(s,e,i){let a=Ue(),o=Ue();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ls();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Te.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):le(ep,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function M2(s,e){const i=Ae(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function V2(s,e){const i=Ae(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Ks(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function vm(s,e,i){const a=Ae(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!cl(d))throw d;le(ep,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function i0(s,e,i){const a=Ae(s);let o=Te.min(),c=Ue();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const b=Ae(y),R=b.xs.get(E);return R!==void 0?J.resolve(b.Ms.get(R)):b.Pi.getTargetData(_,E)})(a,d,Ii(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Te.min(),i?c:Ue()))).next((p=>(k2(a,vR(e),p),{documents:p,Qs:c})))))}function k2(s,e,i){let a=s.Os.get(e)||Te.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class s0{constructor(){this.activeTargetIds=wR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U2{constructor(){this.Mo=new s0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new s0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class L2{Oo(e){}shutdown(){}}const r0="ConnectivityMonitor";class a0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(r0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(r0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function Tm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Kd="RestConnection",P2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Tm(),p=this.zo(e,i.toUriEncodedString());le(Kd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),E=rl(_);return this.Jo(e,p,y,a,E).then((b=>(le(Kd,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Wa(Kd,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=P2[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class z2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class j2 extends B2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Tm();return new Promise(((p,y)=>{const _=new CT;_.setWithCredentials(!0),_.listenOnce(RT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Bc.NO_ERROR:const b=_.getResponseJson();le(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case Bc.TIMEOUT:le(Xt,`RPC '${e}' ${d} timed out`),y(new ae($.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const R=_.getStatus();if(le(Xt,`RPC '${e}' ${d} failed with status:`,R,"response text:",_.getResponseText()),R>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const G=q?.error;if(G&&G.status&&G.message){const W=(function(ee){const re=ee.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(re)>=0?re:$.UNKNOWN})(G.status);y(new ae(W,G.message))}else y(new ae($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ae($.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(Xt,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);le(Xt,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=Tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=xT(),p=NT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,y);const b=d.createWebChannel(E,y);this.I_(b);let R=!1,q=!1;const G=new z2({Yo:z=>{q?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(R||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,z),b.send(z))},Zo:()=>b.close()}),W=(z,ee,re)=>{z.listen(ee,(te=>{try{re(te)}catch(de){setTimeout((()=>{throw de}),0)}}))};return W(b,vo.EventType.OPEN,(()=>{q||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),W(b,vo.EventType.CLOSE,(()=>{q||(q=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(b))})),W(b,vo.EventType.ERROR,(z=>{q||(q=!0,Wa(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),G.a_(new ae($.UNAVAILABLE,"The operation could not be completed")))})),W(b,vo.EventType.MESSAGE,(z=>{if(!q){const ee=z.data[0];Ge(!!ee,16349);const re=ee,te=re?.error||re[0]?.error;if(te){le(Xt,`RPC '${e}' stream ${o} received error:`,te);const de=te.status;let Re=(function(C){const S=Ct[C];if(S!==void 0)return cE(S)})(de),_e=te.message;Re===void 0&&(Re=$.INTERNAL,_e="Unknown error status: "+de+" with message "+te.message),q=!0,G.a_(new ae(Re,_e)),b.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,ee),G.u_(ee)}})),W(p,IT.STAT_EVENT,(z=>{z.stat===lm.PROXY?le(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===lm.NOPROXY&&le(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yd(){return typeof document<"u"?document:null}function Sh(s){return new GR(s,!0)}class SE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const l0="PersistentStream";class wE{constructor(e,i,a,o,c,d,p,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(as(i.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ae($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(l0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(l0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class q2 extends wE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=YR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Te.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?Ni(d.readTime):Te.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=fm(y)?{documents:ZR(c,y)}:{query:JR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=dE(c,d.resumeToken);const _=pm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Te.min())>0){p.readTime=rh(c,d.snapshotVersion.toTimestamp());const _=pm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=e2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=_m(this.serializer),i.removeTarget=e,this.q_(i)}}class H2 extends wE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=$R(e.writeResults,e.commitTime),a=Ni(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=_m(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>XR(this.serializer,a)))};this.q_(i)}}class F2{}class G2 extends F2{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,gm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae($.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,gm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Q2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yr="RemoteStore";class K2{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{$r(this)&&(le(Yr,"Restarting streams for network reachability change."),await(async function(y){const _=Ae(y);_.Ea.add(4),await Xo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await wh(_)})(this))}))})),this.Ra=new Q2(a,o)}}async function wh(s){if($r(s))for(const e of s.da)await e(!0)}async function Xo(s){for(const e of s.da)await e(!1)}function CE(s,e){const i=Ae(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),sp(i)?ip(i):hl(i).O_()&&np(i,e))}function tp(s,e){const i=Ae(s),a=hl(i);i.Ia.delete(e),a.O_()&&RE(i,e),i.Ia.size===0&&(a.O_()?a.L_():$r(i)&&i.Ra.set("Unknown"))}function np(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}hl(s).Y_(e)}function RE(s,e){s.Va.Ue(e),hl(s).Z_(e)}function ip(s){s.Va=new jR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),hl(s).start(),s.Ra.ua()}function sp(s){return $r(s)&&!hl(s).x_()&&s.Ia.size>0}function $r(s){return Ae(s).Ea.size===0}function IE(s){s.Va=void 0}async function Y2(s){s.Ra.set("Online")}async function X2(s){s.Ia.forEach(((e,i)=>{np(s,e)}))}async function $2(s,e){IE(s),sp(s)?(s.Ra.ha(e),ip(s)):s.Ra.set("Unknown")}async function Z2(s,e,i){if(s.Ra.set("Online"),e instanceof fE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(a){le(Yr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await lh(s,a)}else if(e instanceof Hc?s.Va.Ze(e):e instanceof hE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Te.min()))try{const a=await bE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),RE(c,y);const b=new Ks(E.target,y,_,E.sequenceNumber);np(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){le(Yr,"Failed to raise snapshot:",a),await lh(s,a)}}async function lh(s,e,i){if(!cl(e))throw e;s.Ea.add(1),await Xo(s),s.Ra.set("Offline"),i||(i=()=>bE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(Yr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wh(s)}))}function NE(s,e){return e().catch((i=>lh(s,i,e)))}async function Ch(s){const e=Ae(s),i=sr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;J2(e);)try{const o=await M2(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,W2(e,o)}catch(o){await lh(e,o)}xE(e)&&DE(e)}function J2(s){return $r(s)&&s.Ta.length<10}function W2(s,e){s.Ta.push(e);const i=sr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function xE(s){return $r(s)&&!sr(s).x_()&&s.Ta.length>0}function DE(s){sr(s).start()}async function eI(s){sr(s).ra()}async function tI(s){const e=sr(s);for(const i of s.Ta)e.ea(i.mutations)}async function nI(s,e,i){const a=s.Ta.shift(),o=Ym.from(a,e,i);await NE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ch(s)}async function iI(s,e){e&&sr(s).X_&&await(async function(a,o){if((function(d){return PR(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();sr(a).B_(),await NE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ch(a)}})(s,e),xE(s)&&DE(s)}async function o0(s,e){const i=Ae(s);i.asyncQueue.verifyOperationInProgress(),le(Yr,"RemoteStore received new credentials");const a=$r(i);i.Ea.add(3),await Xo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function sI(s,e){const i=Ae(s);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await Xo(i),i.Ra.set("Unknown"))}function hl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ae(i);return c.sa(),new q2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:Y2.bind(null,s),t_:X2.bind(null,s),r_:$2.bind(null,s),H_:Z2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),sp(s)?ip(s):s.Ra.set("Unknown")):(await s.ma.stop(),IE(s))}))),s.ma}function sr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ae(i);return c.sa(),new H2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:eI.bind(null,s),r_:iI.bind(null,s),ta:tI.bind(null,s),na:nI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(le(Yr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class rp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new rp(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ap(s,e){if(as("AsyncQueue",`${e}: ${s}`),cl(s))return new ae($.UNAVAILABLE,`${e}: ${s}`);throw s}class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||fe.comparator(i.key,a.key):(i,a)=>fe.comparator(i.key,a.key),this.keyedMap=To(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Za;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class u0{constructor(){this.ga=new ut(fe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class sl{constructor(e,i,a,o,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new sl(e,i,Za.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class rI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aI{constructor(){this.queries=c0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ae(i),c=o.queries;o.queries=c0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ae($.ABORTED,"Firestore shutting down"))}}function c0(){return new Xr((s=>JT(s)),_h)}async function OE(s,e){const i=Ae(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new rI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=ap(d,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&lp(i)}async function ME(s,e){const i=Ae(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function lI(s,e){const i=Ae(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&lp(i)}function oI(s,e,i){const a=Ae(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function lp(s){s.Ca.forEach((e=>{e.next()}))}var Em,h0;(h0=Em||(Em={})).Ma="default",h0.Cache="cache";class VE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new sl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class kE{constructor(e){this.key=e}}class UE{constructor(e){this.key=e}}class uI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=WT(e),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new u0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const R=o.get(E),q=vh(this.query,b)?b:null,G=!!R&&this.mutatedKeys.has(R.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let z=!1;R&&q?R.data.isEqual(q.data)?G!==W&&(a.track({type:3,doc:q}),z=!0):this.su(R,q)||(a.track({type:2,doc:q}),z=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(p=!0)):!R&&q?(a.track({type:0,doc:q}),z=!0):R&&!q&&(a.track({type:1,doc:R}),z=!0,(y||_)&&(p=!0)),z&&(q?(d=d.add(q),c=W?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,b)=>(function(q,G){const W=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:z})}};return W(q)-W(G)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new sl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new UE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new kE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ue();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const op="SyncEngine";class cI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class hI{constructor(e){this.key=e,this.hu=!1}}class fI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xr((p=>JT(p)),_h),this.Iu=new Map,this.Eu=new Set,this.du=new ut(fe.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dI(s,e,i=!0){const a=qE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await LE(a,e,i,!0),o}async function mI(s,e){const i=qE(s);await LE(i,e,!0,!1)}async function LE(s,e,i,a){const o=await V2(s.localStore,Ii(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await pI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&CE(s.remoteStore,o),p}async function pI(s,e,i,a,o){s.pu=(b,R,q)=>(async function(W,z,ee,re){let te=z.view.ru(ee);te.Cs&&(te=await i0(W.localStore,z.query,!1).then((({documents:N})=>z.view.ru(N,te))));const de=re&&re.targetChanges.get(z.targetId),Re=re&&re.targetMismatches.get(z.targetId)!=null,_e=z.view.applyChanges(te,W.isPrimaryClient,de,Re);return d0(W,z.targetId,_e.au),_e.snapshot})(s,b,R,q);const c=await i0(s.localStore,e,!0),d=new uI(e,c.Qs),p=d.ru(c.documents),y=Yo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,y);d0(s,i,_.au);const E=new cI(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function gI(s,e,i){const a=Ae(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!_h(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&tp(a.remoteStore,o.targetId),Am(a,o.targetId)})).catch(ul)):(Am(a,o.targetId),await vm(a.localStore,o.targetId,!0))}async function yI(s,e){const i=Ae(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),tp(i.remoteStore,a.targetId))}async function _I(s,e,i){const a=wI(s);try{const o=await(function(d,p){const y=Ae(d),_=rt.now(),E=p.reduce(((q,G)=>q.add(G.key)),Ue());let b,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let G=ls(),W=Ue();return y.Ns.getEntries(q,E).next((z=>{G=z,G.forEach(((ee,re)=>{re.isValidDocument()||(W=W.add(ee))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,G))).next((z=>{b=z;const ee=[];for(const re of p){const te=MR(re,b.get(re.key).overlayedDocument);te!=null&&ee.push(new or(re.key,te,FT(te.value.mapValue),pn.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,ee,p)})).next((z=>{R=z;const ee=z.applyToLocalDocumentSet(b,W);return y.documentOverlayCache.saveOverlays(q,z.batchId,ee)}))})).then((()=>({batchId:R.batchId,changes:tE(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ut(ke)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await $o(a,o.changes),await Ch(a.remoteStore)}catch(o){const c=ap(o,"Failed to persist write");i.reject(c)}}async function PE(s,e){const i=Ae(s);try{const a=await D2(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ge(d.hu,14607):o.removedDocuments.size>0&&(Ge(d.hu,42227),d.hu=!1))})),await $o(i,a,e)}catch(a){await ul(a)}}function f0(s,e,i){const a=Ae(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=Ae(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,b)=>{for(const R of b.Sa)R.va(p)&&(_=!0)})),_&&lp(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function vI(s,e,i){const a=Ae(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new ut(fe.comparator);d=d.insert(c,Jt.newNoDocument(c,Te.min()));const p=Ue().add(c),y=new bh(Te.min(),new Map,new ut(ke),d,p);await PE(a,y),a.du=a.du.remove(c),a.Au.delete(e),up(a)}else await vm(a.localStore,e,!1).then((()=>Am(a,e,i))).catch(ul)}async function TI(s,e){const i=Ae(s),a=e.batch.batchId;try{const o=await x2(i.localStore,e);zE(i,a,null),BE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $o(i,o)}catch(o){await ul(o)}}async function EI(s,e,i){const a=Ae(s);try{const o=await(function(d,p){const y=Ae(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((b=>(Ge(b!==null,37113),E=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,e);zE(a,e,i),BE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $o(a,o)}catch(o){await ul(o)}}function BE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function zE(s,e,i){const a=Ae(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Am(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||jE(s,a)}))}function jE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(tp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),up(s))}function d0(s,e,i){for(const a of i)a instanceof kE?(s.Ru.addReference(a.key,e),AI(s,a)):a instanceof UE?(le(op,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||jE(s,a.key)):ge(19791,{wu:a})}function AI(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(le(op,"New document in limbo: "+i),s.Eu.add(a),up(s))}function up(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new fe(nt.fromString(e)),a=s.fu.next();s.Au.set(a,new hI(i)),s.du=s.du.insert(i,a),CE(s.remoteStore,new Ks(Ii(Qm(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function $o(s,e,i){const a=Ae(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=Wm.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const E=Ae(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>J.forEach(_,(R=>J.forEach(R.Es,(q=>E.persistence.referenceDelegate.addReference(b,R.targetId,q))).next((()=>J.forEach(R.ds,(q=>E.persistence.referenceDelegate.removeReference(b,R.targetId,q)))))))))}catch(b){if(!cl(b))throw b;le(ep,"Failed to update sequence numbers: "+b)}for(const b of _){const R=b.targetId;if(!b.fromCache){const q=E.Ms.get(R),G=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(R,W)}}})(a.localStore,c))}async function bI(s,e){const i=Ae(s);if(!i.currentUser.isEqual(e)){le(op,"User change. New user:",e.toKey());const a=await AE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ae($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $o(i,a.Ls)}}function SI(s,e){const i=Ae(s),a=i.Au.get(e);if(a&&a.hu)return Ue().add(a.key);{let o=Ue();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function qE(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=PE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vI.bind(null,e),e.Pu.H_=lI.bind(null,e.eventManager),e.Pu.yu=oI.bind(null,e.eventManager),e}function wI(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EI.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return N2(this.persistence,new C2,e.initialUser,this.serializer)}Cu(e){return new EE(Jm.mi,this.serializer)}Du(e){return new U2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class CI extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ge(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new h2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new EE((a=>ah.mi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>f0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bI.bind(null,this.syncEngine),await sI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aI})()}createDatastore(e){const i=Sh(e.databaseInfo.databaseId),a=(function(c){return new j2(c)})(e.databaseInfo);return(function(c,d,p,y){return new G2(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new K2(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>f0(this.syncEngine,i,0)),(function(){return a0.v()?new a0:new L2})())}createSyncEngine(e,i){return(function(o,c,d,p,y,_,E){const b=new fI(o,c,d,p,y,_);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ae(i);le(Yr,"RemoteStore shutting down."),a.Ea.add(5),await Xo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class HE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const rr="FirestoreClient";class RI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ap(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Xd(s,e){s.asyncQueue.verifyOperationInProgress(),le(rr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await AE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function m0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await II(s);le(rr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>o0(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>o0(e.remoteStore,o))),s._onlineComponents=e}async function II(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(rr,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Wa("Error using user provided cache. Falling back to memory cache: "+i),await Xd(s,new oh)}}else le(rr,"Using default OfflineComponentProvider"),await Xd(s,new CI(void 0));return s._offlineComponents}async function FE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(rr,"Using user provided OnlineComponentProvider"),await m0(s,s._uninitializedComponentsProvider._online)):(le(rr,"Using default OnlineComponentProvider"),await m0(s,new bm))),s._onlineComponents}function NI(s){return FE(s).then((e=>e.syncEngine))}async function Sm(s){const e=await FE(s),i=e.eventManager;return i.onListen=dI.bind(null,e.syncEngine),i.onUnlisten=gI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=mI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=yI.bind(null,e.syncEngine),i}function xI(s,e,i={}){const a=new Js;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new HE({next:R=>{E.Nu(),d.enqueueAndForget((()=>ME(c,b))),R.fromCache&&y.source==="server"?_.reject(new ae($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),b=new VE(p,E,{includeMetadataChanges:!0,qa:!0});return OE(c,b)})(await Sm(s),s.asyncQueue,e,i,a))),a.promise}function GE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const p0=new Map;const QE="firestore.googleapis.com",g0=!0;class y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=g0}else this.host=e.host,this.ssl=e.ssl??g0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u2)throw new ae($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new UC;switch(a.type){case"firstParty":return new zC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ae($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=p0.get(i);a&&(le("ComponentProvider","Removing Datastore"),p0.delete(i),a.terminate())})(this),Promise.resolve()}}function DI(s,e,i,a={}){s=ei(s,Rh);const o=rl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(z0(`https://${p}`),j0("Firestore",!0)),c.host!==QE&&c.host!==p&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!Fr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=Zt.MOCK_USER;else{_=ab(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ae($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(b)}s._authCredentials=new LC(new OT(_,E))}}class Zr{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Zr(this.firestore,e,this._query)}}class Nt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Go(i,Nt._jsonSchema))return new Nt(e,a||null,new fe(nt.fromString(i.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:It("string",Nt._jsonSchemaVersion),referencePath:It("string")};class Ws extends Zr{constructor(e,i,a){super(e,i,Qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new fe(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function Ji(s,e,...i){if(s=Vt(s),MT("collection","path",e),s instanceof Rh){const a=nt.fromString(e,...i);return xv(a),new Ws(s,null,a)}{if(!(s instanceof Nt||s instanceof Ws))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(nt.fromString(e,...i));return xv(a),new Ws(s.firestore,null,a)}}function Si(s,e,...i){if(s=Vt(s),arguments.length===1&&(e=zm.newId()),MT("doc","path",e),s instanceof Rh){const a=nt.fromString(e,...i);return Nv(a),new Nt(s,null,new fe(a))}{if(!(s instanceof Nt||s instanceof Ws))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(nt.fromString(e,...i));return Nv(a),new Nt(s.firestore,s instanceof Ws?s.converter:null,new fe(a))}}const _0="AsyncQueue";class v0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SE(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&le(_0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!cl(e))throw e;le(_0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",T0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=rp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ge(47125,{Pc:T0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function T0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function E0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ar extends Rh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new v0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v0(e),this._firestoreClient=void 0,await e}}}function OI(s,e){const i=typeof s=="object"?s:G0(),a=typeof s=="string"?s:eh,o=xm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=sb("firestore");c&&DI(o,...c)}return o}function Ih(s){if(s._terminated)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||MI(s),s._firestoreClient}function MI(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new iR(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,GE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new RI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Kt.fromBase64String(e))}catch(i){throw new ae($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Go(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:It("string",zn._jsonSchemaVersion),bytes:It("string")};class Zo{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ae($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nh{constructor(e){this._methodName=e}}class xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ae($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ae($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(Go(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:It("string",xi._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class Di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Go(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Di(e.vectorValues);throw new ae($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:It("string",Di._jsonSchemaVersion),vectorValues:It("object")};const VI=/^__.*__$/;class kI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new or(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ko(e,this.data,i,this.fieldTransforms)}}class KE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new or(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function YE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:s})}}class cp{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YE(this.Ac)&&VI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(e)}Cc(e,i,a,o=!1){return new cp({Ac:e,methodName:i,Dc:a,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xh(s){const e=s._freezeSettings(),i=Sh(s._databaseId);return new UI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function XE(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);fp("Data must be an object, but it was:",d,a);const p=JE(a,d);let y,_;if(c.merge)y=new wn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const R=wm(e,b,i);if(!d.contains(R))throw new ae($.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);eA(E,R)||E.push(R)}y=new wn(E),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new kI(new mn(p),y,_)}class Dh extends Nh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}class hp extends Nh{_toFieldTransform(e){return new NR(e.path,new ko)}isEqual(e){return e instanceof hp}}function $E(s,e,i,a){const o=s.Cc(1,e,i);fp("Data must be an object, but it was:",o,a);const c=[],d=mn.empty();lr(a,((y,_)=>{const E=dp(e,y,i);_=Vt(_);const b=o.yc(E);if(_ instanceof Dh)c.push(E);else{const R=Jo(_,b);R!=null&&(c.push(E),d.set(E,R))}}));const p=new wn(c);return new KE(d,p,o.fieldTransforms)}function ZE(s,e,i,a,o,c){const d=s.Cc(1,e,i),p=[wm(e,a,i)],y=[o];if(c.length%2!=0)throw new ae($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)p.push(wm(e,c[R])),y.push(c[R+1]);const _=[],E=mn.empty();for(let R=p.length-1;R>=0;--R)if(!eA(_,p[R])){const q=p[R];let G=y[R];G=Vt(G);const W=d.yc(q);if(G instanceof Dh)_.push(q);else{const z=Jo(G,W);z!=null&&(_.push(q),E.set(q,z))}}const b=new wn(_);return new KE(E,b,d.fieldTransforms)}function LI(s,e,i,a=!1){return Jo(i,s.Cc(a?4:3,e))}function Jo(s,e){if(WE(s=Vt(s)))return fp("Unsupported field value:",e,s),JE(s,e);if(s instanceof Nh)return(function(a,o){if(!YE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=Jo(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Vt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return CR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=rt.fromDate(a);return{timestampValue:rh(o.serializer,c)}}if(a instanceof rt){const c=new rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(o.serializer,c)}}if(a instanceof xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zn)return{bytesValue:dE(o.serializer,a._byteString)};if(a instanceof Nt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Di)return(function(d,p){return{mapValue:{fields:{[qT]:{stringValue:HT},[th]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Km(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${mh(a)}`)})(s,e)}function JE(s,e){const i={};return UT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lr(s,((a,o)=>{const c=Jo(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function WE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof rt||s instanceof xi||s instanceof zn||s instanceof Nt||s instanceof Nh||s instanceof Di)}function fp(s,e,i){if(!WE(i)||!VT(i)){const a=mh(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function wm(s,e,i){if((e=Vt(e))instanceof Zo)return e._internalPath;if(typeof e=="string")return dp(s,e);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const PI=new RegExp("[~\\*/\\[\\]]");function dp(s,e,i){if(e.search(PI)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Zo(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ae($.INVALID_ARGUMENT,p+s+y)}function eA(s,e){return s.some((i=>i.isEqual(e)))}class tA{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(nA("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class BI extends tA{data(){return super.data()}}function nA(s,e){return typeof e=="string"?dp(s,e):e instanceof Zo?e._internalPath:e._delegate._internalPath}function iA(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mp{}class zI extends mp{}function $d(s,e,...i){let a=[];e instanceof mp&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof gp)).length,p=c.filter((y=>y instanceof pp)).length;if(d>1||d>0&&p>0)throw new ae($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class pp extends zI{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new pp(e,i,a)}_apply(e){const i=this._parse(e);return sA(e._query,i),new Zr(e.firestore,e.converter,dm(e._query,i))}_parse(e){const i=xh(e.firestore);return(function(c,d,p,y,_,E,b){let R;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ae($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){b0(b,E);const G=[];for(const W of b)G.push(A0(y,c,W));R={arrayValue:{values:G}}}else R=A0(y,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||b0(b,E),R=LI(p,d,b,E==="in"||E==="not-in");return Rt.create(_,E,R)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class gp extends mp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new gp(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ti.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const y of p)sA(d,y),d=dm(d,y)})(e._query,i),new Zr(e.firestore,e.converter,dm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function A0(s,e,i){if(typeof(i=Vt(i))=="string"){if(i==="")throw new ae($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(e)&&i.indexOf("/")!==-1)throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(nt.fromString(i));if(!fe.isDocumentKey(a))throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Pv(s,new fe(a))}if(i instanceof Nt)return Pv(s,i._key);throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(i)}.`)}function b0(s,e){if(!Array.isArray(s)||s.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sA(s,e){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class jI{convertValue(e,i="none"){switch(ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return lr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[th].arrayValue?.values?.map((a=>gt(a.doubleValue)));return new Di(i)}convertGeoPoint(e){return new xi(gt(e.latitude),gt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=yh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Oo(e));default:return null}}convertTimestamp(e){const i=tr(e);return new rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=nt.fromString(e);Ge(vE(a),9688,{name:e});const o=new Mo(a.get(1),a.get(3)),c=new fe(a.popFirst(5));return o.isEqual(i)||as(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function rA(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Ao{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qr extends tA{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(nA("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:It("string",qr._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Fc extends qr{data(e={}){return super.data(e)}}class Hr{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ao(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Fc(this._firestore,this._userDataWriter,a.key,a,new Ao(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ae($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Fc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ao(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Fc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ao(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:qI(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:s})}}Hr._jsonSchemaVersion="firestore/querySnapshot/1.0",Hr._jsonSchema={type:It("string",Hr._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class yp extends jI{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,i)}}function HI(s){s=ei(s,Zr);const e=ei(s.firestore,ar),i=Ih(e),a=new yp(e);return iA(s._query),xI(i,s._query).then((o=>new Hr(e,a,s,o)))}function S0(s,e,i,...a){s=ei(s,Nt);const o=ei(s.firestore,ar),c=xh(o);let d;return d=typeof(e=Vt(e))=="string"||e instanceof Zo?ZE(c,"updateDoc",s._key,e,i,a):$E(c,"updateDoc",s._key,e),Oh(o,[d.toMutation(s._key,pn.exists(!0))])}function w0(s){return Oh(ei(s.firestore,ar),[new Ah(s._key,pn.none())])}function C0(s,e){const i=ei(s.firestore,ar),a=Si(s),o=rA(s.converter,e);return Oh(i,[XE(xh(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,pn.exists(!1))]).then((()=>a))}function R0(s,...e){s=Vt(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||E0(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(E0(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Nt)d=ei(s.firestore,ar),p=Qm(s._key.path),c={next:y=>{e[a]&&e[a](FI(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=ei(s,Zr);d=ei(y.firestore,ar),p=y._query;const _=new yp(d);c={next:E=>{e[a]&&e[a](new Hr(d,_,y,E))},error:e[a+1],complete:e[a+2]},iA(s._query)}return(function(_,E,b,R){const q=new HE(R),G=new VE(E,q,b);return _.asyncQueue.enqueueAndForget((async()=>OE(await Sm(_),G))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>ME(await Sm(_),G)))}})(Ih(d),p,o,c)}function Oh(s,e){return(function(a,o){const c=new Js;return a.asyncQueue.enqueueAndForget((async()=>_I(await NI(a),o,c))),c.promise})(Ih(s),e)}function FI(s,e,i){const a=i.docs.get(e._key),o=new yp(s);return new qr(s,o,e._key,a,new Ao(i.hasPendingWrites,i.fromCache),e.converter)}class GI{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=xh(e)}set(e,i,a){this._verifyNotCommitted();const o=Zd(e,this._firestore),c=rA(o.converter,i,a),d=XE(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,a);return this._mutations.push(d.toMutation(o._key,pn.none())),this}update(e,i,a,...o){this._verifyNotCommitted();const c=Zd(e,this._firestore);let d;return d=typeof(i=Vt(i))=="string"||i instanceof Zo?ZE(this._dataReader,"WriteBatch.update",c._key,i,a,o):$E(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Zd(e,this._firestore);return this._mutations=this._mutations.concat(new Ah(i._key,pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zd(s,e){if((s=Vt(s)).firestore!==e)throw new ae($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function qa(){return new hp("serverTimestamp")}function I0(s){return Ih(s=ei(s,ar)),new GI(s,(e=>Oh(s,e)))}(function(e,i=!0){(function(o){ol=o})(al),Ja(new Gr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ar(new PC(a.getProvider("auth-internal")),new jC(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(_.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),$s(wv,Cv,e),$s(wv,Cv,"esm2020")})();const QI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),N0=s=>{const e=KI(s);return e.charAt(0).toUpperCase()+e.slice(1)},aA=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),YI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var XI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $I=Me.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>Me.createElement("svg",{ref:y,...XI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:aA("lucide",o),...!c&&!YI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>Me.createElement(_,E)),...Array.isArray(c)?c:[c]]));const en=(s,e)=>{const i=Me.forwardRef(({className:a,...o},c)=>Me.createElement($I,{ref:c,iconNode:e,className:aA(`lucide-${QI(N0(s))}`,`lucide-${s}`,a),...o}));return i.displayName=N0(s),i};const ZI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lA=en("arrow-right",ZI);const JI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],WI=en("book-open",JI);const eN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tN=en("calendar",eN);const nN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jd=en("circle-check",nN);const iN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sN=en("clock",iN);const rN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],aN=en("menu",rN);const lN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],oN=en("pen",lN);const uN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cm=en("plus",uN);const cN=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],hN=en("printer",cN);const fN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],x0=en("refresh-cw",fN);const dN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],mN=en("save",dN);const pN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gN=en("search",pN);const yN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oA=en("trash-2",yN);const _N=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vN=en("triangle-alert",_N);const TN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],EN=en("users",TN);const AN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_p=en("x",AN),bN={apiKey:"AIzaSyCnGYvKV5RM920W9MfVK0vE9_OFDh9qOt4",authDomain:"school-scheduler-be0ba.firebaseapp.com",projectId:"school-scheduler-be0ba",storageBucket:"school-scheduler-be0ba.firebasestorage.app",messagingSenderId:"293883160030",appId:"1:293883160030:web:96f28a8cdef6415a42294f",measurementId:"G-DQWDYSGX12"},uA=F0(bN),Vc=VC(uA),$t=OI(uA),fn="school-scheduler-v1",ch=["Monday","Tuesday","Wednesday","Thursday","Friday"],D0=[1,2,3,4,5,6,7],O0=[{name:"5",divisions:["A","B"]},{name:"6",divisions:["A","B"]},{name:"7",divisions:["A","B"]},{name:"8",divisions:["A","B","C"]},{name:"9",divisions:["A","B","C"]},{name:"10",divisions:["A","B","C"]}],M0=[{name:"RIJI",timetable:{Monday:["10A","8A, 8C","10C","","10B","","9A, 9B"],Tuesday:["10A","8A, 8C","9C","","8C","9A, 9C","10A, 10C"],Wednesday:["9A, 9C","","10A, 10C","8A, 8B","","","9A, 9B"],Thursday:["9A, 9C","","8A, 8C","8A, 8B","","10B","10A, 10C"],Friday:["8C","8A, 8C","10C","","9C","10A, 10C","9A, 9C"]}},{name:"KPS",timetable:{Monday:["8B","","","8B","9B","","10B"],Tuesday:["8B","9A","9A","","9B","9A, 9C","10A, 10C"],Wednesday:["9A, 9C","","10A, 10C","10B","","",""],Thursday:["9A, 9C","9A","10B","","8B","9B","10A, 10C"],Friday:["","","9B","","10B","10A, 10C","9A, 9C"]}},{name:"ANV",timetable:{Monday:["","8A, 8C","7A, 7B","","5A, 5B","","6A, 6B"],Tuesday:["","8A, 8C","6A, 6B","","5A, 5B","",""],Wednesday:["","5A, 5B","","","6A, 6B","7A, 7B",""],Thursday:["","","8A, 8C","7A, 7B","6A, 6B","",""],Friday:["","8A, 8C","7A, 7B","5A, 5B","","",""]}},{name:"KCR",timetable:{Monday:["","8A, 8C","7A, 7B","","5A, 5B","","6A, 6B"],Tuesday:["","8A, 8C","6A, 6B","","5A, 5B","9A, 9C","10A, 10C"],Wednesday:["9A, 9C","5A, 5B","10A, 10C","","6A, 6B","7A, 7B",""],Thursday:["9A, 9C","","8A, 8C","7A, 7B","6A, 6B","","10A, 10C"],Friday:["","8A, 8C","7A, 7B","5A, 5B","","10A, 10C","9A, 9C"]}},{name:"RV",timetable:{Monday:["8A","8B","","10A","9C","10B",""],Tuesday:["8A","","10B","9C","10A","",""],Wednesday:["8A","9C","","10A","","8B","10B"],Thursday:["8A","","10A","10B","9C","","8B"],Friday:["8A","10A","10B","","8B","9C","8B"]}},{name:"SL",timetable:{Monday:["10C","9A","","8C","","8A","8A"],Tuesday:["10C","9B","","9B","9A","8C",""],Wednesday:["10C","","9B","9A","8C","",""],Thursday:["10C","9B","","9A","","8C",""],Friday:["10C","","","9A","","9B","8C"]}},{name:"US",timetable:{Monday:["9A","10A","10A","","10C","9B",""],Tuesday:["","9C","8C","10B","","10A","10B"],Wednesday:["","10A","","9C","10B","10C",""],Thursday:["","8C","9B","10A","","9C","9A"],Friday:["9B","10C","8C","","10A","9A",""]}},{name:"NMS",timetable:{Monday:["","6B","6A","","7A","","5B"],Tuesday:["","7B","5B","5A","","7A","7B"],Wednesday:["","6B","5A","","8A","6A","8B"],Thursday:["","8B","7B","","8A","5B","6A"],Friday:["","8B","5A","8A","","6B","7A"]}},{name:"SK",timetable:{Monday:["10B","","8B","9A","","10A",""],Tuesday:["10B","10A","","8C","8B","","9A"],Wednesday:["10B","","9A","8C","8B","","10A"],Thursday:["10B","","8B","","8C","9A",""],Friday:["10B","","9A","10A","8C","","10A"]}},{name:"GS",timetable:{Monday:["","9C","9B","","8A","10C","10C"],Tuesday:["","","9B","8A","","10C","9C"],Wednesday:["","9B","","9B","10C","9C",""],Thursday:["9B","8A","","9B","9B","","9C"],Friday:["9C","","8A","9B","","","10C"]}},{name:"SP",timetable:{Monday:["","10B","9C","9B","","9A","8C"],Tuesday:["","10C","10A","9A","","10B",""],Wednesday:["","10C","8C","","9C","9B",""],Thursday:["","10A","","10C","10B","10C",""],Friday:["","","10A","10C","10C","",""]}},{name:"RM",timetable:{Monday:["9B","","10B","8A","8C","","9C"],Tuesday:["9B","","10C","8B","8A","",""],Wednesday:["10A","8B","8A","","9A","",""],Thursday:["","10C","","9C","10A","",""],Friday:["9A","","","8C","10B","8A",""]}},{name:"AMG",timetable:{Monday:["9C","10C","","10B","8B","","10A"],Tuesday:["9C","","8A","","10B","9B","8C"],Wednesday:["","8C","8B","10C","","10A",""],Thursday:["10A","9C","9A","","10C","8A","9B"],Friday:["","9C","9C","","9A","","10B"]}},{name:"SHM",timetable:{Monday:["8C","","10B","9C","10A","",""],Tuesday:["8C","10B","","10A","9C","","8A"],Wednesday:["8C","8A","","","10A","10B","9C"],Thursday:["8C","10B","9C","","","10A",""],Friday:["10A","10B","","9C","8A","8A",""]}},{name:"SV",timetable:{Monday:["","9B","","10C","9A","8B",""],Tuesday:["9A","","8B","10C","10C","","9B"],Wednesday:["9B","10B","10B","","9B","9A","10C"],Thursday:["","","10C","","9A","8B",""],Friday:["","9A","","10B","","8B","9B"]}},{name:"SB",timetable:{Monday:["","","9A","5A","","8C","7B"],Tuesday:["","8B","7A","6B","","8A",""],Wednesday:["","7B","9C","5B","","","8A"],Thursday:["","6A","5B","","","5A","7A"],Friday:["","9B","8B","6B","","8C","6A"]}},{name:"SH",timetable:{Monday:["","5A","8C","6B","","9C","8B"],Tuesday:["","","","6A","","8B","8B"],Wednesday:["","9A","","","7A","8C","8C"],Thursday:["","","","8C","5B","","8A"],Friday:["","7B","","8B","9B","","8A"]}},{name:"SN",timetable:{Monday:["","","","","","",""],Tuesday:["","","","","","",""],Wednesday:["8B","7A","6B","","5B","8A","6A"],Thursday:["","7B","","5A","","6B","8C"],Friday:["","5A","5B","","6A","7A","7B"]}},{name:"SM",timetable:{Monday:["7A","7B","","7A","5A, 5B","6B",""],Tuesday:["7A","6A","","","5A, 5B","7B","6B"],Wednesday:["7A","5A, 5B","","6A","7B","","6B"],Thursday:["7A","6B","","6A","7B","6A",""],Friday:["7A","6A","","5A, 5B","7B","","6B"]}},{name:"NS",timetable:{Monday:["7B","5B","5A","","7B","7A","6A, 6B"],Tuesday:["7B","","6A, 6B","7A","","5B","5A"],Wednesday:["7B","","5B","7A","6A, 6B","","5A"],Thursday:["7B","5B","5A","","6A, 6B","7A",""],Friday:["7B","5B","","7A","","5A",""]}},{name:"BC",timetable:{Monday:["6B","","7A, 7B","6A","","5B","5A"],Tuesday:["6B","5A","","5B","6B","","6A"],Wednesday:["6B","","6A","5A","","7A, 7B","5B"],Thursday:["6B","","6A","7A, 7B","5A","","5B"],Friday:["6B","","7A, 7B","6A","5B","","5A"]}},{name:"JB",timetable:{Monday:["6A","","6B","5B","","7B","7A"],Tuesday:["6A","6B","","7B","7A","5A",""],Wednesday:["6A","","7B","6B","","5B","7A"],Thursday:["6A","","7A","6B","","7B","5A"],Friday:["6A","7A","","7B","6B","6A",""]}},{name:"PRV",timetable:{Monday:["5A","6A","5B","","6B","6A",""],Tuesday:["5A","5B","7B","","6A","6B","5B"],Wednesday:["5A","6A","","7B","5A","6B",""],Thursday:["5A","7A","","5B","","","6B"],Friday:["5A","6B","6A","","7A","5B",""]}},{name:"ASA",timetable:{Monday:["5B","7A","","7B","6A","5A",""],Tuesday:["5B","7A","5A","","7B","6A","7A"],Wednesday:["5B","","7A","","","5A","7B"],Thursday:["5B","5A","6B","","7A","","7B"],Friday:["5B","","6B","","5A","7B","5B"]}},{name:"PRIYANKA",timetable:{Monday:["","","","","","",""],Tuesday:["","","","","","",""],Wednesday:["","","","","","",""],Thursday:["","","","","","",""],Friday:["","","","","","",""]}}],SN=({classes:s,onAddClass:e,onDeleteClass:i,onUpdateClass:a})=>{const[o,c]=Me.useState(""),[d,p]=Me.useState(""),[y,_]=Me.useState(null),E=G=>{G.preventDefault(),o.trim()&&(e(o),c(""))},b=async(G,W)=>{if(!d.trim())return;const z=[...W||[],d.trim().toUpperCase()].sort();await a(G,z),p("")},R=async(G,W,z)=>{const ee=W.filter(re=>re!==z);await a(G,ee)},q=[...s].sort((G,W)=>{const z=parseInt(G.name)||0,ee=parseInt(W.name)||0;return z-ee||G.name.localeCompare(W.name)});return x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 h-full overflow-hidden print:hidden",children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col h-full overflow-hidden",children:[x.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl shrink-0",children:[x.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[x.jsx(WI,{className:"w-5 h-5 text-blue-600"}),"Class Standards"]}),x.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Add grades (e.g., 8, 9, 10)"})]}),x.jsx("div",{className:"p-4 border-b border-slate-100 shrink-0",children:x.jsxs("form",{onSubmit:E,className:"flex gap-2",children:[x.jsx("input",{type:"text",placeholder:"Class...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none w-full",value:o,onChange:G=>c(G.target.value)}),x.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:x.jsx(Cm,{className:"w-4 h-4"})})]})}),x.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1 min-h-0",children:q.map(G=>x.jsxs("div",{onClick:()=>_(G.id),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all border ${y===G.id?"bg-blue-50 border-blue-200 ring-1 ring-blue-300":"bg-white border-transparent hover:bg-slate-50"}`,children:[x.jsxs("span",{className:"font-bold text-slate-700",children:["Class ",G.name]}),x.jsx("button",{onClick:W=>{W.stopPropagation(),i(G.id)},className:"text-slate-400 hover:text-red-500 p-1",children:x.jsx(oA,{className:"w-4 h-4"})})]},G.id))})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col h-full overflow-hidden",children:[x.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl shrink-0",children:[x.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Divisions"}),x.jsx("p",{className:"text-xs text-slate-500 mt-1",children:y?`Divisions for Class ${s.find(G=>G.id===y)?.name}`:"Select a class to manage divisions"})]}),y?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"p-4 border-b border-slate-100 shrink-0",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",placeholder:"Div...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none uppercase w-full",value:d,onChange:G=>p(G.target.value),maxLength:2}),x.jsx("button",{onClick:()=>b(y,s.find(G=>G.id===y)?.divisions),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:x.jsx(Cm,{className:"w-4 h-4"})})]})}),x.jsx("div",{className:"p-4 flex-1 overflow-y-auto min-h-0",children:x.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.find(G=>G.id===y)?.divisions?.map((G,W)=>x.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-100 text-slate-700 font-bold border border-slate-200",children:[G,x.jsx("button",{onClick:()=>R(y,s.find(z=>z.id===y)?.divisions,G),className:"w-4 h-4 rounded-full bg-slate-300 text-white hover:bg-red-500 flex items-center justify-center",children:x.jsx(_p,{className:"w-3 h-3"})})]},W)),!s.find(G=>G.id===y)?.divisions?.length&&x.jsx("p",{className:"text-sm text-slate-400 italic",children:"No divisions added yet."})]})})]}):x.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400 bg-slate-50",children:x.jsx(lA,{className:"w-8 h-8 opacity-20"})})]})]})},wN=({teachers:s,onSelectTeacher:e,onDeleteTeacher:i,onAddTeacher:a})=>{const[o,c]=Me.useState(""),[d,p]=Me.useState(""),y=E=>{E.preventDefault(),o.trim()&&(a(o),c(""))},_=s.filter(E=>E.name.toLowerCase().includes(d.toLowerCase())).sort((E,b)=>E.name.localeCompare(b.name));return x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 h-full flex flex-col overflow-hidden",children:[x.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl shrink-0",children:x.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[x.jsx(EN,{className:"w-5 h-5 text-blue-600"}),"Staff Directory"]})}),x.jsxs("div",{className:"p-4 border-b border-slate-100 shrink-0",children:[x.jsxs("form",{onSubmit:y,className:"flex gap-2 mb-3",children:[x.jsx("input",{type:"text",placeholder:"Add Teacher...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all w-full",value:o,onChange:E=>c(E.target.value)}),x.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-1",children:x.jsx(Cm,{className:"w-4 h-4"})})]}),x.jsxs("div",{className:"relative",children:[x.jsx(gN,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),x.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-9 pr-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-blue-400",value:d,onChange:E=>p(E.target.value)})]})]}),x.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1 min-h-0",children:_.length===0?x.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No teachers found."}):_.map(E=>x.jsxs("div",{onClick:()=>e(E),className:"group flex items-center justify-between p-3 rounded-lg hover:bg-blue-50 cursor-pointer border border-transparent hover:border-blue-100 transition-all",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm font-bold shrink-0",children:E.name.charAt(0).toUpperCase()}),x.jsx("span",{className:"font-medium text-slate-700 group-hover:text-blue-700 truncate",children:E.name})]}),x.jsx("button",{onClick:b=>{b.stopPropagation(),i(E.id)},className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-md transition-all z-10 shrink-0",title:"Delete Teacher",children:x.jsx(oA,{className:"w-4 h-4"})})]},E.id))})]})},CN=({value:s,definedClasses:e,onClose:i,onSave:a})=>{const[o,c]=Me.useState(new Set),[d,p]=Me.useState("");Me.useEffect(()=>{const E=new Set;if(s){s.split(",").map(q=>q.trim().toUpperCase()).forEach(q=>{e.forEach(G=>{(G.divisions||[]).forEach(W=>{const z=`${G.name}${W}`.toUpperCase();q.includes(z)&&E.add(z)})})});let R=s;e.forEach(q=>{(q.divisions||[]).forEach(G=>{const W=`${q.name}${G}`,z=new RegExp(`${W}[, ]*`,"gi");R=R.replace(z,"")})}),p(R.replace(/^[,\s]+|[,\s]+$/g,""))}c(E)},[s,e]);const y=E=>{const b=new Set(o);b.has(E)?b.delete(E):b.add(E),c(b)},_=()=>{let E=Array.from(o).sort().join(", ");d&&(E=E?`${E} ${d}`:d),a(E)};return x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md flex flex-col max-h-[90vh]",children:[x.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[x.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Select Classes"}),x.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-100 rounded-full",children:x.jsx(_p,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[e.map(E=>x.jsxs("div",{children:[x.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 border-b border-slate-100 pb-1",children:["Standard ",E.name]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:(E.divisions||[]).length>0?E.divisions.map(b=>{const R=`${E.name}${b}`.toUpperCase(),q=o.has(R);return x.jsx("button",{onClick:()=>y(R),className:`
                          px-4 py-2 rounded-lg text-sm font-bold border transition-all
                          ${q?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:border-blue-300 hover:bg-slate-50"}
                        `,children:R},b)}):x.jsx("span",{className:"text-xs text-slate-400 italic",children:"No divisions"})})]},E.id)),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"Subject / Note"}),x.jsx("input",{type:"text",placeholder:"e.g. Math, Eng, Library...",className:"w-full p-2 border border-slate-300 rounded-lg text-sm",value:d,onChange:E=>p(E.target.value)})]})]}),x.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50 rounded-b-xl flex justify-end gap-2",children:[x.jsx("button",{onClick:i,className:"px-4 py-2 text-slate-600 font-medium text-sm hover:bg-slate-200 rounded-lg",children:"Cancel"}),x.jsx("button",{onClick:_,className:"px-6 py-2 bg-blue-600 text-white font-medium text-sm rounded-lg hover:bg-blue-700 shadow-sm",children:"Done"})]})]})})},RN=({teacher:s,onUpdateTimetable:e,onClose:i,definedClasses:a})=>{const[o,c]=Me.useState(s.timetable||{}),[d,p]=Me.useState(!1),[y,_]=Me.useState(null);Me.useEffect(()=>{const R=s.timetable||{};ch.forEach(q=>{R[q]||(R[q]=Array(7).fill(""))}),c(R)},[s]);const E=(R,q,G)=>{const W={...o};W[R]||(W[R]=Array(7).fill("")),W[R][q]=G,c(W),_(null)},b=async()=>{p(!0),await e(s.id,o),p(!1)};return x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 h-full flex flex-col relative overflow-hidden print:hidden",children:[x.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50 rounded-t-xl shrink-0",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Master Timetable"}),x.jsxs("p",{className:"text-sm text-slate-500",children:["Editing: ",x.jsx("span",{className:"font-medium text-blue-600",children:s.name})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:i,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg text-sm font-medium",children:"Close"}),x.jsx("button",{onClick:b,disabled:d,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm",children:d?"Saving...":x.jsxs(x.Fragment,{children:[x.jsx(mN,{className:"w-4 h-4"})," Save Changes"]})})]})]}),x.jsx("div",{className:"flex-1 overflow-auto p-4 min-h-0",children:x.jsxs("div",{className:"min-w-[800px]",children:[x.jsxs("div",{className:"grid grid-cols-[100px_repeat(7,1fr)] gap-1 mb-2",children:[x.jsx("div",{className:"font-bold text-slate-400 text-xs uppercase tracking-wider text-center self-end pb-2",children:"Day"}),D0.map(R=>x.jsxs("div",{className:"text-center font-bold text-slate-600 bg-slate-100 py-2 rounded-md text-sm",children:["Pd ",R]},R))]}),ch.map(R=>x.jsxs("div",{className:"grid grid-cols-[100px_repeat(7,1fr)] gap-1 mb-2 items-stretch",children:[x.jsx("div",{className:"font-bold text-slate-700 text-sm flex items-center justify-center bg-slate-50 rounded-md border border-slate-100",children:R.substring(0,3)}),D0.map((q,G)=>{const W=o[R]&&o[R][G]||"";return x.jsxs("div",{onClick:()=>_({day:R,idx:G,value:W}),className:`
                      relative w-full h-16 p-1 text-xs text-center border rounded-md cursor-pointer transition-all flex items-center justify-center group
                      ${W?"bg-blue-50 border-blue-200 text-blue-800 font-bold hover:bg-blue-100":"bg-white border-slate-200 text-slate-300 hover:border-blue-300 hover:bg-slate-50"}
                    `,children:[x.jsx("span",{className:"line-clamp-3 leading-tight px-1",children:W||"-"}),x.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 text-blue-400",children:x.jsx(oN,{className:"w-3 h-3"})})]},`${R}-${q}`)})]},R))]})}),y&&x.jsx(CN,{value:y.value,definedClasses:a,onClose:()=>_(null),onSave:R=>E(y.day,y.idx,R)})]})},IN=({teachers:s,definedClasses:e})=>{const[i,a]=Me.useState("Monday"),[o,c]=Me.useState([]),[d,p]=Me.useState({}),y=z=>{c(ee=>ee.includes(z)?ee.filter(re=>re!==z):[...ee,z]),p({})},_=Me.useMemo(()=>[...s].sort((z,ee)=>z.name.localeCompare(ee.name)),[s]),E=Me.useMemo(()=>{const z=new Set;return e.forEach(ee=>{(ee.divisions||[]).forEach(re=>{z.add(`${ee.name}${re}`.toUpperCase())})}),z},[e]),b=z=>{if(!z)return[];const ee=z.toUpperCase(),re=[];for(const te of E)ee.includes(te)&&re.push(te);return re},R=(z,ee)=>{if(!z.timetable||!ee||ee.length===0)return!1;for(const re of ch){const te=z.timetable[re];if(te)for(const de of te){if(!de)continue;if(b(de).some(_e=>ee.includes(_e)))return!0}}return!1},q=Me.useMemo(()=>{if(o.length===0)return[];const z=[];return o.forEach(ee=>{const re=s.find(te=>te.id===ee);!re||!re.timetable||!re.timetable[i]||re.timetable[i].forEach((te,de)=>{if(de<7&&te&&te.trim()!==""){const Re=b(te),_e=[],N=[];s.forEach(S=>{if(S.id===ee||o.includes(S.id))return;const D=S.timetable?.[i]?.[de];(!D||D.trim()==="")&&(Re.length>0&&R(S,Re)?_e.push({...S,type:"strict"}):N.push({...S,type:"general"}))});const C=[..._e,...N];z.push({id:`${ee}-${de}`,period:de+1,classInfo:te,targetCodes:Re,absentTeacherName:re.name,absentTeacherId:ee,replacements:C})}})}),z.sort((ee,re)=>ee.period===re.period?ee.absentTeacherName.localeCompare(re.absentTeacherName):ee.period-re.period)},[i,o,s,E]),G=(z,ee,re)=>{for(const[te,de]of Object.entries(d)){const Re=q.find(_e=>_e.id===te);if(Re&&Re.period===ee&&te!==re&&de===z)return!0}return!1},W=()=>{const z=document.title,ee=new Date().toLocaleDateString("en-GB").replace(/\//g,"-");document.title=`${ee}_Substitution`,window.print(),document.title=z};return x.jsxs("div",{className:"flex flex-col h-full w-full",children:[x.jsx("style",{children:`
        @media print {
          @page { margin: 10mm; size: landscape; }
          body, html, #root { 
            height: auto !important; 
            overflow: visible !important; 
            background: white !important;
            width: 100% !important;
            margin: 0 !important;
            padding: 0 !important;
          }
          
          /* CRITICAL: Completely remove the screen UI from flow */
          .screen-only {
            display: none !important;
          }

          /* Show only print section */
          .print-only {
            display: block !important;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
          }

          /* Grid Table Styles */
          table { width: 100%; border-collapse: collapse; border: 2px solid black; }
          th, td { border: 1px solid black; padding: 8px; text-align: center; vertical-align: top; height: 60px; }
          th { background-color: #f3f4f6; font-weight: bold; }
          thead { display: table-header-group; }
          tr { page-break-inside: avoid; }
        }
      `}),x.jsxs("div",{className:"screen-only flex-1 flex flex-col h-full overflow-hidden bg-slate-100 text-slate-800 font-sans",children:[x.jsxs("div",{className:"p-5 bg-slate-800 text-white shrink-0 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[x.jsx(sN,{className:"w-6 h-6 text-blue-400"}),"Substitution Generator"]}),x.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Select substitutes for each class."})]}),x.jsxs("button",{onClick:W,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 text-sm shadow-sm transition-all",children:[x.jsx(hN,{className:"w-4 h-4"})," Download / Print PDF"]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 h-full overflow-hidden min-h-0",children:[x.jsxs("div",{className:"col-span-1 lg:col-span-4 bg-slate-50 border-b lg:border-b-0 lg:border-r border-slate-200 p-4 overflow-y-auto h-full min-h-0",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Select Day"}),x.jsx("select",{value:i,onChange:z=>a(z.target.value),className:"w-full p-2 border border-slate-300 rounded-lg bg-white font-medium text-slate-700",children:ch.map(z=>x.jsx("option",{value:z,children:z},z))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Mark Absent Staff"}),x.jsx("div",{className:"space-y-2",children:_.map(z=>x.jsxs("label",{className:`
                    flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all
                    ${o.includes(z.id)?"bg-red-50 border-red-200 shadow-sm":"bg-white border-slate-200 hover:border-blue-300"}
                  `,children:[x.jsx("div",{className:`
                      w-5 h-5 rounded border flex items-center justify-center shrink-0
                      ${o.includes(z.id)?"bg-red-500 border-red-500":"border-slate-300 bg-white"}
                    `,children:o.includes(z.id)&&x.jsx(Jd,{className:"w-3.5 h-3.5 text-white"})}),x.jsx("input",{type:"checkbox",className:"hidden",checked:o.includes(z.id),onChange:()=>y(z.id)}),x.jsx("span",{className:`font-medium text-sm ${o.includes(z.id)?"text-red-700":"text-slate-700"}`,children:z.name})]},z.id))})]})]}),x.jsx("div",{className:"col-span-1 lg:col-span-8 p-6 overflow-y-auto h-full min-h-0 bg-white",children:o.length===0?x.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[x.jsx(Jd,{className:"w-16 h-16 mb-4 text-slate-200"}),x.jsx("p",{className:"text-lg font-medium",children:"No teachers marked absent."})]}):q.length===0?x.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-green-600",children:[x.jsx(Jd,{className:"w-16 h-16 mb-4"}),x.jsx("p",{className:"text-lg font-bold",children:"No Substitutions Needed"}),x.jsx("p",{className:"text-slate-500 text-sm",children:"Absent teachers have no classes today."})]}):x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{className:"flex justify-between items-end border-b pb-4 mb-4",children:x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Substitution Plan"}),x.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["For ",x.jsx("span",{className:"font-medium text-blue-600",children:i})]})]})}),q.map((z,ee)=>{const re=d[z.id]||"";return x.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden",children:[x.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("span",{className:"bg-slate-800 text-white text-xs font-bold px-2 py-1 rounded",children:["PERIOD ",z.period]}),x.jsx("span",{className:"font-bold text-slate-700 text-lg",children:z.classInfo})]}),x.jsxs("span",{className:"text-xs font-medium text-red-500 bg-red-50 px-2 py-1 rounded-full border border-red-100",children:["Absent: ",z.absentTeacherName]})]}),x.jsxs("div",{className:"p-4 bg-white",children:[x.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Assign Substitute"}),x.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded-md text-sm font-medium text-slate-700 focus:ring-2 focus:ring-blue-500 outline-none",value:re,onChange:te=>p(de=>({...de,[z.id]:te.target.value})),children:[x.jsx("option",{value:"",children:"-- Select Teacher --"}),x.jsx("optgroup",{label:"Subject Teachers (Preferred)",children:z.replacements.filter(te=>te.type==="strict").map(te=>{const de=G(te.id,z.period,z.id);return x.jsxs("option",{value:te.id,disabled:de,className:de?"text-slate-300":"text-green-700 font-bold",children:[te.name," ",de?"(Busy)":""]},te.id)})}),x.jsx("optgroup",{label:"Other Available Teachers",children:z.replacements.filter(te=>te.type==="general").map(te=>{const de=G(te.id,z.period,z.id);return x.jsxs("option",{value:te.id,disabled:de,className:de?"text-slate-300":"text-slate-700",children:[te.name," ",de?"(Busy)":""]},te.id)})})]})]})]},ee)})]})})]})]}),x.jsxs("div",{className:"print-only hidden bg-white text-black p-4",children:[x.jsx("div",{className:"text-center mb-6",children:x.jsxs("h1",{className:"text-xl font-bold mb-1 uppercase",children:[i," - ",new Date().toLocaleDateString("en-GB")]})}),x.jsxs("table",{className:"w-full border-collapse border border-black text-sm",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{className:"border border-black p-2 w-24 bg-white text-center",children:"Period"}),x.jsx("th",{className:"border border-black p-2 w-40 bg-white text-center",children:"Class"}),x.jsx("th",{className:"border border-black p-2 w-64 bg-white text-center",children:"Absent Teacher"}),x.jsx("th",{className:"border border-black p-2 bg-white font-bold text-center",children:"Substitute Teacher"})]})}),x.jsxs("tbody",{children:[q.map((z,ee)=>{const re=d[z.id],te=z.replacements.find(N=>N.id===re),de=te?te.name:s.find(N=>N.id===re)?.name||"",Re=te?te.type:"";let _e="text-black";return Re==="strict"?_e="text-green-700":Re==="general"&&(_e="text-amber-600"),x.jsxs("tr",{children:[x.jsx("td",{className:"border border-black p-2 font-bold bg-white text-center align-middle text-lg",children:z.period}),x.jsx("td",{className:"border border-black p-2 font-bold bg-white text-center align-middle text-lg",children:z.classInfo}),x.jsx("td",{className:"border border-black p-2 font-bold bg-white text-center align-middle text-red-600 text-lg",children:z.absentTeacherName}),x.jsx("td",{className:"border border-black p-2 text-center align-middle h-16",children:de?x.jsx("span",{className:`font-bold text-xl ${_e}`,children:de}):x.jsx("span",{className:"text-gray-400",children:"____________________"})})]},ee)}),q.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:"4",className:"p-8 text-center text-slate-500 italic border border-black",children:"No substitutions needed for this day."})})]})]})]})]})};function NN(){const[s,e]=Me.useState(null),[i,a]=Me.useState([]),[o,c]=Me.useState([]),[d,p]=Me.useState(!0),[y,_]=Me.useState(!1),[E,b]=Me.useState(null),[R,q]=Me.useState("manage"),[G,W]=Me.useState(null),[z,ee]=Me.useState(!1);Me.useEffect(()=>{(async()=>{try{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await Tw(Vc,__initial_auth_token)}catch(D){console.warn("Custom token failed, trying anonymous:",D),await mv(Vc)}else await mv(Vc)}catch(D){console.error("Auth failed",D),b(D.message)}})();const O=bw(Vc,D=>{e(D),D||p(!1)});return()=>O()},[]),Me.useEffect(()=>{s&&!d&&(async()=>{if(s)try{const O=$d(Ji($t,"artifacts",fn,"public","data","teachers"));if((await HI(O)).empty){console.log("Seeding database...");const k=I0($t);O0.forEach(w=>{const Ie=Si(Ji($t,"artifacts",fn,"public","data","classes"));k.set(Ie,{...w,createdAt:qa()})}),M0.forEach(w=>{const Ie=Si(Ji($t,"artifacts",fn,"public","data","teachers"));k.set(Ie,{...w,createdAt:qa()})}),await k.commit(),console.log("Database seeded successfully")}}catch(O){console.error("Auto-seed error",O)}})()},[s,d]),Me.useEffect(()=>{if(!s)return;const S=$d(Ji($t,"artifacts",fn,"public","data","teachers")),O=R0(S,w=>{const Ie=w.docs.map(et=>({id:et.id,...et.data()}));a(Ie),(o.length>0||w.empty)&&p(!1)}),D=$d(Ji($t,"artifacts",fn,"public","data","classes")),k=R0(D,w=>{const Ie=w.docs.map(et=>({id:et.id,...et.data()}));c(Ie),p(!1)});return()=>{O(),k()}},[s]);const re=async S=>{s&&await C0(Ji($t,"artifacts",fn,"public","data","teachers"),{name:S,timetable:{},createdAt:qa()})},te=async(S,O)=>{s&&await S0(Si($t,"artifacts",fn,"public","data","teachers",S),{timetable:O})},de=async S=>{s&&confirm("Delete teacher?")&&(await w0(Si($t,"artifacts",fn,"public","data","teachers",S)),G?.id===S&&W(null))},Re=async S=>{if(s){if(o.some(O=>O.name===S))return alert("Class exists");await C0(Ji($t,"artifacts",fn,"public","data","classes"),{name:S,divisions:[],createdAt:qa()})}},_e=async(S,O)=>{s&&await S0(Si($t,"artifacts",fn,"public","data","classes",S),{divisions:O})},N=async S=>{s&&confirm("Delete this class standard?")&&await w0(Si($t,"artifacts",fn,"public","data","classes",S))},C=async()=>{if(!s){alert("Please wait for authentication to finish.");return}if(confirm("Force reload default teachers? This will overwrite their schedules. Continue?")){_(!0);try{const S=I0($t);let O=0;const D=o.map(w=>w.name);for(const w of O0)if(!D.includes(w.name)){const Ie=Si(Ji($t,"artifacts",fn,"public","data","classes"));S.set(Ie,{name:w.name,divisions:w.divisions,createdAt:qa()}),O++}const k=new Map(i.map(w=>[w.name,w.id]));for(const w of M0)if(k.has(w.name)){const Ie=k.get(w.name),et=Si($t,"artifacts",fn,"public","data","teachers",Ie);S.update(et,{timetable:w.timetable}),O++}else{const Ie=Si(Ji($t,"artifacts",fn,"public","data","teachers"));S.set(Ie,{name:w.name,timetable:w.timetable,createdAt:qa()}),O++}O>0?(await S.commit(),alert(`Updated ${O} records.`)):alert("All data is up to date.")}catch(S){console.error(S),alert("Error: "+S.message)}_(!1)}};return d?x.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50 text-slate-400",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):x.jsx("div",{className:"h-screen w-full flex flex-col overflow-hidden bg-slate-100 text-slate-800 font-sans print:h-auto print:overflow-visible",children:x.jsxs("div",{className:"screen-only flex-1 flex flex-col h-full overflow-hidden",children:[x.jsxs("header",{className:"bg-slate-800 text-white shadow-md z-10 shrink-0",children:[x.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"bg-blue-600 p-1.5 rounded text-white",children:x.jsx(tN,{className:"w-5 h-5"})}),x.jsx("h1",{className:"font-bold text-xl tracking-tight hidden md:block",children:"SchoolScheduler"}),x.jsx("h1",{className:"font-bold text-xl tracking-tight md:hidden",children:"SS"})]}),x.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[x.jsxs("div",{className:"flex bg-slate-700 rounded-lg p-1 gap-1 items-center mr-2",children:[x.jsx("button",{onClick:()=>{q("classes"),W(null)},className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${R==="classes"?"bg-white text-slate-800 shadow":"text-slate-300 hover:bg-slate-600"}`,children:"Directory"}),x.jsx("button",{onClick:()=>{q("manage"),W(null)},className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${R==="manage"?"bg-white text-slate-800 shadow":"text-slate-300 hover:bg-slate-600"}`,children:"Timetables"}),x.jsx("button",{onClick:()=>q("substitute"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${R==="substitute"?"bg-white text-slate-800 shadow":"text-slate-300 hover:bg-slate-600"}`,children:"Generate Subs"})]}),x.jsx("button",{onClick:C,disabled:y,className:"p-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-md transition-colors",title:"Reload Default Teachers",children:y?x.jsx(Loader2,{className:"w-4 h-4 animate-spin"}):x.jsx(x0,{className:"w-4 h-4"})})]}),x.jsx("button",{onClick:()=>ee(!z),className:"md:hidden p-2 text-slate-300",children:x.jsx(aN,{className:"w-6 h-6"})})]}),z&&x.jsxs("div",{className:"md:hidden bg-slate-700 p-4 space-y-2 border-t border-slate-600",children:[x.jsx("button",{onClick:()=>{q("classes"),W(null),ee(!1)},className:`block w-full text-left px-4 py-2 rounded-md text-sm font-medium ${R==="classes"?"bg-white text-slate-800":"text-slate-300"}`,children:"Class Directory"}),x.jsx("button",{onClick:()=>{q("manage"),W(null),ee(!1)},className:`block w-full text-left px-4 py-2 rounded-md text-sm font-medium ${R==="manage"?"bg-white text-slate-800":"text-slate-300"}`,children:"Timetables"}),x.jsx("button",{onClick:()=>{q("substitute"),ee(!1)},className:`block w-full text-left px-4 py-2 rounded-md text-sm font-medium ${R==="substitute"?"bg-white text-slate-800":"text-slate-300"}`,children:"Generate Subs"}),x.jsxs("button",{onClick:C,className:"block w-full text-left px-4 py-2 rounded-md text-sm font-medium text-slate-300 flex items-center gap-2",children:[x.jsx(x0,{className:"w-4 h-4"})," Reload Defaults"]})]})]}),x.jsxs("main",{className:"flex-1 p-2 md:p-4 overflow-hidden min-h-0 relative",children:[E&&x.jsxs("div",{className:"absolute top-4 left-4 right-4 z-50 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg shadow-sm flex items-start gap-3",children:[x.jsx(vN,{className:"w-5 h-5 shrink-0 mt-0.5"}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-sm",children:"Authentication Error"}),x.jsx("p",{className:"text-sm mt-1 opacity-90",children:E})]}),x.jsx("button",{onClick:()=>b(null),className:"ml-auto text-red-400 hover:text-red-600",children:x.jsx(_p,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"max-w-7xl mx-auto h-full flex flex-col",children:[R==="classes"&&x.jsx("div",{className:"h-full w-full",children:x.jsx(SN,{classes:o,onAddClass:Re,onUpdateClass:_e,onDeleteClass:N})}),R==="manage"&&x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 h-full min-h-0",children:[x.jsx("div",{className:"col-span-1 lg:col-span-3 h-[40vh] lg:h-full min-h-0",children:x.jsx(wN,{teachers:i,onSelectTeacher:W,onDeleteTeacher:de,onAddTeacher:re})}),x.jsx("div",{className:"col-span-1 lg:col-span-9 h-full min-h-0",children:G?x.jsx(RN,{teacher:G,definedClasses:o,onUpdateTimetable:te,onClose:()=>W(null)}):x.jsxs("div",{className:"hidden lg:flex h-full bg-white rounded-xl border border-slate-200 border-dashed flex-col items-center justify-center text-slate-400 p-8 text-center",children:[x.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:x.jsx(lA,{className:"w-8 h-8 text-slate-300"})}),x.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-1",children:"Select a teacher"}),x.jsx("p",{className:"max-w-sm text-sm opacity-75",children:"Click a name from the list to edit their timetable."})]})})]}),R==="substitute"&&x.jsx(IN,{teachers:i,definedClasses:o})]})]})]})})}X1.createRoot(document.getElementById("root")).render(x.jsx(Me.StrictMode,{children:x.jsx(NN,{})}));
