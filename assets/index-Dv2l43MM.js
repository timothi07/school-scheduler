(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Zf={exports:{}},Xl={};var $y;function yA(){if($y)return Xl;$y=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Xl.Fragment=e,Xl.jsx=i,Xl.jsxs=i,Xl}var Wy;function _A(){return Wy||(Wy=1,Zf.exports=yA()),Zf.exports}var O=_A(),Jf={exports:{}},_t={};var t_;function vA(){if(t_)return _t;t_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),D=Symbol.iterator;function j(V){return V===null||typeof V!="object"?null:(V=D&&V[D]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,W={};function ot(V,X,nt){this.props=V,this.context=X,this.refs=W,this.updater=nt||G}ot.prototype.isReactComponent={},ot.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},ot.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function mt(){}mt.prototype=ot.prototype;function gt(V,X,nt){this.props=V,this.context=X,this.refs=W,this.updater=nt||G}var kt=gt.prototype=new mt;kt.constructor=gt,$(kt,ot.prototype),kt.isPureReactComponent=!0;var Kt=Array.isArray;function Ct(){}var w={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(V,X,nt){var at=nt.ref;return{$$typeof:r,type:V,key:X,ref:at!==void 0?at:null,props:nt}}function M(V,X){return R(V.type,X,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return X[nt]})}var C=/\/+/g;function se(V,X){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):X.toString(36)}function Ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ct,Ct):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,X,nt,at,pt){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var Mt=!1;if(V===null)Mt=!0;else switch(At){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(V.$$typeof){case r:case e:Mt=!0;break;case E:return Mt=V._init,Q(Mt(V._payload),X,nt,at,pt)}}if(Mt)return pt=pt(V),Mt=at===""?"."+se(V,0):at,Kt(pt)?(nt="",Mt!=null&&(nt=Mt.replace(C,"$&/")+"/"),Q(pt,X,nt,"",function(Ks){return Ks})):pt!=null&&(I(pt)&&(pt=M(pt,nt+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(C,"$&/")+"/")+Mt)),X.push(pt)),1;Mt=0;var De=at===""?".":at+":";if(Kt(V))for(var ae=0;ae<V.length;ae++)at=V[ae],At=De+se(at,ae),Mt+=Q(at,X,nt,At,pt);else if(ae=j(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(at=V.next()).done;)at=at.value,At=De+se(at,ae++),Mt+=Q(at,X,nt,At,pt);else if(At==="object"){if(typeof V.then=="function")return Q(Ie(V),X,nt,at,pt);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(V,X,nt){if(V==null)return V;var at=[],pt=0;return Q(V,at,"","",function(At){return X.call(nt,At,pt++)}),at}function ht(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:et,forEach:function(V,X,nt){et(V,function(){X.apply(this,arguments)},nt)},count:function(V){var X=0;return et(V,function(){X++}),X},toArray:function(V){return et(V,function(X){return X})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return _t.Activity=b,_t.Children=Gt,_t.Component=ot,_t.Fragment=i,_t.Profiler=o,_t.PureComponent=gt,_t.StrictMode=a,_t.Suspense=_,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,_t.__COMPILER_RUNTIME={__proto__:null,c:function(V){return w.H.useMemoCache(V)}},_t.cache=function(V){return function(){return V.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(V,X,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=$({},V.props),pt=V.key;if(X!=null)for(At in X.key!==void 0&&(pt=""+X.key),X)!S.call(X,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&X.ref===void 0||(at[At]=X[At]);var At=arguments.length-2;if(At===1)at.children=nt;else if(1<At){for(var Mt=Array(At),De=0;De<At;De++)Mt[De]=arguments[De+2];at.children=Mt}return R(V.type,pt,at)},_t.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},_t.createElement=function(V,X,nt){var at,pt={},At=null;if(X!=null)for(at in X.key!==void 0&&(At=""+X.key),X)S.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(pt[at]=X[at]);var Mt=arguments.length-2;if(Mt===1)pt.children=nt;else if(1<Mt){for(var De=Array(Mt),ae=0;ae<Mt;ae++)De[ae]=arguments[ae+2];pt.children=De}if(V&&V.defaultProps)for(at in Mt=V.defaultProps,Mt)pt[at]===void 0&&(pt[at]=Mt[at]);return R(V,At,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(V){return{$$typeof:p,render:V}},_t.isValidElement=I,_t.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ht}},_t.memo=function(V,X){return{$$typeof:v,type:V,compare:X===void 0?null:X}},_t.startTransition=function(V){var X=w.T,nt={};w.T=nt;try{var at=V(),pt=w.S;pt!==null&&pt(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ct,Ut)}catch(At){Ut(At)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),w.T=X}},_t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},_t.use=function(V){return w.H.use(V)},_t.useActionState=function(V,X,nt){return w.H.useActionState(V,X,nt)},_t.useCallback=function(V,X){return w.H.useCallback(V,X)},_t.useContext=function(V){return w.H.useContext(V)},_t.useDebugValue=function(){},_t.useDeferredValue=function(V,X){return w.H.useDeferredValue(V,X)},_t.useEffect=function(V,X){return w.H.useEffect(V,X)},_t.useEffectEvent=function(V){return w.H.useEffectEvent(V)},_t.useId=function(){return w.H.useId()},_t.useImperativeHandle=function(V,X,nt){return w.H.useImperativeHandle(V,X,nt)},_t.useInsertionEffect=function(V,X){return w.H.useInsertionEffect(V,X)},_t.useLayoutEffect=function(V,X){return w.H.useLayoutEffect(V,X)},_t.useMemo=function(V,X){return w.H.useMemo(V,X)},_t.useOptimistic=function(V,X){return w.H.useOptimistic(V,X)},_t.useReducer=function(V,X,nt){return w.H.useReducer(V,X,nt)},_t.useRef=function(V){return w.H.useRef(V)},_t.useState=function(V){return w.H.useState(V)},_t.useSyncExternalStore=function(V,X,nt){return w.H.useSyncExternalStore(V,X,nt)},_t.useTransition=function(){return w.H.useTransition()},_t.version="19.2.0",_t}var e_;function Gd(){return e_||(e_=1,Jf.exports=vA()),Jf.exports}var Bt=Gd(),$f={exports:{}},Zl={},Wf={exports:{}},td={};var n_;function TA(){return n_||(n_=1,(function(r){function e(Q,et){var ht=Q.length;Q.push(et);t:for(;0<ht;){var Ut=ht-1>>>1,Gt=Q[Ut];if(0<o(Gt,et))Q[Ut]=et,Q[ht]=Gt,ht=Ut;else break t}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var et=Q[0],ht=Q.pop();if(ht!==et){Q[0]=ht;t:for(var Ut=0,Gt=Q.length,V=Gt>>>1;Ut<V;){var X=2*(Ut+1)-1,nt=Q[X],at=X+1,pt=Q[at];if(0>o(nt,ht))at<Gt&&0>o(pt,nt)?(Q[Ut]=pt,Q[at]=ht,Ut=at):(Q[Ut]=nt,Q[X]=ht,Ut=X);else if(at<Gt&&0>o(pt,ht))Q[Ut]=pt,Q[at]=ht,Ut=at;else break t}}return et}function o(Q,et){var ht=Q.sortIndex-et.sortIndex;return ht!==0?ht:Q.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],v=[],E=1,b=null,D=3,j=!1,G=!1,$=!1,W=!1,ot=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function kt(Q){for(var et=i(v);et!==null;){if(et.callback===null)a(v);else if(et.startTime<=Q)a(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function Kt(Q){if($=!1,kt(Q),!G)if(i(_)!==null)G=!0,Ct||(Ct=!0,U());else{var et=i(v);et!==null&&Ie(Kt,et.startTime-Q)}}var Ct=!1,w=-1,S=5,R=-1;function M(){return W?!0:!(r.unstable_now()-R<S)}function I(){if(W=!1,Ct){var Q=r.unstable_now();R=Q;var et=!0;try{t:{G=!1,$&&($=!1,mt(w),w=-1),j=!0;var ht=D;try{e:{for(kt(Q),b=i(_);b!==null&&!(b.expirationTime>Q&&M());){var Ut=b.callback;if(typeof Ut=="function"){b.callback=null,D=b.priorityLevel;var Gt=Ut(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof Gt=="function"){b.callback=Gt,kt(Q),et=!0;break e}b===i(_)&&a(_),kt(Q)}else a(_);b=i(_)}if(b!==null)et=!0;else{var V=i(v);V!==null&&Ie(Kt,V.startTime-Q),et=!1}}break t}finally{b=null,D=ht,j=!1}et=void 0}}finally{et?U():Ct=!1}}}var U;if(typeof gt=="function")U=function(){gt(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,se=C.port2;C.port1.onmessage=I,U=function(){se.postMessage(null)}}else U=function(){ot(I,0)};function Ie(Q,et){w=ot(function(){Q(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(Q){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ht=D;D=et;try{return Q()}finally{D=ht}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(Q,et){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ht=D;D=Q;try{return et()}finally{D=ht}},r.unstable_scheduleCallback=function(Q,et,ht){var Ut=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ut+ht:Ut):ht=Ut,Q){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ht+Gt,Q={id:E++,callback:et,priorityLevel:Q,startTime:ht,expirationTime:Gt,sortIndex:-1},ht>Ut?(Q.sortIndex=ht,e(v,Q),i(_)===null&&Q===i(v)&&($?(mt(w),w=-1):$=!0,Ie(Kt,ht-Ut))):(Q.sortIndex=Gt,e(_,Q),G||j||(G=!0,Ct||(Ct=!0,U()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var et=D;return function(){var ht=D;D=et;try{return Q.apply(this,arguments)}finally{D=ht}}}})(td)),td}var i_;function EA(){return i_||(i_=1,Wf.exports=TA()),Wf.exports}var ed={exports:{}},Ke={};var s_;function AA(){if(s_)return Ke;s_=1;var r=Gd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:_,containerInfo:v,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(_,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,E)},Ke.flushSync=function(_){var v=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=E,a.d.f()}},Ke.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Ke.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ke.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var E=v.as,b=p(E,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:D,fetchPriority:j}):E==="script"&&a.d.X(_,{crossOrigin:b,integrity:D,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ke.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Ke.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,b=p(E,v.crossOrigin);a.d.L(_,E,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ke.preloadModule=function(_,v){if(typeof _=="string")if(v){var E=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Ke.requestFormReset=function(_){a.d.r(_)},Ke.unstable_batchedUpdates=function(_,v){return _(v)},Ke.useFormState=function(_,v,E){return d.H.useFormState(_,v,E)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var a_;function bA(){if(a_)return ed.exports;a_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ed.exports=AA(),ed.exports}var r_;function SA(){if(r_)return Zl;r_=1;var r=EA(),e=Gd(),i=bA();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return _(c),t;if(f===l)return _(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,T=c.child;T;){if(T===s){g=!0,s=c,l=f;break}if(T===l){g=!0,l=c,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=c;break}if(T===l){g=!0,l=f,s=c;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,D=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ot:return"Profiler";case W:return"StrictMode";case Kt:return"Suspense";case Ct:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case gt:return t.displayName||"Context";case mt:return(t._context.displayName||"Context")+".Consumer";case kt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:se(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return se(t(n))}catch{}}return null}var Ie=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ut=[],Gt=-1;function V(t){return{current:t}}function X(t){0>Gt||(t.current=Ut[Gt],Ut[Gt]=null,Gt--)}function nt(t,n){Gt++,Ut[Gt]=t.current,t.current=n}var at=V(null),pt=V(null),At=V(null),Mt=V(null);function De(t,n){switch(nt(At,n),nt(pt,t),nt(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ey(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ey(n),t=Ay(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(at),nt(at,t)}function ae(){X(at),X(pt),X(At)}function Ks(t){t.memoizedState!==null&&nt(Mt,t);var n=at.current,s=Ay(n,t.type);n!==s&&(nt(pt,t),nt(at,s))}function Oa(t){pt.current===t&&(X(at),X(pt)),Mt.current===t&&(X(Mt),Fl._currentValue=ht)}var Ua,Ba;function $n(t){if(Ua===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ua=n&&n[1]||"",Ba=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+t+Ba}var Fr=!1;function Xs(t,n){if(!t||Fr)return"";Fr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var P=H}Reflect.construct(t,[],K)}else{try{K.call()}catch(H){P=H}t.call(K.prototype)}}else{try{throw Error()}catch(H){P=H}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var N=g.split(`
`),k=T.split(`
`);for(c=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===N.length||c===k.length)for(l=N.length-1,c=k.length-1;1<=l&&0<=c&&N[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(N[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||N[l]!==k[c]){var F=`
`+N[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Fr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?$n(s):""}function Qr(t,n){switch(t.tag){case 26:case 27:case 5:return $n(t.type);case 16:return $n("Lazy");case 13:return t.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return Xs(t.type,!1);case 11:return Xs(t.type.render,!1);case 1:return Xs(t.type,!0);case 31:return $n("Activity");default:return""}}function Yr(t){try{var n="",s=null;do n+=Qr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,xe=r.unstable_scheduleCallback,$i=r.unstable_cancelCallback,Jc=r.unstable_shouldYield,No=r.unstable_requestPaint,Je=r.unstable_now,Zs=r.unstable_getCurrentPriorityLevel,Kr=r.unstable_ImmediatePriority,Xr=r.unstable_UserBlockingPriority,Wi=r.unstable_NormalPriority,$c=r.unstable_LowPriority,Io=r.unstable_IdlePriority,Do=r.log,xo=r.unstable_setDisableYieldValue,Ln=null,ze=null;function bn(t){if(typeof Do=="function"&&xo(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ln,t)}catch{}}var he=Math.clz32?Math.clz32:Mo,Vo=Math.log,La=Math.LN2;function Mo(t){return t>>>=0,t===0?32:31-(Vo(t)/La|0)|0}var Wn=256,Js=262144,ye=4194304;function ti(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ei(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=ti(l):(g&=T,g!==0?c=ti(g):s||(s=T&~t,s!==0&&(c=ti(s))))):(T=l&~f,T!==0?c=ti(T):g!==0?c=ti(g):s||(s=l&~t,s!==0&&(c=ti(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Wc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function ni(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function $s(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function th(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,k=t.hiddenUpdates;for(s=g&~s;0<s;){var F=31-he(s),K=1<<F;T[F]=0,N[F]=-1;var P=k[F];if(P!==null)for(k[F]=null,F=0;F<P.length;F++){var H=P[F];H!==null&&(H.lane&=-536870913)}s&=~K}l!==0&&Ws(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ws(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Zr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-he(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Jr(t,n){var s=n&-n;return s=(s&42)!==0?1:ta(s),(s&(t.suspendedLanes|n))!==0?0:s}function ta(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ni(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Uo(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Fy(t.type))}function kn(t,n){var s=et.p;try{return et.p=t,n()}finally{et.p=s}}var Pn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Pn,Oe="__reactProps$"+Pn,ii="__reactContainer$"+Pn,za="__reactEvents$"+Pn,eh="__reactListeners$"+Pn,Bo="__reactHandles$"+Pn,Lo="__reactResources$"+Pn,si="__reactMarker$"+Pn;function ka(t){delete t[_e],delete t[Oe],delete t[za],delete t[eh],delete t[Bo]}function ai(t){var n=t[_e];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ii]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Iy(t);t!==null;){if(s=t[_e])return s;t=Iy(t)}return n}t=s,s=t.parentNode}return null}function Sn(t){if(t=t[_e]||t[ii]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ri(t){var n=t[Lo];return n||(n=t[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[si]=!0}var $r=new Set,Wr={};function li(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(Wr[t]=n,t=0;t<n.length;t++)$r.add(n[t])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},nl={};function zo(t){return pe.call(nl,t)?!0:pe.call(el,t)?!1:tl.test(t)?nl[t]=!0:(el[t]=!0,!1)}function Pa(t,n,s){if(zo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function mn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Te(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Ue(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ts(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function il(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ft(t){if(!t._valueTracker){var n=ts(t)?"checked":"value";t._valueTracker=il(t,n,""+t[n])}}function ea(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=ts(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var na=/[\n"\\]/g;function en(t){return t.replace(na,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ja(t,n,s,l,c,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ue(n)):t.value!==""+Ue(n)&&(t.value=""+Ue(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?sl(t,g,Ue(n)):s!=null?sl(t,g,Ue(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ue(T):t.removeAttribute("name")}function ko(t,n,s,l,c,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(t);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ft(t)}function sl(t,n,s){n==="number"&&ui(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function es(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Po(t,n,s){if(n!=null&&(n=""+Ue(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Ue(s):""}function ns(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ue(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Ft(t)}function nn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var jo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||jo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function rl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&al(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&al(t,f,n[f])}function qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(t){return is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jn(){}var ll=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ss=null,ci=null;function ia(t){var n=Sn(t);if(n&&(t=n.stateNode)){var s=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(ja(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(a(90));ja(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&ea(l)}break t;case"textarea":Po(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&es(t,!!s.multiple,n,!1)}}}var Ga=!1;function as(t,n,s){if(Ga)return t(n,s);Ga=!0;try{var l=t(n);return l}finally{if(Ga=!1,(ss!==null||ci!==null)&&(Uu(),ss&&(n=ss,t=ci,ci=ss=null,ia(n),t)))for(n=0;n<t.length;n++)ia(t[n])}}function qn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Oe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(Cn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){sa=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{sa=!1}var hi=null,ol=null,aa=null;function ul(){if(aa)return aa;var t,n=ol,s=n.length,l,c="value"in hi?hi.value:hi.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return aa=c.slice(t,1<l?1-l:void 0)}function ra(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ii(){return!0}function Hn(){return!1}function ke(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:Hn,this.isPropagationStopped=Hn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ke(Di),rs=b({},Di,{view:0,detail:0}),cl=ke(rs),ls,Fa,di,Qa=b({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(ls=t.screenX-di.screenX,Fa=t.screenY-di.screenY):Fa=ls=0,di=t),ls)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),hl=ke(Qa),la=b({},Qa,{dataTransfer:0}),Ho=ke(la),Go=b({},rs,{relatedTarget:0}),oa=ke(Go),fl=b({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),Fo=ke(fl),Ya=b({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qo=ke(Ya),Yo=b({},Di,{data:0}),mi=ke(Yo),Ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Zo[t])?!!n[t]:!1}function os(){return Jo}var $e=b({},rs,{key:function(t){if(t.key){var n=Ko[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ra(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(t){return t.type==="keypress"?ra(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ra(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$o=ke($e),Wo=b({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=ke(Wo),u=b({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),m=ke(u),y=b({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=ke(y),L=b({},Qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ke(L),tt=b({},Di,{newState:0,oldState:0}),Tt=ke(tt),fe=[9,13,27,32],Pt=Cn&&"CompositionEvent"in window,re=null;Cn&&"documentMode"in document&&(re=document.documentMode);var Rn=Cn&&"TextEvent"in window&&!re,gi=Cn&&(!Pt||re&&8<re&&11>=re),Gn=" ",Fn=!1;function ua(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function jT(t,n){switch(t){case"compositionend":return Ka(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Fn?null:t;default:return null}}function qT(t,n){if(Xa)return t==="compositionend"||!Pt&&ua(t,n)?(t=ul(),aa=ol=hi=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var HT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!HT[t.type]:n==="textarea"}function Mm(t,n,s,l){ss?ci?ci.push(l):ci=[l]:ss=l,n=qu(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var dl=null,ml=null;function GT(t){gy(t,0)}function tu(t){var n=dn(t);if(ea(n))return t}function Om(t,n){if(t==="change")return n}var Um=!1;if(Cn){var nh;if(Cn){var ih="oninput"in document;if(!ih){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),ih=typeof Bm.oninput=="function"}nh=ih}else nh=!1;Um=nh&&(!document.documentMode||9<document.documentMode)}function Lm(){dl&&(dl.detachEvent("onpropertychange",zm),ml=dl=null)}function zm(t){if(t.propertyName==="value"&&tu(ml)){var n=[];Mm(n,ml,t,wn(t)),as(GT,n)}}function FT(t,n,s){t==="focusin"?(Lm(),dl=n,ml=s,dl.attachEvent("onpropertychange",zm)):t==="focusout"&&Lm()}function QT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tu(ml)}function YT(t,n){if(t==="click")return tu(n)}function KT(t,n){if(t==="input"||t==="change")return tu(n)}function XT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:XT;function gl(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!pe.call(n,c)||!gn(t[c],n[c]))return!1}return!0}function km(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pm(t,n){var s=km(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=km(s)}}function jm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?jm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ui(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ui(t.document)}return n}function sh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ZT=Cn&&"documentMode"in document&&11>=document.documentMode,Za=null,ah=null,pl=null,rh=!1;function Hm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;rh||Za==null||Za!==ui(l)||(l=Za,"selectionStart"in l&&sh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&gl(pl,l)||(pl=l,l=qu(ah,"onSelect"),0<l.length&&(n=new fi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Za)))}function ca(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ja={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},lh={},Gm={};Cn&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ha(t){if(lh[t])return lh[t];if(!Ja[t])return t;var n=Ja[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Gm)return lh[t]=n[s];return t}var Fm=ha("animationend"),Qm=ha("animationiteration"),Ym=ha("animationstart"),JT=ha("transitionrun"),$T=ha("transitionstart"),WT=ha("transitioncancel"),Km=ha("transitionend"),Xm=new Map,oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oh.push("scrollEnd");function Qn(t,n){Xm.set(t,n),li(n,[t])}var eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],$a=0,uh=0;function nu(){for(var t=$a,n=uh=$a=0;n<t;){var s=Nn[n];Nn[n++]=null;var l=Nn[n];Nn[n++]=null;var c=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Zm(s,c,f)}}function iu(t,n,s,l){Nn[$a++]=t,Nn[$a++]=n,Nn[$a++]=s,Nn[$a++]=l,uh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ch(t,n,s,l){return iu(t,n,s,l),su(t)}function fa(t,n){return iu(t,null,null,n),su(t)}function Zm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-he(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function su(t){if(50<zl)throw zl=0,Tf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Wa={};function tE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,s,l){return new tE(t,n,s,l)}function hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,n){var s=t.alternate;return s===null?(s=pn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Jm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function au(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")hh(t)&&(g=1);else if(typeof t=="string")g=aA(t,s,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=pn(31,s,n,c),t.elementType=R,t.lanes=f,t;case $:return da(s.children,c,f,n);case W:g=8,c|=24;break;case ot:return t=pn(12,s,n,c|2),t.elementType=ot,t.lanes=f,t;case Kt:return t=pn(13,s,n,c),t.elementType=Kt,t.lanes=f,t;case Ct:return t=pn(19,s,n,c),t.elementType=Ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gt:g=10;break t;case mt:g=9;break t;case kt:g=11;break t;case w:g=14;break t;case S:g=16,l=null;break t}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=pn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function da(t,n,s,l){return t=pn(7,t,l,n),t.lanes=s,t}function fh(t,n,s){return t=pn(6,t,null,n),t.lanes=s,t}function $m(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function dh(t,n,s){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Wm=new WeakMap;function In(t,n){if(typeof t=="object"&&t!==null){var s=Wm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Yr(n)},Wm.set(t,n),n)}return{value:t,source:n,stack:Yr(n)}}var tr=[],er=0,ru=null,yl=0,Dn=[],xn=0,us=null,pi=1,yi="";function Mi(t,n){tr[er++]=yl,tr[er++]=ru,ru=t,yl=n}function tg(t,n,s){Dn[xn++]=pi,Dn[xn++]=yi,Dn[xn++]=us,us=t;var l=pi;t=yi;var c=32-he(l)-1;l&=~(1<<c),s+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,pi=1<<32-he(n)+c|s<<c|l,yi=f+t}else pi=1<<f|s<<c|l,yi=t}function mh(t){t.return!==null&&(Mi(t,1),tg(t,1,0))}function gh(t){for(;t===ru;)ru=tr[--er],tr[er]=null,yl=tr[--er],tr[er]=null;for(;t===us;)us=Dn[--xn],Dn[xn]=null,yi=Dn[--xn],Dn[xn]=null,pi=Dn[--xn],Dn[xn]=null}function eg(t,n){Dn[xn++]=pi,Dn[xn++]=yi,Dn[xn++]=us,pi=n.id,yi=n.overflow,us=t}var Pe=null,ee=null,Vt=!1,cs=null,Vn=!1,ph=Error(a(519));function hs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(In(n,t)),ph}function ng(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Oe]=l,s){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(s=0;s<Pl.length;s++)wt(Pl[s],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),ko(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),ns(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||vy(n.textContent,s)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||hs(t,!0)}function ig(t){for(Pe=t.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Pe=Pe.return}}function nr(t){if(t!==Pe)return!1;if(!Vt)return ig(t),Vt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Uf(t.type,t.memoizedProps)),s=!s),s&&ee&&hs(t),ig(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ee=Ny(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ee=Ny(t)}else n===27?(n=ee,ws(t.type)?(t=Pf,Pf=null,ee=t):ee=n):ee=Pe?On(t.stateNode.nextSibling):null;return!0}function ma(){ee=Pe=null,Vt=!1}function yh(){var t=cs;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),cs=null),t}function _l(t){cs===null?cs=[t]:cs.push(t)}var _h=V(null),ga=null,Oi=null;function fs(t,n,s){nt(_h,n._currentValue),n._currentValue=s}function Ui(t){t._currentValue=_h.current,X(_h)}function vh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Th(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var N=0;N<n.length;N++)if(T.context===n[N]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),vh(f.return,s,t),l||(g=null);break t}f=T.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),vh(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ir(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=c.type;gn(c.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}c=c.return}t!==null&&Th(n,t,s,l),n.flags|=262144}function lu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function pa(t){ga=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return sg(ga,t)}function ou(t,n){return ga===null&&pa(t),sg(t,n)}function sg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Oi===null){if(t===null)throw Error(a(308));Oi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Oi=Oi.next=n;return s}var eE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},nE=r.unstable_scheduleCallback,iE=r.unstable_NormalPriority,Ee={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eh(){return{controller:new eE,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&nE(iE,function(){t.controller.abort()})}var Tl=null,Ah=0,sr=0,ar=null;function sE(t,n){if(Tl===null){var s=Tl=[];Ah=0,sr=Cf(),ar={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Ah++,n.then(ag,ag),n}function ag(){if(--Ah===0&&Tl!==null){ar!==null&&(ar.status="fulfilled");var t=Tl;Tl=null,sr=0,ar=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function aE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var rg=Q.S;Q.S=function(t,n){Hp=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&sE(t,n),rg!==null&&rg(t,n)};var ya=V(null);function bh(){var t=ya.current;return t!==null?t:Wt.pooledCache}function uu(t,n){n===null?nt(ya,ya.current):nt(ya,n.pool)}function lg(){var t=bh();return t===null?null:{parent:Ee._currentValue,pool:t}}var rr=Error(a(460)),Sh=Error(a(474)),cu=Error(a(542)),hu={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ug(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hg(t),t;default:if(typeof n.status=="string")n.then(jn,jn);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hg(t),t}throw va=n,rr}}function _a(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(va=s,rr):s}}var va=null;function cg(){if(va===null)throw Error(a(459));var t=va;return va=null,t}function hg(t){if(t===rr||t===cu)throw Error(a(483))}var lr=null,El=0;function fu(t){var n=El;return El+=1,lr===null&&(lr=[]),ug(lr,t,n)}function Al(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function du(t,n){throw n.$$typeof===D?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fg(t){function n(B,x){if(t){var z=B.deletions;z===null?(B.deletions=[x],B.flags|=16):z.push(x)}}function s(B,x){if(!t)return null;for(;x!==null;)n(B,x),x=x.sibling;return null}function l(B){for(var x=new Map;B!==null;)B.key!==null?x.set(B.key,B):x.set(B.index,B),B=B.sibling;return x}function c(B,x){return B=Vi(B,x),B.index=0,B.sibling=null,B}function f(B,x,z){return B.index=z,t?(z=B.alternate,z!==null?(z=z.index,z<x?(B.flags|=67108866,x):z):(B.flags|=67108866,x)):(B.flags|=1048576,x)}function g(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function T(B,x,z,Y){return x===null||x.tag!==6?(x=fh(z,B.mode,Y),x.return=B,x):(x=c(x,z),x.return=B,x)}function N(B,x,z,Y){var ut=z.type;return ut===$?F(B,x,z.props.children,Y,z.key):x!==null&&(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&_a(ut)===x.type)?(x=c(x,z.props),Al(x,z),x.return=B,x):(x=au(z.type,z.key,z.props,null,B.mode,Y),Al(x,z),x.return=B,x)}function k(B,x,z,Y){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=dh(z,B.mode,Y),x.return=B,x):(x=c(x,z.children||[]),x.return=B,x)}function F(B,x,z,Y,ut){return x===null||x.tag!==7?(x=da(z,B.mode,Y,ut),x.return=B,x):(x=c(x,z),x.return=B,x)}function K(B,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=fh(""+x,B.mode,z),x.return=B,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case j:return z=au(x.type,x.key,x.props,null,B.mode,z),Al(z,x),z.return=B,z;case G:return x=dh(x,B.mode,z),x.return=B,x;case S:return x=_a(x),K(B,x,z)}if(Ie(x)||U(x))return x=da(x,B.mode,z,null),x.return=B,x;if(typeof x.then=="function")return K(B,fu(x),z);if(x.$$typeof===gt)return K(B,ou(B,x),z);du(B,x)}return null}function P(B,x,z,Y){var ut=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ut!==null?null:T(B,x,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return z.key===ut?N(B,x,z,Y):null;case G:return z.key===ut?k(B,x,z,Y):null;case S:return z=_a(z),P(B,x,z,Y)}if(Ie(z)||U(z))return ut!==null?null:F(B,x,z,Y,null);if(typeof z.then=="function")return P(B,x,fu(z),Y);if(z.$$typeof===gt)return P(B,x,ou(B,z),Y);du(B,z)}return null}function H(B,x,z,Y,ut){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return B=B.get(z)||null,T(x,B,""+Y,ut);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return B=B.get(Y.key===null?z:Y.key)||null,N(x,B,Y,ut);case G:return B=B.get(Y.key===null?z:Y.key)||null,k(x,B,Y,ut);case S:return Y=_a(Y),H(B,x,z,Y,ut)}if(Ie(Y)||U(Y))return B=B.get(z)||null,F(x,B,Y,ut,null);if(typeof Y.then=="function")return H(B,x,z,fu(Y),ut);if(Y.$$typeof===gt)return H(B,x,z,ou(x,Y),ut);du(x,Y)}return null}function rt(B,x,z,Y){for(var ut=null,Lt=null,lt=x,bt=x=0,Nt=null;lt!==null&&bt<z.length;bt++){lt.index>bt?(Nt=lt,lt=null):Nt=lt.sibling;var zt=P(B,lt,z[bt],Y);if(zt===null){lt===null&&(lt=Nt);break}t&&lt&&zt.alternate===null&&n(B,lt),x=f(zt,x,bt),Lt===null?ut=zt:Lt.sibling=zt,Lt=zt,lt=Nt}if(bt===z.length)return s(B,lt),Vt&&Mi(B,bt),ut;if(lt===null){for(;bt<z.length;bt++)lt=K(B,z[bt],Y),lt!==null&&(x=f(lt,x,bt),Lt===null?ut=lt:Lt.sibling=lt,Lt=lt);return Vt&&Mi(B,bt),ut}for(lt=l(lt);bt<z.length;bt++)Nt=H(lt,B,bt,z[bt],Y),Nt!==null&&(t&&Nt.alternate!==null&&lt.delete(Nt.key===null?bt:Nt.key),x=f(Nt,x,bt),Lt===null?ut=Nt:Lt.sibling=Nt,Lt=Nt);return t&&lt.forEach(function(Ds){return n(B,Ds)}),Vt&&Mi(B,bt),ut}function ft(B,x,z,Y){if(z==null)throw Error(a(151));for(var ut=null,Lt=null,lt=x,bt=x=0,Nt=null,zt=z.next();lt!==null&&!zt.done;bt++,zt=z.next()){lt.index>bt?(Nt=lt,lt=null):Nt=lt.sibling;var Ds=P(B,lt,zt.value,Y);if(Ds===null){lt===null&&(lt=Nt);break}t&&lt&&Ds.alternate===null&&n(B,lt),x=f(Ds,x,bt),Lt===null?ut=Ds:Lt.sibling=Ds,Lt=Ds,lt=Nt}if(zt.done)return s(B,lt),Vt&&Mi(B,bt),ut;if(lt===null){for(;!zt.done;bt++,zt=z.next())zt=K(B,zt.value,Y),zt!==null&&(x=f(zt,x,bt),Lt===null?ut=zt:Lt.sibling=zt,Lt=zt);return Vt&&Mi(B,bt),ut}for(lt=l(lt);!zt.done;bt++,zt=z.next())zt=H(lt,B,bt,zt.value,Y),zt!==null&&(t&&zt.alternate!==null&&lt.delete(zt.key===null?bt:zt.key),x=f(zt,x,bt),Lt===null?ut=zt:Lt.sibling=zt,Lt=zt);return t&&lt.forEach(function(pA){return n(B,pA)}),Vt&&Mi(B,bt),ut}function $t(B,x,z,Y){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case j:t:{for(var ut=z.key;x!==null;){if(x.key===ut){if(ut=z.type,ut===$){if(x.tag===7){s(B,x.sibling),Y=c(x,z.props.children),Y.return=B,B=Y;break t}}else if(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&_a(ut)===x.type){s(B,x.sibling),Y=c(x,z.props),Al(Y,z),Y.return=B,B=Y;break t}s(B,x);break}else n(B,x);x=x.sibling}z.type===$?(Y=da(z.props.children,B.mode,Y,z.key),Y.return=B,B=Y):(Y=au(z.type,z.key,z.props,null,B.mode,Y),Al(Y,z),Y.return=B,B=Y)}return g(B);case G:t:{for(ut=z.key;x!==null;){if(x.key===ut)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){s(B,x.sibling),Y=c(x,z.children||[]),Y.return=B,B=Y;break t}else{s(B,x);break}else n(B,x);x=x.sibling}Y=dh(z,B.mode,Y),Y.return=B,B=Y}return g(B);case S:return z=_a(z),$t(B,x,z,Y)}if(Ie(z))return rt(B,x,z,Y);if(U(z)){if(ut=U(z),typeof ut!="function")throw Error(a(150));return z=ut.call(z),ft(B,x,z,Y)}if(typeof z.then=="function")return $t(B,x,fu(z),Y);if(z.$$typeof===gt)return $t(B,x,ou(B,z),Y);du(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(s(B,x.sibling),Y=c(x,z),Y.return=B,B=Y):(s(B,x),Y=fh(z,B.mode,Y),Y.return=B,B=Y),g(B)):s(B,x)}return function(B,x,z,Y){try{El=0;var ut=$t(B,x,z,Y);return lr=null,ut}catch(lt){if(lt===rr||lt===cu)throw lt;var Lt=pn(29,lt,null,B.mode);return Lt.lanes=Y,Lt.return=B,Lt}finally{}}}var Ta=fg(!0),dg=fg(!1),ds=!1;function wh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=su(t),Zm(t,null,s),n}return iu(t,l,n,s),su(t)}function bl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Zr(t,s)}}function Rh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Nh=!1;function Sl(){if(Nh){var t=ar;if(t!==null)throw t}}function wl(t,n,s,l){Nh=!1;var c=t.updateQueue;ds=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var N=T,k=N.next;N.next=null,g===null?f=k:g.next=k,g=N;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=k:T.next=k,F.lastBaseUpdate=N))}if(f!==null){var K=c.baseState;g=0,F=k=N=null,T=f;do{var P=T.lane&-536870913,H=P!==T.lane;if(H?(Rt&P)===P:(l&P)===P){P!==0&&P===sr&&(Nh=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var rt=t,ft=T;P=n;var $t=s;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){K=rt.call($t,K,P);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,P=typeof rt=="function"?rt.call($t,K,P):rt,P==null)break t;K=b({},K,P);break t;case 2:ds=!0}}P=T.callback,P!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[P]:H.push(P))}else H={lane:P,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(k=F=H,N=K):F=F.next=H,g|=P;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;H=T,T=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);F===null&&(N=K),c.baseState=N,c.firstBaseUpdate=k,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),Ts|=g,t.lanes=g,t.memoizedState=K}}function mg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function gg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)mg(s[t],n)}var or=V(null),mu=V(0);function pg(t,n){t=Gi,nt(mu,t),nt(or,n),Gi=t|n.baseLanes}function Ih(){nt(mu,Gi),nt(or,or.current)}function Dh(){Gi=mu.current,X(or),X(mu)}var yn=V(null),Mn=null;function ps(t){var n=t.alternate;nt(de,de.current&1),nt(yn,t),Mn===null&&(n===null||or.current!==null||n.memoizedState!==null)&&(Mn=t)}function xh(t){nt(de,de.current),nt(yn,t),Mn===null&&(Mn=t)}function yg(t){t.tag===22?(nt(de,de.current),nt(yn,t),Mn===null&&(Mn=t)):ys()}function ys(){nt(de,de.current),nt(yn,yn.current)}function _n(t){X(yn),Mn===t&&(Mn=null),X(de)}var de=V(0);function gu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||zf(s)||kf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,Et=null,Zt=null,Ae=null,pu=!1,ur=!1,Ea=!1,yu=0,Cl=0,cr=null,rE=0;function ue(){throw Error(a(321))}function Vh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!gn(t[s],n[s]))return!1;return!0}function Mh(t,n,s,l,c,f){return Bi=f,Et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?tp:Kh,Ea=!1,f=s(l,c),Ea=!1,ur&&(f=vg(n,s,l,c)),_g(t),f}function _g(t){Q.H=Il;var n=Zt!==null&&Zt.next!==null;if(Bi=0,Ae=Zt=Et=null,pu=!1,Cl=0,cr=null,n)throw Error(a(300));t===null||be||(t=t.dependencies,t!==null&&lu(t)&&(be=!0))}function vg(t,n,s,l){Et=t;var c=0;do{if(ur&&(cr=null),Cl=0,ur=!1,25<=c)throw Error(a(301));if(c+=1,Ae=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=ep,f=n(s,l)}while(ur);return f}function lE(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?Rl(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(Et.flags|=1024),n}function Oh(){var t=yu!==0;return yu=0,t}function Uh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Bh(t){if(pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}pu=!1}Bi=0,Ae=Zt=Et=null,ur=!1,Cl=yu=0,cr=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Et.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function me(){if(Zt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=Ae===null?Et.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=t;else{if(t===null)throw Et.alternate===null?Error(a(467)):Error(a(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?Et.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var n=Cl;return Cl+=1,cr===null&&(cr=[]),t=ug(cr,t,n),n=Et,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?tp:Kh),t}function vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===gt)return je(t)}throw Error(a(438,String(t)))}function Lh(t){var n=null,s=Et.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Et.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=_u(),Et.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=M;return n.index++,s}function Li(t,n){return typeof n=="function"?n(t):n}function Tu(t){var n=me();return zh(n,Zt,t)}function zh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=g=null,N=null,k=n,F=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(Rt&K)===K:(Bi&K)===K){var P=k.revertLane;if(P===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===sr&&(F=!0);else if((Bi&P)===P){k=k.next,P===sr&&(F=!0);continue}else K={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(T=N=K,g=f):N=N.next=K,Et.lanes|=P,Ts|=P;K=k.action,Ea&&s(f,K),f=k.hasEagerState?k.eagerState:s(f,K)}else P={lane:K,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(T=N=P,g=f):N=N.next=P,Et.lanes|=K,Ts|=K;k=k.next}while(k!==null&&k!==n);if(N===null?g=f:N.next=T,!gn(f,t.memoizedState)&&(be=!0,F&&(s=ar,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=N,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function kh(t){var n=me(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);gn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Tg(t,n,s){var l=Et,c=me(),f=Vt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!gn((Zt||c).memoizedState,s);if(g&&(c.memoizedState=s,be=!0),c=c.queue,qh(bg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,hr(9,{destroy:void 0},Ag.bind(null,l,c,s,n),null),Wt===null)throw Error(a(349));f||(Bi&127)!==0||Eg(l,n,s)}return s}function Eg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Et.updateQueue,n===null?(n=_u(),Et.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Ag(t,n,s,l){n.value=s,n.getSnapshot=l,Sg(n)&&wg(t)}function bg(t,n,s){return s(function(){Sg(n)&&wg(t)})}function Sg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!gn(t,s)}catch{return!0}}function wg(t){var n=fa(t,2);n!==null&&on(n,t,2)}function Ph(t){var n=We();if(typeof t=="function"){var s=t;if(t=s(),Ea){bn(!0);try{s()}finally{bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},n}function Cg(t,n,s,l){return t.baseState=s,zh(t,Zt,typeof l=="function"?l:Li)}function oE(t,n,s,l,c){if(bu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Q.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Rg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Rg(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Q.T,g={};Q.T=g;try{var T=s(c,l),N=Q.S;N!==null&&N(g,T),Ng(t,n,T)}catch(k){jh(t,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),Q.T=f}}else try{f=s(c,l),Ng(t,n,f)}catch(k){jh(t,n,k)}}function Ng(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ig(t,n,l)},function(l){return jh(t,n,l)}):Ig(t,n,s)}function Ig(t,n,s){n.status="fulfilled",n.value=s,Dg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Rg(t,s)))}function jh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Dg(n),n=n.next;while(n!==l)}t.action=null}function Dg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xg(t,n){return n}function Vg(t,n){if(Vt){var s=Wt.formState;if(s!==null){t:{var l=Et;if(Vt){if(ee){e:{for(var c=ee,f=Vn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=On(c.nextSibling),l=c.data==="F!";break t}}hs(l)}l=!1}l&&(n=s[0])}}return s=We(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},s.queue=l,s=Jg.bind(null,Et,l),l.dispatch=s,l=Ph(!1),f=Yh.bind(null,Et,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=oE.bind(null,Et,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function Mg(t){var n=me();return Og(n,Zt,t)}function Og(t,n,s){if(n=zh(t,n,xg)[0],t=Tu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Rl(n)}catch(g){throw g===rr?cu:g}else l=n;n=me();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Et.flags|=2048,hr(9,{destroy:void 0},uE.bind(null,c,s),null)),[l,f,t]}function uE(t,n){t.action=n}function Ug(t){var n=me(),s=Zt;if(s!==null)return Og(n,s,t);me(),n=n.memoizedState,s=me();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function hr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Et.updateQueue,n===null&&(n=_u(),Et.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Bg(){return me().memoizedState}function Eu(t,n,s,l){var c=We();Et.flags|=t,c.memoizedState=hr(1|n,{destroy:void 0},s,l===void 0?null:l)}function Au(t,n,s,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Zt!==null&&l!==null&&Vh(l,Zt.memoizedState.deps)?c.memoizedState=hr(n,f,s,l):(Et.flags|=t,c.memoizedState=hr(1|n,f,s,l))}function Lg(t,n){Eu(8390656,8,t,n)}function qh(t,n){Au(2048,8,t,n)}function cE(t){Et.flags|=4;var n=Et.updateQueue;if(n===null)n=_u(),Et.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function zg(t){var n=me().memoizedState;return cE({ref:n,nextImpl:t}),function(){if((jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function kg(t,n){return Au(4,2,t,n)}function Pg(t,n){return Au(4,4,t,n)}function jg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qg(t,n,s){s=s!=null?s.concat([t]):null,Au(4,4,jg.bind(null,n,t),s)}function Hh(){}function Hg(t,n){var s=me();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Vh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Gg(t,n){var s=me();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Vh(n,l[1]))return l[0];if(l=t(),Ea){bn(!0);try{t()}finally{bn(!1)}}return s.memoizedState=[l,n],l}function Gh(t,n,s){return s===void 0||(Bi&1073741824)!==0&&(Rt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Fp(),Et.lanes|=t,Ts|=t,s)}function Fg(t,n,s,l){return gn(s,n)?s:or.current!==null?(t=Gh(t,s,l),gn(t,n)||(be=!0),t):(Bi&42)===0||(Bi&1073741824)!==0&&(Rt&261930)===0?(be=!0,t.memoizedState=s):(t=Fp(),Et.lanes|=t,Ts|=t,n)}function Qg(t,n,s,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=Q.T,T={};Q.T=T,Yh(t,!1,n,s);try{var N=c(),k=Q.S;if(k!==null&&k(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=aE(N,l);Nl(t,n,F,En(t))}else Nl(t,n,l,En(t))}catch(K){Nl(t,n,{then:function(){},status:"rejected",reason:K},En())}finally{et.p=f,g!==null&&T.types!==null&&(g.types=T.types),Q.T=g}}function hE(){}function Fh(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=Yg(t).queue;Qg(t,c,n,ht,s===null?hE:function(){return Kg(t),s(l)})}function Yg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kg(t){var n=Yg(t);n.next===null&&(n=t.alternate.memoizedState),Nl(t,n.next.queue,{},En())}function Qh(){return je(Fl)}function Xg(){return me().memoizedState}function Zg(){return me().memoizedState}function fE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();t=ms(s);var l=gs(n,t,s);l!==null&&(on(l,n,s),bl(l,n,s)),n={cache:Eh()},t.payload=n;return}n=n.return}}function dE(t,n,s){var l=En();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},bu(t)?$g(n,s):(s=ch(t,n,s,l),s!==null&&(on(s,t,l),Wg(s,n,l)))}function Jg(t,n,s){var l=En();Nl(t,n,s,l)}function Nl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(bu(t))$g(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(c.hasEagerState=!0,c.eagerState=T,gn(T,g))return iu(t,n,c,0),Wt===null&&nu(),!1}catch{}finally{}if(s=ch(t,n,c,l),s!==null)return on(s,t,l),Wg(s,n,l),!0}return!1}function Yh(t,n,s,l){if(l={lane:2,revertLane:Cf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bu(t)){if(n)throw Error(a(479))}else n=ch(t,s,l,2),n!==null&&on(n,t,2)}function bu(t){var n=t.alternate;return t===Et||n!==null&&n===Et}function $g(t,n){ur=pu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Wg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Zr(t,s)}}var Il={readContext:je,use:vu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Il.useEffectEvent=ue;var tp={readContext:je,use:vu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:Lg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Eu(4194308,4,jg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Eu(4194308,4,t,n)},useInsertionEffect:function(t,n){Eu(4,2,t,n)},useMemo:function(t,n){var s=We();n=n===void 0?null:n;var l=t();if(Ea){bn(!0);try{t()}finally{bn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=We();if(s!==void 0){var c=s(n);if(Ea){bn(!0);try{s(n)}finally{bn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=dE.bind(null,Et,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=Ph(t);var n=t.queue,s=Jg.bind(null,Et,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Hh,useDeferredValue:function(t,n){var s=We();return Gh(s,t,n)},useTransition:function(){var t=Ph(!1);return t=Qg.bind(null,Et,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Et,c=We();if(Vt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Wt===null)throw Error(a(349));(Rt&127)!==0||Eg(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Lg(bg.bind(null,l,f,t),[t]),l.flags|=2048,hr(9,{destroy:void 0},Ag.bind(null,l,f,s,n),null),s},useId:function(){var t=We(),n=Wt.identifierPrefix;if(Vt){var s=yi,l=pi;s=(l&~(1<<32-he(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=yu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=rE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Qh,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Yh.bind(null,Et,!0,s),s.dispatch=n,[t,n]},useMemoCache:Lh,useCacheRefresh:function(){return We().memoizedState=fE.bind(null,Et)},useEffectEvent:function(t){var n=We(),s={impl:t};return n.memoizedState=s,function(){if((jt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Kh={readContext:je,use:vu,useCallback:Hg,useContext:je,useEffect:qh,useImperativeHandle:qg,useInsertionEffect:kg,useLayoutEffect:Pg,useMemo:Gg,useReducer:Tu,useRef:Bg,useState:function(){return Tu(Li)},useDebugValue:Hh,useDeferredValue:function(t,n){var s=me();return Fg(s,Zt.memoizedState,t,n)},useTransition:function(){var t=Tu(Li)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:Tg,useId:Xg,useHostTransitionStatus:Qh,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,n){var s=me();return Cg(s,Zt,t,n)},useMemoCache:Lh,useCacheRefresh:Zg};Kh.useEffectEvent=zg;var ep={readContext:je,use:vu,useCallback:Hg,useContext:je,useEffect:qh,useImperativeHandle:qg,useInsertionEffect:kg,useLayoutEffect:Pg,useMemo:Gg,useReducer:kh,useRef:Bg,useState:function(){return kh(Li)},useDebugValue:Hh,useDeferredValue:function(t,n){var s=me();return Zt===null?Gh(s,t,n):Fg(s,Zt.memoizedState,t,n)},useTransition:function(){var t=kh(Li)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:Tg,useId:Xg,useHostTransitionStatus:Qh,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,n){var s=me();return Zt!==null?Cg(s,Zt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Lh,useCacheRefresh:Zg};ep.useEffectEvent=zg;function Xh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Zh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=En(),c=ms(l);c.payload=n,s!=null&&(c.callback=s),n=gs(t,c,l),n!==null&&(on(n,t,l),bl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=En(),c=ms(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=gs(t,c,l),n!==null&&(on(n,t,l),bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=En(),l=ms(s);l.tag=2,n!=null&&(l.callback=n),n=gs(t,l,s),n!==null&&(on(n,t,s),bl(n,t,s))}};function np(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!gl(s,l)||!gl(c,f):!0}function ip(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Zh.enqueueReplaceState(n,n.state,null)}function Aa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=b({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function sp(t){eu(t)}function ap(t){console.error(t)}function rp(t){eu(t)}function Su(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function lp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Jh(t,n,s){return s=ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Su(t,n)},s}function op(t){return t=ms(t),t.tag=3,t}function up(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){lp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){lp(n,s,l),typeof c!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function mE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ir(n,s,c,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?Bu():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===hu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),bf(t,l,c)),!1;case 22:return s.flags|=65536,l===hu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),bf(t,l,c)),!1}throw Error(a(435,s.tag))}return bf(t,l,c),Bu(),!1}if(Vt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ph&&(t=Error(a(422),{cause:l}),_l(In(t,s)))):(l!==ph&&(n=Error(a(423),{cause:l}),_l(In(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=In(l,s),c=Jh(t.stateNode,l,c),Rh(t,c),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:l});if(f=In(f,s),Ll===null?Ll=[f]:Ll.push(f),ce!==4&&(ce=2),n===null)return!0;l=In(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Jh(s.stateNode,l,t),Rh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Es===null||!Es.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=op(c),up(c,t,s,l),Rh(s,c),!1}s=s.return}while(s!==null);return!1}var $h=Error(a(461)),be=!1;function qe(t,n,s,l){n.child=t===null?dg(n,null,s,l):Ta(n,t.child,s,l)}function cp(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return pa(n),l=Mh(t,n,s,g,f,c),T=Oh(),t!==null&&!be?(Uh(t,n,c),zi(t,n,c)):(Vt&&T&&mh(n),n.flags|=1,qe(t,n,l,c),n.child)}function hp(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,fp(t,n,f,l,c)):(t=au(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!lf(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:gl,s(g,l)&&t.ref===n.ref)return zi(t,n,c)}return n.flags|=1,t=Vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function fp(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(gl(f,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=f,lf(t,c))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,zi(t,n,c)}return Wh(t,n,s,l,c)}function dp(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return mp(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&uu(n,f!==null?f.cachePool:null),f!==null?pg(n,f):Ih(),yg(n);else return l=n.lanes=536870912,mp(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(uu(n,f.cachePool),pg(n,f),ys(),n.memoizedState=null):(t!==null&&uu(n,null),Ih(),ys());return qe(t,n,c,s),n.child}function Dl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function mp(t,n,s,l,c){var f=bh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&uu(n,null),Ih(),yg(n),t!==null&&ir(t,n,l,!0),n.childLanes=c,null}function wu(t,n){return n=Ru({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function gp(t,n,s){return Ta(n,t.child,null,s),t=wu(n,n.pendingProps),t.flags|=2,_n(n),n.memoizedState=null,t}function gE(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Vt){if(l.mode==="hidden")return t=wu(n,l),n.lanes=536870912,Dl(null,t);if(xh(n),(t=ee)?(t=Ry(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:us!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=$m(t),s.return=n,n.child=s,Pe=n,ee=null)):t=null,t===null)throw hs(n);return n.lanes=536870912,null}return wu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(xh(n),c)if(n.flags&256)n.flags&=-257,n=gp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(be||ir(t,n,s,!1),c=(s&t.childLanes)!==0,be||c){if(l=Wt,l!==null&&(g=Jr(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,fa(t,g),on(l,t,g),$h;Bu(),n=gp(t,n,s)}else t=f.treeContext,ee=On(g.nextSibling),Pe=n,Vt=!0,cs=null,Vn=!1,t!==null&&eg(n,t),n=wu(n,l),n.flags|=4096;return n}return t=Vi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Cu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Wh(t,n,s,l,c){return pa(n),s=Mh(t,n,s,l,void 0,c),l=Oh(),t!==null&&!be?(Uh(t,n,c),zi(t,n,c)):(Vt&&l&&mh(n),n.flags|=1,qe(t,n,s,c),n.child)}function pp(t,n,s,l,c,f){return pa(n),n.updateQueue=null,s=vg(n,l,s,c),_g(t),l=Oh(),t!==null&&!be?(Uh(t,n,f),zi(t,n,f)):(Vt&&l&&mh(n),n.flags|=1,qe(t,n,s,f),n.child)}function yp(t,n,s,l,c){if(pa(n),n.stateNode===null){var f=Wa,g=s.contextType;typeof g=="object"&&g!==null&&(f=je(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Zh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},wh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?je(g):Wa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Xh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Zh.enqueueReplaceState(f,f.state,null),wl(n,l,f,c),Sl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,N=Aa(s,T);f.props=N;var k=f.context,F=s.contextType;g=Wa,typeof F=="object"&&F!==null&&(g=je(F));var K=s.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||k!==g)&&ip(n,f,l,g),ds=!1;var P=n.memoizedState;f.state=P,wl(n,l,f,c),Sl(),k=n.memoizedState,T||P!==k||ds?(typeof K=="function"&&(Xh(n,s,K,l),k=n.memoizedState),(N=ds||np(n,s,N,l,P,k,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Ch(t,n),g=n.memoizedProps,F=Aa(s,g),f.props=F,K=n.pendingProps,P=f.context,k=s.contextType,N=Wa,typeof k=="object"&&k!==null&&(N=je(k)),T=s.getDerivedStateFromProps,(k=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||P!==N)&&ip(n,f,l,N),ds=!1,P=n.memoizedState,f.state=P,wl(n,l,f,c),Sl();var H=n.memoizedState;g!==K||P!==H||ds||t!==null&&t.dependencies!==null&&lu(t.dependencies)?(typeof T=="function"&&(Xh(n,s,T,l),H=n.memoizedState),(F=ds||np(n,s,F,l,P,H,N)||t!==null&&t.dependencies!==null&&lu(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=N,l=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Cu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ta(n,t.child,null,c),n.child=Ta(n,null,s,c)):qe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=zi(t,n,c),t}function _p(t,n,s,l){return ma(),n.flags|=256,qe(t,n,s,l),n.child}var tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(t){return{baseLanes:t,cachePool:lg()}}function nf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Tn),t}function vp(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Vt){if(c?ps(n):ys(),(t=ee)?(t=Ry(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:us!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=$m(t),s.return=n,n.child=s,Pe=n,ee=null)):t=null,t===null)throw hs(n);return kf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,c?(ys(),c=n.mode,T=Ru({mode:"hidden",children:T},c),l=da(l,c,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=ef(s),l.childLanes=nf(t,g,s),n.memoizedState=tf,Dl(null,l)):(ps(n),sf(n,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(f)n.flags&256?(ps(n),n.flags&=-257,n=af(t,n,s)):n.memoizedState!==null?(ys(),n.child=t.child,n.flags|=128,n=null):(ys(),T=l.fallback,c=n.mode,l=Ru({mode:"visible",children:l.children},c),T=da(T,c,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Ta(n,t.child,null,s),l=n.child,l.memoizedState=ef(s),l.childLanes=nf(t,g,s),n.memoizedState=tf,n=Dl(null,l));else if(ps(n),kf(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var k=g.dgst;g=k,l=Error(a(419)),l.stack="",l.digest=g,_l({value:l,source:null,stack:null}),n=af(t,n,s)}else if(be||ir(t,n,s,!1),g=(s&t.childLanes)!==0,be||g){if(g=Wt,g!==null&&(l=Jr(g,s),l!==0&&l!==N.retryLane))throw N.retryLane=l,fa(t,l),on(g,t,l),$h;zf(T)||Bu(),n=af(t,n,s)}else zf(T)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ee=On(T.nextSibling),Pe=n,Vt=!0,cs=null,Vn=!1,t!==null&&eg(n,t),n=sf(n,l.children),n.flags|=4096);return n}return c?(ys(),T=l.fallback,c=n.mode,N=t.child,k=N.sibling,l=Vi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,k!==null?T=Vi(k,T):(T=da(T,c,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Dl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=ef(s):(c=T.cachePool,c!==null?(N=Ee._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=lg(),T={baseLanes:T.baseLanes|s,cachePool:c}),l.memoizedState=T,l.childLanes=nf(t,g,s),n.memoizedState=tf,Dl(t.child,l)):(ps(n),s=t.child,t=s.sibling,s=Vi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function sf(t,n){return n=Ru({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ru(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function af(t,n,s){return Ta(n,t.child,null,s),t=sf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Tp(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),vh(t.return,n,s)}function rf(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Ep(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=de.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,nt(de,g),qe(t,n,l,s),l=Vt?yl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tp(t,s,n);else if(t.tag===19)Tp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&gu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),rf(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&gu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}rf(n,!0,s,null,f,l);break;case"together":rf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function zi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ts|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ir(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Vi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Vi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function lf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&lu(t)))}function pE(t,n,s){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),fs(n,Ee,t.memoizedState.cache),ma();break;case 27:case 5:Ks(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,xh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ps(n),n.flags|=128,null):(s&n.child.childLanes)!==0?vp(t,n,s):(ps(n),t=zi(t,n,s),t!==null?t.sibling:null);ps(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ir(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Ep(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(de,de.current),l)break;return null;case 22:return n.lanes=0,dp(t,n,s,n.pendingProps);case 24:fs(n,Ee,t.memoizedState.cache)}return zi(t,n,s)}function Ap(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!lf(t,s)&&(n.flags&128)===0)return be=!1,pE(t,n,s);be=(t.flags&131072)!==0}else be=!1,Vt&&(n.flags&1048576)!==0&&tg(n,yl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=_a(n.elementType),n.type=t,typeof t=="function")hh(t)?(l=Aa(t,l),n.tag=1,n=yp(null,n,t,l,s)):(n.tag=0,n=Wh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===kt){n.tag=11,n=cp(null,n,t,l,s);break t}else if(c===w){n.tag=14,n=hp(null,n,t,l,s);break t}}throw n=se(t)||t,Error(a(306,n,""))}}return n;case 0:return Wh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Aa(l,n.pendingProps),yp(t,n,l,c,s);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Ch(t,n),wl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,fs(n,Ee,l),l!==f.cache&&Th(n,[Ee],s,!0),Sl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=_p(t,n,l,s);break t}else if(l!==c){c=In(Error(a(424)),n),_l(c),n=_p(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=On(t.firstChild),Pe=n,Vt=!0,cs=null,Vn=!0,s=dg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ma(),l===c){n=zi(t,n,s);break t}qe(t,n,l,s)}n=n.child}return n;case 26:return Cu(t,n),t===null?(s=My(n.type,null,n.pendingProps,null))?n.memoizedState=s:Vt||(s=n.type,t=n.pendingProps,l=Hu(At.current).createElement(s),l[_e]=n,l[Oe]=t,He(l,s,t),ve(l),n.stateNode=l):n.memoizedState=My(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ks(n),t===null&&Vt&&(l=n.stateNode=Dy(n.type,n.pendingProps,At.current),Pe=n,Vn=!0,c=ee,ws(n.type)?(Pf=c,ee=On(l.firstChild)):ee=c),qe(t,n,n.pendingProps.children,s),Cu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Vt&&((c=l=ee)&&(l=QE(l,n.type,n.pendingProps,Vn),l!==null?(n.stateNode=l,Pe=n,ee=On(l.firstChild),Vn=!1,c=!0):c=!1),c||hs(n)),Ks(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Uf(c,f)?l=null:g!==null&&Uf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Mh(t,n,lE,null,null,s),Fl._currentValue=c),Cu(t,n),qe(t,n,l,s),n.child;case 6:return t===null&&Vt&&((t=s=ee)&&(s=YE(s,n.pendingProps,Vn),s!==null?(n.stateNode=s,Pe=n,ee=null,t=!0):t=!1),t||hs(n)),null;case 13:return vp(t,n,s);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ta(n,null,l,s):qe(t,n,l,s),n.child;case 11:return cp(t,n,n.type,n.pendingProps,s);case 7:return qe(t,n,n.pendingProps,s),n.child;case 8:return qe(t,n,n.pendingProps.children,s),n.child;case 12:return qe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,fs(n,n.type,l.value),qe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,pa(n),c=je(c),l=l(c),n.flags|=1,qe(t,n,l,s),n.child;case 14:return hp(t,n,n.type,n.pendingProps,s);case 15:return fp(t,n,n.type,n.pendingProps,s);case 19:return Ep(t,n,s);case 31:return gE(t,n,s);case 22:return dp(t,n,s,n.pendingProps);case 24:return pa(n),l=je(Ee),t===null?(c=bh(),c===null&&(c=Wt,f=Eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},wh(n),fs(n,Ee,c)):((t.lanes&s)!==0&&(Ch(t,n),wl(n,null,null,s),Sl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),fs(n,Ee,l)):(l=f.cache,fs(n,Ee,l),l!==c.cache&&Th(n,[Ee],s,!0))),qe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ki(t){t.flags|=4}function of(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Xp())t.flags|=8192;else throw va=hu,Sh}else t.flags&=-16777217}function bp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zy(n))if(Xp())t.flags|=8192;else throw va=hu,Sh}function Nu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Oo():536870912,t.lanes|=n,gr|=n)}function xl(t,n){if(!Vt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function yE(t,n,s){var l=n.pendingProps;switch(gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ui(Ee),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(nr(n)?ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yh())),ne(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(ki(n),f!==null?(ne(n),bp(n,f)):(ne(n),of(n,c,null,l,s))):f?f!==t.memoizedState?(ki(n),ne(n),bp(n,f)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ki(n),ne(n),of(n,c,t,l,s)),null;case 27:if(Oa(n),s=At.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ki(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}t=at.current,nr(n)?ng(n):(t=Dy(c,l,s),n.stateNode=t,ki(n))}return ne(n),null;case 5:if(Oa(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ki(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=at.current,nr(n))ng(n);else{var g=Hu(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[_e]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ki(n)}}return ne(n),of(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ki(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=At.current,nr(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Pe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||vy(t.nodeValue,s)),t||hs(n,!0)}else t=Hu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ne(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=nr(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[_e]=n}else ma(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else s=yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=nr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_e]=n}else ma(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Nu(n,n.updateQueue),ne(n),null);case 4:return ae(),t===null&&Df(n.stateNode.containerInfo),ne(n),null;case 10:return Ui(n.type),ne(n),null;case 19:if(X(de),l=n.memoizedState,l===null)return ne(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)xl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=gu(t),f!==null){for(n.flags|=128,xl(l,!1),t=f.updateQueue,n.updateQueue=t,Nu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Jm(s,t),s=s.sibling;return nt(de,de.current&1|2),Vt&&Mi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>Mu&&(n.flags|=128,c=!0,xl(l,!1),n.lanes=4194304)}else{if(!c)if(t=gu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Nu(n,t),xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Vt)return ne(n),null}else 2*Je()-l.renderingStartTime>Mu&&s!==536870912&&(n.flags|=128,c=!0,xl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,s=de.current,nt(de,c?s&1|2:s&1),Vt&&Mi(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return _n(n),Dh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Nu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&X(ya),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function _E(t,n){switch(gh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ui(Ee),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Oa(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));ma()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(_n(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ma()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(de),null;case 4:return ae(),null;case 10:return Ui(n.type),null;case 22:case 23:return _n(n),Dh(),t!==null&&X(ya),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ui(Ee),null;case 25:return null;default:return null}}function Sp(t,n){switch(gh(n),n.tag){case 3:Ui(Ee),ae();break;case 26:case 27:case 5:Oa(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:X(de);break;case 10:Ui(n.type);break;case 22:case 23:_n(n),Dh(),t!==null&&X(ya);break;case 24:Ui(Ee)}}function Vl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(T){Yt(n,n.return,T)}}function _s(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,c=n;var N=s,k=T;try{k()}catch(F){Yt(c,N,F)}}}l=l.next}while(l!==f)}}catch(F){Yt(n,n.return,F)}}function wp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{gg(n,s)}catch(l){Yt(t,t.return,l)}}}function Cp(t,n,s){s.props=Aa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Ml(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Yt(t,n,c)}}function _i(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Yt(t,n,c)}else s.current=null}function Rp(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Yt(t,t.return,c)}}function uf(t,n,s){try{var l=t.stateNode;PE(l,t.type,s,n),l[Oe]=n}catch(c){Yt(t,t.return,c)}}function Np(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ws(t.type)||t.tag===4}function cf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(l!==4&&(l===27&&ws(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(hf(t,n,s),t=t.sibling;t!==null;)hf(t,n,s),t=t.sibling}function Iu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ws(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Iu(t,n,s),t=t.sibling;t!==null;)Iu(t,n,s),t=t.sibling}function Ip(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,s),n[_e]=t,n[Oe]=s}catch(f){Yt(t,t.return,f)}}var Pi=!1,Se=!1,ff=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,Be=null;function vE(t,n){if(t=t.containerInfo,Mf=Zu,t=qm(t),sh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,N=-1,k=0,F=0,K=t,P=null;e:for(;;){for(var H;K!==s||c!==0&&K.nodeType!==3||(T=g+c),K!==f||l!==0&&K.nodeType!==3||(N=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(H=K.firstChild)!==null;)P=K,K=H;for(;;){if(K===t)break e;if(P===s&&++k===c&&(T=g),P===f&&++F===l&&(N=g),(H=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=H}s=T===-1||N===-1?null:{start:T,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(Of={focusedElem:t,selectionRange:s},Zu=!1,Be=n;Be!==null;)if(n=Be,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Be=t;else for(;Be!==null;){switch(n=Be,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var rt=Aa(s.type,c);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Yt(s,s.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Lf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Be=t;break}Be=n.return}}function xp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:qi(t,s),l&4&&Vl(5,s);break;case 1:if(qi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Yt(s,s.return,g)}else{var c=Aa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(s,s.return,g)}}l&64&&wp(s),l&512&&Ml(s,s.return);break;case 3:if(qi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{gg(t,n)}catch(g){Yt(s,s.return,g)}}break;case 27:n===null&&l&4&&Ip(s);case 26:case 5:qi(t,s),n===null&&l&4&&Rp(s),l&512&&Ml(s,s.return);break;case 12:qi(t,s);break;case 31:qi(t,s),l&4&&Op(t,s);break;case 13:qi(t,s),l&4&&Up(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=NE.bind(null,s),KE(t,s))));break;case 22:if(l=s.memoizedState!==null||Pi,!l){n=n!==null&&n.memoizedState!==null||Se,c=Pi;var f=Se;Pi=l,(Se=n)&&!f?Hi(t,s,(s.subtreeFlags&8772)!==0):qi(t,s),Pi=c,Se=f}break;case 30:break;default:qi(t,s)}}function Vp(t){var n=t.alternate;n!==null&&(t.alternate=null,Vp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ka(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,sn=!1;function ji(t,n,s){for(s=s.child;s!==null;)Mp(t,n,s),s=s.sibling}function Mp(t,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:Se||_i(s,n),ji(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||_i(s,n);var l=le,c=sn;ws(s.type)&&(le=s.stateNode,sn=!1),ji(t,n,s),ql(s.stateNode),le=l,sn=c;break;case 5:Se||_i(s,n);case 6:if(l=le,c=sn,le=null,ji(t,n,s),le=l,sn=c,le!==null)if(sn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:le!==null&&(sn?(t=le,wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),br(t)):wy(le,s.stateNode));break;case 4:l=le,c=sn,le=s.stateNode.containerInfo,sn=!0,ji(t,n,s),le=l,sn=c;break;case 0:case 11:case 14:case 15:_s(2,s,n),Se||_s(4,s,n),ji(t,n,s);break;case 1:Se||(_i(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Cp(s,n,l)),ji(t,n,s);break;case 21:ji(t,n,s);break;case 22:Se=(l=Se)||s.memoizedState!==null,ji(t,n,s),Se=l;break;default:ji(t,n,s)}}function Op(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{br(t)}catch(s){Yt(n,n.return,s)}}}function Up(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{br(t)}catch(s){Yt(n,n.return,s)}}function TE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dp),n;default:throw Error(a(435,t.tag))}}function Du(t,n){var s=TE(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=IE.bind(null,t,l);l.then(c,c)}})}function an(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(ws(T.type)){le=T.stateNode,sn=!1;break t}break;case 5:le=T.stateNode,sn=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(le===null)throw Error(a(160));Mp(f,g,c),le=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Bp(n,t),n=n.sibling}var Yn=null;function Bp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),rn(t),l&4&&(_s(3,t,t.return),Vl(3,t),_s(5,t,t.return));break;case 1:an(n,t),rn(t),l&512&&(Se||s===null||_i(s,s.return)),l&64&&Pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Yn;if(an(n,t),rn(t),l&512&&(Se||s===null||_i(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[si]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,l,s),f[_e]=t,ve(f),l=f;break t;case"link":var g=By("link","href",c).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=c.createElement(l),He(f,l,s),c.head.appendChild(f);break;case"meta":if(g=By("meta","content",c).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=c.createElement(l),He(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else Ly(c,t.type,t.stateNode);else t.stateNode=Uy(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Ly(c,t.type,t.stateNode):Uy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&uf(t,t.memoizedProps,s.memoizedProps)}break;case 27:an(n,t),rn(t),l&512&&(Se||s===null||_i(s,s.return)),s!==null&&l&4&&uf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(an(n,t),rn(t),l&512&&(Se||s===null||_i(s,s.return)),t.flags&32){c=t.stateNode;try{nn(c,"")}catch(rt){Yt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,uf(t,c,s!==null?s.memoizedProps:c)),l&1024&&(ff=!0);break;case 6:if(an(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(rt){Yt(t,t.return,rt)}}break;case 3:if(Qu=null,c=Yn,Yn=Gu(n.containerInfo),an(n,t),Yn=c,rn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{br(n.containerInfo)}catch(rt){Yt(t,t.return,rt)}ff&&(ff=!1,Lp(t));break;case 4:l=Yn,Yn=Gu(t.stateNode.containerInfo),an(n,t),rn(t),Yn=l;break;case 12:an(n,t),rn(t);break;case 31:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Du(t,l)));break;case 13:an(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Vu=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Du(t,l)));break;case 22:c=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,k=Pi,F=Se;if(Pi=k||c,Se=F||N,an(n,t),Se=F,Pi=k,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||N||Pi||Se||ba(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(f=N.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=N.stateNode;var K=N.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(rt){Yt(N,N.return,rt)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(rt){Yt(N,N.return,rt)}}}else if(n.tag===18){if(s===null){N=n;try{var H=N.stateNode;c?Cy(H,!0):Cy(N.stateNode,!1)}catch(rt){Yt(N,N.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Du(t,s))));break;case 19:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Du(t,l)));break;case 30:break;case 21:break;default:an(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Np(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=cf(t);Iu(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(nn(g,""),s.flags&=-33);var T=cf(t);Iu(t,T,g);break;case 3:case 4:var N=s.stateNode.containerInfo,k=cf(t);hf(t,k,N);break;default:throw Error(a(161))}}catch(F){Yt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Lp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Lp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xp(t,n.alternate,n),n=n.sibling}function ba(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:_s(4,n,n.return),ba(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Cp(n,n.return,s),ba(n);break;case 27:ql(n.stateNode);case 26:case 5:_i(n,n.return),ba(n);break;case 22:n.memoizedState===null&&ba(n);break;case 30:ba(n);break;default:ba(n)}t=t.sibling}}function Hi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(c,f,s),Vl(4,f);break;case 1:if(Hi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Yt(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)mg(N[c],T)}catch(k){Yt(l,l.return,k)}}s&&g&64&&wp(f),Ml(f,f.return);break;case 27:Ip(f);case 26:case 5:Hi(c,f,s),s&&l===null&&g&4&&Rp(f),Ml(f,f.return);break;case 12:Hi(c,f,s);break;case 31:Hi(c,f,s),s&&g&4&&Op(c,f);break;case 13:Hi(c,f,s),s&&g&4&&Up(c,f);break;case 22:f.memoizedState===null&&Hi(c,f,s),Ml(f,f.return);break;case 30:break;default:Hi(c,f,s)}n=n.sibling}}function df(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&vl(s))}function mf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vl(t))}function Kn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zp(t,n,s,l),n=n.sibling}function zp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n,s,l),c&2048&&Vl(9,n);break;case 1:Kn(t,n,s,l);break;case 3:Kn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vl(t)));break;case 12:if(c&2048){Kn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Yt(n,n.return,N)}}else Kn(t,n,s,l);break;case 31:Kn(t,n,s,l);break;case 13:Kn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(t,n,s,l):Ol(t,n):f._visibility&2?Kn(t,n,s,l):(f._visibility|=2,fr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&df(g,n);break;case 24:Kn(t,n,s,l),c&2048&&mf(n.alternate,n);break;default:Kn(t,n,s,l)}}function fr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=s,N=l,k=g.flags;switch(g.tag){case 0:case 11:case 15:fr(f,g,T,N,c),Vl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?fr(f,g,T,N,c):Ol(f,g):(F._visibility|=2,fr(f,g,T,N,c)),c&&k&2048&&df(g.alternate,g);break;case 24:fr(f,g,T,N,c),c&&k&2048&&mf(g.alternate,g);break;default:fr(f,g,T,N,c)}n=n.sibling}}function Ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Ol(s,l),c&2048&&df(l.alternate,l);break;case 24:Ol(s,l),c&2048&&mf(l.alternate,l);break;default:Ol(s,l)}n=n.sibling}}var Ul=8192;function dr(t,n,s){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)kp(t,n,s),t=t.sibling}function kp(t,n,s){switch(t.tag){case 26:dr(t,n,s),t.flags&Ul&&t.memoizedState!==null&&rA(s,Yn,t.memoizedState,t.memoizedProps);break;case 5:dr(t,n,s);break;case 3:case 4:var l=Yn;Yn=Gu(t.stateNode.containerInfo),dr(t,n,s),Yn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ul,Ul=16777216,dr(t,n,s),Ul=l):dr(t,n,s));break;default:dr(t,n,s)}}function Pp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Be=l,qp(l,t)}Pp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jp(t),t=t.sibling}function jp(t){switch(t.tag){case 0:case 11:case 15:Bl(t),t.flags&2048&&_s(9,t,t.return);break;case 3:Bl(t);break;case 12:Bl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,xu(t)):Bl(t);break;default:Bl(t)}}function xu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Be=l,qp(l,t)}Pp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:_s(8,n,n.return),xu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,xu(n));break;default:xu(n)}t=t.sibling}}function qp(t,n){for(;Be!==null;){var s=Be;switch(s.tag){case 0:case 11:case 15:_s(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Be=l;else t:for(s=t;Be!==null;){l=Be;var c=l.sibling,f=l.return;if(Vp(l),l===s){Be=null;break t}if(c!==null){c.return=f,Be=c;break t}Be=f}}}var EE={getCacheForType:function(t){var n=je(Ee),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return je(Ee).controller.signal}},AE=typeof WeakMap=="function"?WeakMap:Map,jt=0,Wt=null,St=null,Rt=0,Qt=0,vn=null,vs=!1,mr=!1,gf=!1,Gi=0,ce=0,Ts=0,Sa=0,pf=0,Tn=0,gr=0,Ll=null,ln=null,yf=!1,Vu=0,Hp=0,Mu=1/0,Ou=null,Es=null,Ve=0,As=null,pr=null,Fi=0,_f=0,vf=null,Gp=null,zl=0,Tf=null;function En(){return(jt&2)!==0&&Rt!==0?Rt&-Rt:Q.T!==null?Cf():Uo()}function Fp(){if(Tn===0)if((Rt&536870912)===0||Vt){var t=Js;Js<<=1,(Js&3932160)===0&&(Js=262144),Tn=t}else Tn=536870912;return t=yn.current,t!==null&&(t.flags|=32),Tn}function on(t,n,s){(t===Wt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(yr(t,0),bs(t,Rt,Tn,!1)),$s(t,s),((jt&2)===0||t!==Wt)&&(t===Wt&&((jt&2)===0&&(Sa|=s),ce===4&&bs(t,Rt,Tn,!1)),vi(t))}function Qp(t,n,s){if((jt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),c=l?wE(t,n):Af(t,n,!0),f=l;do{if(c===0){mr&&!l&&bs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!bE(s)){c=Af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=t;c=Ll;var N=T.current.memoizedState.isDehydrated;if(N&&(yr(T,g).flags|=256),g=Af(T,g,!1),g!==2){if(gf&&!N){T.errorRecoveryDisabledLanes|=f,Sa|=f,c=4;break t}f=ln,ln=c,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){yr(t,0),bs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:bs(l,n,Tn,!vs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Vu+300-Je(),10<c)){if(bs(l,n,Tn,!vs),ei(l,0,!0)!==0)break t;Fi=n,l.timeoutHandle=by(Yp.bind(null,l,s,ln,Ou,yf,n,Tn,Sa,gr,vs,f,"Throttled",-0,0),c);break t}Yp(l,s,ln,Ou,yf,n,Tn,Sa,gr,vs,f,null,-0,0)}}break}while(!0);vi(t)}function Yp(t,n,s,l,c,f,g,T,N,k,F,K,P,H){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},kp(n,f,K);var rt=(f&62914560)===f?Vu-Je():(f&4194048)===f?Hp-Je():0;if(rt=lA(K,rt),rt!==null){Fi=f,t.cancelPendingCommit=rt(ey.bind(null,t,n,f,s,l,c,g,T,N,F,K,null,P,H)),bs(t,f,g,!k);return}}ey(t,n,f,s,l,c,g,T,N)}function bE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!gn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function bs(t,n,s,l){n&=~pf,n&=~Sa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&Ws(t,s,n)}function Uu(){return(jt&6)===0?(kl(0),!1):!0}function Ef(){if(St!==null){if(Qt===0)var t=St.return;else t=St,Oi=ga=null,Bh(t),lr=null,El=0,t=St;for(;t!==null;)Sp(t.alternate,t),t=t.return;St=null}}function yr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,HE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Fi=0,Ef(),Wt=t,St=s=Vi(t.current,null),Rt=n,Qt=0,vn=null,vs=!1,mr=zn(t,n),gf=!1,gr=Tn=pf=Sa=Ts=ce=0,ln=Ll=null,yf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-he(l),f=1<<c;n|=t[c],l&=~f}return Gi=n,nu(),s}function Kp(t,n){Et=null,Q.H=Il,n===rr||n===cu?(n=cg(),Qt=3):n===Sh?(n=cg(),Qt=4):Qt=n===$h?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,St===null&&(ce=1,Su(t,In(n,t.current)))}function Xp(){var t=yn.current;return t===null?!0:(Rt&4194048)===Rt?Mn===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?t===Mn:!1}function Zp(){var t=Q.H;return Q.H=Il,t===null?Il:t}function Jp(){var t=Q.A;return Q.A=EE,t}function Bu(){ce=4,vs||(Rt&4194048)!==Rt&&yn.current!==null||(mr=!0),(Ts&134217727)===0&&(Sa&134217727)===0||Wt===null||bs(Wt,Rt,Tn,!1)}function Af(t,n,s){var l=jt;jt|=2;var c=Zp(),f=Jp();(Wt!==t||Rt!==n)&&(Ou=null,yr(t,n)),n=!1;var g=ce;t:do try{if(Qt!==0&&St!==null){var T=St,N=vn;switch(Qt){case 8:Ef(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var k=Qt;if(Qt=0,vn=null,_r(t,T,N,k),s&&mr){g=0;break t}break;default:k=Qt,Qt=0,vn=null,_r(t,T,N,k)}}SE(),g=ce;break}catch(F){Kp(t,F)}while(!0);return n&&t.shellSuspendCounter++,Oi=ga=null,jt=l,Q.H=c,Q.A=f,St===null&&(Wt=null,Rt=0,nu()),g}function SE(){for(;St!==null;)$p(St)}function wE(t,n){var s=jt;jt|=2;var l=Zp(),c=Jp();Wt!==t||Rt!==n?(Ou=null,Mu=Je()+500,yr(t,n)):mr=zn(t,n);t:do try{if(Qt!==0&&St!==null){n=St;var f=vn;e:switch(Qt){case 1:Qt=0,vn=null,_r(t,n,f,1);break;case 2:case 9:if(og(f)){Qt=0,vn=null,Wp(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==t||(Qt=7),vi(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:og(f)?(Qt=0,vn=null,Wp(n)):(Qt=0,vn=null,_r(t,n,f,7));break;case 5:var g=null;switch(St.tag){case 26:g=St.memoizedState;case 5:case 27:var T=St;if(g?zy(g):T.stateNode.complete){Qt=0,vn=null;var N=T.sibling;if(N!==null)St=N;else{var k=T.return;k!==null?(St=k,Lu(k)):St=null}break e}}Qt=0,vn=null,_r(t,n,f,5);break;case 6:Qt=0,vn=null,_r(t,n,f,6);break;case 8:Ef(),ce=6;break t;default:throw Error(a(462))}}CE();break}catch(F){Kp(t,F)}while(!0);return Oi=ga=null,Q.H=l,Q.A=c,jt=s,St!==null?0:(Wt=null,Rt=0,nu(),ce)}function CE(){for(;St!==null&&!Jc();)$p(St)}function $p(t){var n=Ap(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,n===null?Lu(t):St=n}function Wp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=pp(s,n,n.pendingProps,n.type,void 0,Rt);break;case 11:n=pp(s,n,n.pendingProps,n.type.render,n.ref,Rt);break;case 5:Bh(n);default:Sp(s,n),n=St=Jm(n,Gi),n=Ap(s,n,Gi)}t.memoizedProps=t.pendingProps,n===null?Lu(t):St=n}function _r(t,n,s,l){Oi=ga=null,Bh(n),lr=null,El=0;var c=n.return;try{if(mE(t,c,n,s,Rt)){ce=1,Su(t,In(s,t.current)),St=null;return}}catch(f){if(c!==null)throw St=c,f;ce=1,Su(t,In(s,t.current)),St=null;return}n.flags&32768?(Vt||l===1?t=!0:mr||(Rt&536870912)!==0?t=!1:(vs=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ty(n,t)):Lu(n)}function Lu(t){var n=t;do{if((n.flags&32768)!==0){ty(n,vs);return}t=n.return;var s=yE(n.alternate,n,Gi);if(s!==null){St=s;return}if(n=n.sibling,n!==null){St=n;return}St=n=t}while(n!==null);ce===0&&(ce=5)}function ty(t,n){do{var s=_E(t.alternate,t);if(s!==null){s.flags&=32767,St=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){St=t;return}St=t=s}while(t!==null);ce=6,St=null}function ey(t,n,s,l,c,f,g,T,N){t.cancelPendingCommit=null;do zu();while(Ve!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=uh,th(t,s,f,g,T,N),t===Wt&&(St=Wt=null,Rt=0),pr=n,As=t,Fi=s,_f=f,vf=c,Gp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,DE(Wi,function(){return ry(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,c=et.p,et.p=2,g=jt,jt|=4;try{vE(t,n,s)}finally{jt=g,et.p=c,Q.T=l}}Ve=1,ny(),iy(),sy()}}function ny(){if(Ve===1){Ve=0;var t=As,n=pr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=et.p;et.p=2;var c=jt;jt|=4;try{Bp(n,t);var f=Of,g=qm(t.containerInfo),T=f.focusedElem,N=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&jm(T.ownerDocument.documentElement,T)){if(N!==null&&sh(T)){var k=N.start,F=N.end;if(F===void 0&&(F=k),"selectionStart"in T)T.selectionStart=k,T.selectionEnd=Math.min(F,T.value.length);else{var K=T.ownerDocument||document,P=K&&K.defaultView||window;if(P.getSelection){var H=P.getSelection(),rt=T.textContent.length,ft=Math.min(N.start,rt),$t=N.end===void 0?ft:Math.min(N.end,rt);!H.extend&&ft>$t&&(g=$t,$t=ft,ft=g);var B=Pm(T,ft),x=Pm(T,$t);if(B&&x&&(H.rangeCount!==1||H.anchorNode!==B.node||H.anchorOffset!==B.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var z=K.createRange();z.setStart(B.node,B.offset),H.removeAllRanges(),ft>$t?(H.addRange(z),H.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),H.addRange(z))}}}}for(K=[],H=T;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Y=K[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Zu=!!Mf,Of=Mf=null}finally{jt=c,et.p=l,Q.T=s}}t.current=n,Ve=2}}function iy(){if(Ve===2){Ve=0;var t=As,n=pr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=et.p;et.p=2;var c=jt;jt|=4;try{xp(t,n.alternate,n)}finally{jt=c,et.p=l,Q.T=s}}Ve=3}}function sy(){if(Ve===4||Ve===3){Ve=0,No();var t=As,n=pr,s=Fi,l=Gp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,pr=As=null,ay(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Es=null),Ni(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,c=et.p,et.p=2,Q.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{Q.T=n,et.p=c}}(Fi&3)!==0&&zu(),vi(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===Tf?zl++:(zl=0,Tf=t):zl=0,kl(0)}}function ay(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,vl(n)))}function zu(){return ny(),iy(),sy(),ry()}function ry(){if(Ve!==5)return!1;var t=As,n=_f;_f=0;var s=Ni(Fi),l=Q.T,c=et.p;try{et.p=32>s?32:s,Q.T=null,s=vf,vf=null;var f=As,g=Fi;if(Ve=0,pr=As=null,Fi=0,(jt&6)!==0)throw Error(a(331));var T=jt;if(jt|=4,jp(f.current),zp(f,f.current,g,s),jt=T,kl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{et.p=c,Q.T=l,ay(t,n)}}function ly(t,n,s){n=In(s,n),n=Jh(t.stateNode,n,2),t=gs(t,n,2),t!==null&&($s(t,2),vi(t))}function Yt(t,n,s){if(t.tag===3)ly(t,t,s);else for(;n!==null;){if(n.tag===3){ly(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Es===null||!Es.has(l))){t=In(s,t),s=op(2),l=gs(n,s,2),l!==null&&(up(s,l,n,t),$s(l,2),vi(l));break}}n=n.return}}function bf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new AE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(gf=!0,c.add(s),t=RE.bind(null,t,n,s),n.then(t,t))}function RE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Wt===t&&(Rt&s)===s&&(ce===4||ce===3&&(Rt&62914560)===Rt&&300>Je()-Vu?(jt&2)===0&&yr(t,0):pf|=s,gr===Rt&&(gr=0)),vi(t)}function oy(t,n){n===0&&(n=Oo()),t=fa(t,n),t!==null&&($s(t,n),vi(t))}function NE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),oy(t,s)}function IE(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),oy(t,s)}function DE(t,n){return xe(t,n)}var ku=null,vr=null,Sf=!1,Pu=!1,wf=!1,Ss=0;function vi(t){t!==vr&&t.next===null&&(vr===null?ku=vr=t:vr=vr.next=t),Pu=!0,Sf||(Sf=!0,VE())}function kl(t,n){if(!wf&&Pu){wf=!0;do for(var s=!1,l=ku;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=c&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,fy(l,f))}else f=Rt,f=ei(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(s=!0,fy(l,f));l=l.next}while(s);wf=!1}}function xE(){uy()}function uy(){Pu=Sf=!1;var t=0;Ss!==0&&qE()&&(t=Ss);for(var n=Je(),s=null,l=ku;l!==null;){var c=l.next,f=cy(l,n);f===0?(l.next=null,s===null?ku=c:s.next=c,c===null&&(vr=s)):(s=l,(t!==0||(f&3)!==0)&&(Pu=!0)),l=c}Ve!==0&&Ve!==5||kl(t),Ss!==0&&(Ss=0)}function cy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-he(f),T=1<<g,N=c[g];N===-1?((T&s)===0||(T&l)!==0)&&(c[g]=Wc(T,n)):N<=n&&(t.expiredLanes|=T),f&=~T}if(n=Wt,s=Rt,s=ei(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$i(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||zn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&$i(l),Ni(s)){case 2:case 8:s=Xr;break;case 32:s=Wi;break;case 268435456:s=Io;break;default:s=Wi}return l=hy.bind(null,t),s=xe(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&$i(l),t.callbackPriority=2,t.callbackNode=null,2}function hy(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(zu()&&t.callbackNode!==s)return null;var l=Rt;return l=ei(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qp(t,l,n),cy(t,Je()),t.callbackNode!=null&&t.callbackNode===s?hy.bind(null,t):null)}function fy(t,n){if(zu())return null;Qp(t,n,!0)}function VE(){GE(function(){(jt&6)!==0?xe(Kr,xE):uy()})}function Cf(){if(Ss===0){var t=sr;t===0&&(t=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ss=t}return Ss}function dy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ha(""+t)}function my(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function ME(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=dy((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?dy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new fi("action","action",null,l,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ss!==0){var N=g?my(c,g):new FormData(c);Fh(s,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=g?my(c,g):new FormData(c),Fh(s,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var Rf=0;Rf<oh.length;Rf++){var Nf=oh[Rf],OE=Nf.toLowerCase(),UE=Nf[0].toUpperCase()+Nf.slice(1);Qn(OE,"on"+UE)}Qn(Fm,"onAnimationEnd"),Qn(Qm,"onAnimationIteration"),Qn(Ym,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(JT,"onTransitionRun"),Qn($T,"onTransitionStart"),Qn(WT,"onTransitionCancel"),Qn(Km,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function gy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],N=T.instance,k=T.currentTarget;if(T=T.listener,N!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=k;try{f(c)}catch(F){eu(F)}c.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(T=l[g],N=T.instance,k=T.currentTarget,T=T.listener,N!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=k;try{f(c)}catch(F){eu(F)}c.currentTarget=null,f=N}}}}function wt(t,n){var s=n[za];s===void 0&&(s=n[za]=new Set);var l=t+"__bubble";s.has(l)||(py(n,t,2,!1),s.add(l))}function If(t,n,s){var l=0;n&&(l|=4),py(s,t,l,n)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Df(t){if(!t[ju]){t[ju]=!0,$r.forEach(function(s){s!=="selectionchange"&&(BE.has(s)||If(s,!1,t),If(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ju]||(n[ju]=!0,If("selectionchange",!1,n))}}function py(t,n,s,l){switch(Fy(n)){case 2:var c=cA;break;case 8:c=hA;break;default:c=Ff}s=c.bind(null,n,s,t),c=void 0,!sa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function xf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===c)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;T!==null;){if(g=ai(T),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue t}T=T.parentNode}}l=l.return}as(function(){var k=f,F=wn(s),K=[];t:{var P=Xm.get(t);if(P!==void 0){var H=fi,rt=t;switch(t){case"keypress":if(ra(s)===0)break t;case"keydown":case"keyup":H=$o;break;case"focusin":rt="focus",H=oa;break;case"focusout":rt="blur",H=oa;break;case"beforeblur":case"afterblur":H=oa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ho;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Fm:case Qm:case Ym:H=Fo;break;case Km:H=A;break;case"scroll":case"scrollend":H=cl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=xi;break;case"toggle":case"beforetoggle":H=Tt}var ft=(n&4)!==0,$t=!ft&&(t==="scroll"||t==="scrollend"),B=ft?P!==null?P+"Capture":null:P;ft=[];for(var x=k,z;x!==null;){var Y=x;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||B===null||(Y=qn(x,B),Y!=null&&ft.push(jl(x,Y,z))),$t)break;x=x.return}0<ft.length&&(P=new H(P,rt,null,s,F),K.push({event:P,listeners:ft}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",P&&s!==ll&&(rt=s.relatedTarget||s.fromElement)&&(ai(rt)||rt[ii]))break t;if((H||P)&&(P=F.window===F?F:(P=F.ownerDocument)?P.defaultView||P.parentWindow:window,H?(rt=s.relatedTarget||s.toElement,H=k,rt=rt?ai(rt):null,rt!==null&&($t=h(rt),ft=rt.tag,rt!==$t||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(H=null,rt=k),H!==rt)){if(ft=hl,Y="onMouseLeave",B="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ft=xi,Y="onPointerLeave",B="onPointerEnter",x="pointer"),$t=H==null?P:dn(H),z=rt==null?P:dn(rt),P=new ft(Y,x+"leave",H,s,F),P.target=$t,P.relatedTarget=z,Y=null,ai(F)===k&&(ft=new ft(B,x+"enter",rt,s,F),ft.target=z,ft.relatedTarget=$t,Y=ft),$t=Y,H&&rt)e:{for(ft=LE,B=H,x=rt,z=0,Y=B;Y;Y=ft(Y))z++;Y=0;for(var ut=x;ut;ut=ft(ut))Y++;for(;0<z-Y;)B=ft(B),z--;for(;0<Y-z;)x=ft(x),Y--;for(;z--;){if(B===x||x!==null&&B===x.alternate){ft=B;break e}B=ft(B),x=ft(x)}ft=null}else ft=null;H!==null&&yy(K,P,H,ft,!1),rt!==null&&$t!==null&&yy(K,$t,rt,ft,!0)}}t:{if(P=k?dn(k):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var Lt=Om;else if(Vm(P))if(Um)Lt=KT;else{Lt=QT;var lt=FT}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?k&&qa(k.elementType)&&(Lt=Om):Lt=YT;if(Lt&&(Lt=Lt(t,k))){Mm(K,Lt,s,F);break t}lt&&lt(t,P,k),t==="focusout"&&k&&P.type==="number"&&k.memoizedProps.value!=null&&sl(P,"number",P.value)}switch(lt=k?dn(k):window,t){case"focusin":(Vm(lt)||lt.contentEditable==="true")&&(Za=lt,ah=k,pl=null);break;case"focusout":pl=ah=Za=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,Hm(K,s,F);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":Hm(K,s,F)}var bt;if(Pt)t:{switch(t){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Xa?ua(t,s)&&(Nt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(gi&&s.locale!=="ko"&&(Xa||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Xa&&(bt=ul()):(hi=F,ol="value"in hi?hi.value:hi.textContent,Xa=!0)),lt=qu(k,Nt),0<lt.length&&(Nt=new mi(Nt,t,null,s,F),K.push({event:Nt,listeners:lt}),bt?Nt.data=bt:(bt=Ka(s),bt!==null&&(Nt.data=bt)))),(bt=Rn?jT(t,s):qT(t,s))&&(Nt=qu(k,"onBeforeInput"),0<Nt.length&&(lt=new mi("onBeforeInput","beforeinput",null,s,F),K.push({event:lt,listeners:Nt}),lt.data=bt)),ME(K,t,k,s,F)}gy(K,n)})}function jl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function qu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qn(t,s),c!=null&&l.unshift(jl(t,c,f)),c=qn(t,n),c!=null&&l.push(jl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function LE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yy(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,N=T.alternate,k=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||k===null||(N=k,c?(k=qn(s,f),k!=null&&g.unshift(jl(s,k,N))):c||(k=qn(s,f),k!=null&&g.push(jl(s,k,N)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var zE=/\r\n?/g,kE=/\u0000|\uFFFD/g;function _y(t){return(typeof t=="string"?t:""+t).replace(zE,`
`).replace(kE,"")}function vy(t,n){return n=_y(n),_y(t)===n}function Jt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(t,""+l);break;case"className":mn(t,"class",l);break;case"tabIndex":mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,s,l);break;case"style":rl(t,l,f);break;case"data":if(n!=="object"){mn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ha(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(t,n,"name",c.name,c,null),Jt(t,n,"formEncType",c.formEncType,c,null),Jt(t,n,"formMethod",c.formMethod,c,null),Jt(t,n,"formTarget",c.formTarget,c,null)):(Jt(t,n,"encType",c.encType,c,null),Jt(t,n,"method",c.method,c,null),Jt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ha(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=jn);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Pa(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=qo.get(s)||s,Pa(t,s,l))}}function Vf(t,n,s,l,c,f){switch(s){case"style":rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?nn(t,l):(typeof l=="number"||typeof l=="bigint")&&nn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Oe]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Pa(t,s,l)}}}function He(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(t,n,f,g,s,null)}}c&&Jt(t,n,"srcSet",s.srcSet,s,null),l&&Jt(t,n,"src",s.src,s,null);return;case"input":wt("invalid",t);var T=f=g=c=null,N=null,k=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":c=F;break;case"type":g=F;break;case"checked":N=F;break;case"defaultChecked":k=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Jt(t,n,l,F,s,null)}}ko(t,f,T,N,k,g,c,!1);return;case"select":wt("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(T=s[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:Jt(t,n,c,T,s,null)}n=f,s=g,t.multiple=!!l,n!=null?es(t,!!l,n,!1):s!=null&&es(t,!!l,s,!0);return;case"textarea":wt("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Jt(t,n,g,T,s,null)}ns(t,l,c,f);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(t,n,N,l,s,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)wt(Pl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(l=s[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(t,n,k,l,s,null)}return;default:if(qa(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&Vf(t,n,F,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Jt(t,n,T,l,s,null))}function PE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,T=null,N=null,k=null,F=null;for(H in s){var K=s[H];if(s.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=K;default:l.hasOwnProperty(H)||Jt(t,n,H,null,l,K)}}for(var P in l){var H=l[P];if(K=s[P],l.hasOwnProperty(P)&&(H!=null||K!=null))switch(P){case"type":f=H;break;case"name":c=H;break;case"checked":k=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==K&&Jt(t,n,P,H,l,K)}}ja(t,g,T,N,k,F,f,c);return;case"select":H=g=T=P=null;for(f in s)if(N=s[f],s.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(f)||Jt(t,n,f,null,l,N)}for(c in l)if(f=l[c],N=s[c],l.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":P=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==N&&Jt(t,n,c,f,l,N)}n=T,s=g,l=H,P!=null?es(t,!!s,P,!1):!!l!=!!s&&(n!=null?es(t,!!s,n,!0):es(t,!!s,s?[]:"",!1));return;case"textarea":H=P=null;for(T in s)if(c=s[T],s.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(t,n,T,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":P=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Jt(t,n,g,c,l,f)}Po(t,P,H);return;case"option":for(var rt in s)if(P=s[rt],s.hasOwnProperty(rt)&&P!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Jt(t,n,rt,null,l,P)}for(N in l)if(P=l[N],H=s[N],l.hasOwnProperty(N)&&P!==H&&(P!=null||H!=null))switch(N){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Jt(t,n,N,P,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in s)P=s[ft],s.hasOwnProperty(ft)&&P!=null&&!l.hasOwnProperty(ft)&&Jt(t,n,ft,null,l,P);for(k in l)if(P=l[k],H=s[k],l.hasOwnProperty(k)&&P!==H&&(P!=null||H!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Jt(t,n,k,P,l,H)}return;default:if(qa(n)){for(var $t in s)P=s[$t],s.hasOwnProperty($t)&&P!==void 0&&!l.hasOwnProperty($t)&&Vf(t,n,$t,void 0,l,P);for(F in l)P=l[F],H=s[F],!l.hasOwnProperty(F)||P===H||P===void 0&&H===void 0||Vf(t,n,F,P,l,H);return}}for(var B in s)P=s[B],s.hasOwnProperty(B)&&P!=null&&!l.hasOwnProperty(B)&&Jt(t,n,B,null,l,P);for(K in l)P=l[K],H=s[K],!l.hasOwnProperty(K)||P===H||P==null&&H==null||Jt(t,n,K,P,l,H)}function Ty(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,T=c.duration;if(f&&T&&Ty(g)){for(g=0,T=c.responseEnd,l+=1;l<s.length;l++){var N=s[l],k=N.startTime;if(k>T)break;var F=N.transferSize,K=N.initiatorType;F&&Ty(K)&&(N=N.responseEnd,g+=F*(N<T?1:(T-k)/(N-k)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Mf=null,Of=null;function Hu(t){return t.nodeType===9?t:t.ownerDocument}function Ey(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ay(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Uf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Bf=null;function qE(){var t=window.event;return t&&t.type==="popstate"?t===Bf?!1:(Bf=t,!0):(Bf=null,!1)}var by=typeof setTimeout=="function"?setTimeout:void 0,HE=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,GE=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(t){return Sy.resolve(null).then(t).catch(FE)}:by;function FE(t){setTimeout(function(){throw t})}function ws(t){return t==="head"}function wy(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),br(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ql(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ql(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[si]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ql(t.ownerDocument.body);s=c}while(s);br(n)}function Cy(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Lf(s),ka(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function QE(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function YE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=On(t.nextSibling),t===null))return null;return t}function Ry(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function zf(t){return t.data==="$?"||t.data==="$~"}function kf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function KE(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Pf=null;function Ny(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return On(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Iy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Dy(t,n,s){switch(n=Hu(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ql(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ka(t)}var Un=new Map,xy=new Set;function Gu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=et.d;et.d={f:XE,r:ZE,D:JE,C:$E,L:WE,m:tA,X:nA,S:eA,M:iA};function XE(){var t=Qi.f(),n=Uu();return t||n}function ZE(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?Kg(n):Qi.r(t)}var Tr=typeof document>"u"?null:document;function Vy(t,n,s){var l=Tr;if(l&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),xy.has(c)||(xy.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function JE(t){Qi.D(t),Vy("dns-prefetch",t,null)}function $E(t,n){Qi.C(t,n),Vy("preconnect",t,n)}function WE(t,n,s){Qi.L(t,n,s);var l=Tr;if(l&&t&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+en(s.imageSizes)+'"]')):c+='[href="'+en(t)+'"]';var f=c;switch(n){case"style":f=Er(t);break;case"script":f=Ar(t)}Un.has(f)||(t=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Un.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Hl(f))||n==="script"&&l.querySelector(Gl(f))||(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function tA(t,n){Qi.m(t,n);var s=Tr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ar(t)}if(!Un.has(f)&&(t=b({rel:"modulepreload",href:t},n),Un.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Gl(f)))return}l=s.createElement("link"),He(l,"link",t),ve(l),s.head.appendChild(l)}}}function eA(t,n,s){Qi.S(t,n,s);var l=Tr;if(l&&t){var c=ri(l).hoistableStyles,f=Er(t);n=n||"default";var g=c.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(Hl(f)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Un.get(f))&&jf(t,s);var N=g=l.createElement("link");ve(N),He(N,"link",t),N._p=new Promise(function(k,F){N.onload=k,N.onerror=F}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Fu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},c.set(f,g)}}}function nA(t,n){Qi.X(t,n);var s=Tr;if(s&&t){var l=ri(s).hoistableScripts,c=Ar(t),f=l.get(c);f||(f=s.querySelector(Gl(c)),f||(t=b({src:t,async:!0},n),(n=Un.get(c))&&qf(t,n),f=s.createElement("script"),ve(f),He(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function iA(t,n){Qi.M(t,n);var s=Tr;if(s&&t){var l=ri(s).hoistableScripts,c=Ar(t),f=l.get(c);f||(f=s.querySelector(Gl(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=Un.get(c))&&qf(t,n),f=s.createElement("script"),ve(f),He(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function My(t,n,s,l){var c=(c=At.current)?Gu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Er(s.href),s=ri(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Er(s.href);var f=ri(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Hl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Un.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(t,s),f||sA(c,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ar(s),s=ri(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Er(t){return'href="'+en(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function Oy(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function sA(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",s),ve(n),t.head.appendChild(n))}function Ar(t){return'[src="'+en(t)+'"]'}function Gl(t){return"script[async]"+t}function Uy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+en(s.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),He(l,"style",c),Fu(l,s.precedence,t),n.instance=l;case"stylesheet":c=Er(s.href);var f=t.querySelector(Hl(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=Oy(s),(c=Un.get(c))&&jf(l,c),f=(t.ownerDocument||t).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(T,N){g.onload=T,g.onerror=N}),He(f,"link",l),n.state.loading|=4,Fu(f,s.precedence,t),n.instance=f;case"script":return f=Ar(s.src),(c=t.querySelector(Gl(f)))?(n.instance=c,ve(c),c):(l=s,(c=Un.get(f))&&(l=b({},s),qf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Fu(l,s.precedence,t));return n.instance}function Fu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function jf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Qu=null;function By(t,n,s){if(Qu===null){var l=new Map,c=Qu=new Map;c.set(s,l)}else c=Qu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[si]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function Ly(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function aA(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rA(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Er(l.href),f=n.querySelector(Hl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Yu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,l=Oy(l),(c=Un.get(c))&&jf(l,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(T,N){g.onload=T,g.onerror=N}),He(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Yu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Hf=0;function lA(t,n){return t.stylesheets&&t.count===0&&Xu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Xu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Hf===0&&(Hf=62500*jE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Hf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ku=null;function Xu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ku=new Map,n.forEach(oA,t),Ku=null,Yu.call(t))}function oA(t,n){if(!(n.state.loading&4)){var s=Ku.get(t);if(s)var l=s.get(null);else{s=new Map,Ku.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Yu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Fl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function uA(t,n,s,l,c,f,g,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function ky(t,n,s,l,c,f,g,T,N,k,F,K){return t=new uA(t,n,s,g,N,k,F,K,T),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=Eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},wh(f),t}function Py(t){return t?(t=Wa,t):Wa}function jy(t,n,s,l,c,f){c=Py(c),l.context===null?l.context=c:l.pendingContext=c,l=ms(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=gs(t,l,n),s!==null&&(on(s,t,n),bl(s,t,n))}function qy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Gf(t,n){qy(t,n),(t=t.alternate)&&qy(t,n)}function Hy(t){if(t.tag===13||t.tag===31){var n=fa(t,67108864);n!==null&&on(n,t,67108864),Gf(t,67108864)}}function Gy(t){if(t.tag===13||t.tag===31){var n=En();n=ta(n);var s=fa(t,n);s!==null&&on(s,t,n),Gf(t,n)}}var Zu=!0;function cA(t,n,s,l){var c=Q.T;Q.T=null;var f=et.p;try{et.p=2,Ff(t,n,s,l)}finally{et.p=f,Q.T=c}}function hA(t,n,s,l){var c=Q.T;Q.T=null;var f=et.p;try{et.p=8,Ff(t,n,s,l)}finally{et.p=f,Q.T=c}}function Ff(t,n,s,l){if(Zu){var c=Qf(l);if(c===null)xf(t,n,l,Ju,s),Qy(t,l);else if(dA(c,t,n,s,l))l.stopPropagation();else if(Qy(t,l),n&4&&-1<fA.indexOf(t)){for(;c!==null;){var f=Sn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var N=1<<31-he(g);T.entanglements[1]|=N,g&=~N}vi(f),(jt&6)===0&&(Mu=Je()+500,kl(0))}}break;case 31:case 13:T=fa(f,2),T!==null&&on(T,f,2),Uu(),Gf(f,2)}if(f=Qf(l),f===null&&xf(t,n,l,Ju,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else xf(t,n,l,null,s)}}function Qf(t){return t=wn(t),Yf(t)}var Ju=null;function Yf(t){if(Ju=null,t=ai(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ju=t,null}function Fy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zs()){case Kr:return 2;case Xr:return 8;case Wi:case $c:return 32;case Io:return 268435456;default:return 32}default:return 32}}var Kf=!1,Cs=null,Rs=null,Ns=null,Ql=new Map,Yl=new Map,Is=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(t,n){switch(t){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(n.pointerId)}}function Kl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Sn(n),n!==null&&Hy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function dA(t,n,s,l,c){switch(n){case"focusin":return Cs=Kl(Cs,t,n,s,l,c),!0;case"dragenter":return Rs=Kl(Rs,t,n,s,l,c),!0;case"mouseover":return Ns=Kl(Ns,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Ql.set(f,Kl(Ql.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Yl.set(f,Kl(Yl.get(f)||null,t,n,s,l,c)),!0}return!1}function Yy(t){var n=ai(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,kn(t.priority,function(){Gy(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,kn(t.priority,function(){Gy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $u(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Qf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ll=l,s.target.dispatchEvent(l),ll=null}else return n=Sn(s),n!==null&&Hy(n),t.blockedOn=s,!1;n.shift()}return!0}function Ky(t,n,s){$u(t)&&s.delete(n)}function mA(){Kf=!1,Cs!==null&&$u(Cs)&&(Cs=null),Rs!==null&&$u(Rs)&&(Rs=null),Ns!==null&&$u(Ns)&&(Ns=null),Ql.forEach(Ky),Yl.forEach(Ky)}function Wu(t,n){t.blockedOn===n&&(t.blockedOn=null,Kf||(Kf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mA)))}var tc=null;function Xy(t){tc!==t&&(tc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){tc===t&&(tc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Yf(l||s)===null)continue;break}var f=Sn(s);f!==null&&(t.splice(n,3),n-=3,Fh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function br(t){function n(N){return Wu(N,t)}Cs!==null&&Wu(Cs,t),Rs!==null&&Wu(Rs,t),Ns!==null&&Wu(Ns,t),Ql.forEach(n),Yl.forEach(n);for(var s=0;s<Is.length;s++){var l=Is[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Is.length&&(s=Is[0],s.blockedOn===null);)Yy(s),s.blockedOn===null&&Is.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Oe]||null;if(typeof f=="function")g||Xy(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)T=g.formAction;else if(Yf(c)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Xy(s)}}}function Zy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Xf(t){this._internalRoot=t}ec.prototype.render=Xf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=En();jy(s,l,t,n,null,null)},ec.prototype.unmount=Xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;jy(t.current,2,null,t,null,null),Uu(),n[ii]=null}};function ec(t){this._internalRoot=t}ec.prototype.unstable_scheduleHydration=function(t){if(t){var n=Uo();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Is.length&&n!==0&&n<Is[s].priority;s++);Is.splice(s,0,t),s===0&&Yy(t)}};var Jy=e.version;if(Jy!=="19.2.0")throw Error(a(527,Jy,"19.2.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var gA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Ln=nc.inject(gA),ze=nc}catch{}}return Zl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=sp,f=ap,g=rp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ky(t,1,!1,null,null,s,l,null,c,f,g,Zy),t[ii]=n.current,Df(t),new Xf(n)},Zl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=sp,g=ap,T=rp,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),n=ky(t,1,!0,n,s??null,l,c,N,f,g,T,Zy),n.context=Py(null),s=n.current,l=En(),l=ta(l),c=ms(l),c.callback=null,gs(s,c,l),s=l,n.current.lanes=s,$s(n,s),vi(n),t[ii]=n.current,Df(t),new ec(n)},Zl.version="19.2.0",Zl}var l_;function wA(){if(l_)return $f.exports;l_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$f.exports=SA(),$f.exports}var CA=wA();const RA=()=>{};var o_={};const Lv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},NA=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],p=r[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,p=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,E=h>>2,b=(h&3)<<4|p>>4;let D=(p&15)<<2|v>>6,j=v&63;_||(j=64,d||(D=64)),a.push(i[E],i[b],i[D],i[j])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Lv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):NA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||p==null||v==null||b==null)throw new IA;const D=h<<2|p>>4;if(a.push(D),v!==64){const j=p<<4&240|v>>2;if(a.push(j),b!==64){const G=v<<6&192|b;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class IA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DA=function(r){const e=Lv(r);return zv.encodeByteArray(e,!0)},kv=function(r){return DA(r).replace(/\./g,"")},Pv=function(r){try{return zv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VA=()=>xA().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof o_>"u")return;const r=o_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},OA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Pv(r[1]);return e&&JSON.parse(e)},jv=()=>{try{return RA()||VA()||MA()||OA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},UA=r=>jv()?.[`_${r}`];function Fd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function LA(){const r=jv()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function PA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jA(){return!LA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch{return!1}}function HA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const GA="FirebaseError";class Fs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=GA,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yo.prototype.create)}}class yo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?FA(h,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Fs(o,p,a)}}function FA(r,e){return r.replace(QA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const QA=/\{\$([^}]+)}/g;function qv(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function YA(r,e){const i=new KA(r,e);return i.subscribe.bind(i)}class KA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");XA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=nd),o.error===void 0&&(o.error=nd),o.complete===void 0&&(o.complete=nd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function nd(){}function Qe(r){return r&&r._delegate?r._delegate:r}class Mr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}var It;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(It||(It={}));const ZA={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},JA=It.INFO,$A={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},WA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=$A[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qd{constructor(e){this.name=e,this._logLevel=JA,this._logHandler=WA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const tb=(r,e)=>e.some(i=>r instanceof i);let u_,c_;function eb(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nb(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hv=new WeakMap,yd=new WeakMap,Gv=new WeakMap,id=new WeakMap,Yd=new WeakMap;function ib(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ms(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Hv.set(i,r)}).catch(()=>{}),Yd.set(e,r),e}function sb(r){if(yd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});yd.set(r,e)}let _d={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return yd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Gv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ms(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ab(r){_d=r(_d)}function rb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(sd(this),e,...i);return Gv.set(a,e.sort?e.sort():[e]),Ms(a)}:nb().includes(r)?function(...e){return r.apply(sd(this),e),Ms(Hv.get(this))}:function(...e){return Ms(r.apply(sd(this),e))}}function lb(r){return typeof r=="function"?rb(r):(r instanceof IDBTransaction&&sb(r),tb(r,eb())?new Proxy(r,_d):r)}function Ms(r){if(r instanceof IDBRequest)return ib(r);if(id.has(r))return id.get(r);const e=lb(r);return e!==r&&(id.set(r,e),Yd.set(e,r)),e}const sd=r=>Yd.get(r);function ob(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),p=Ms(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Ms(d.result),_.oldVersion,_.newVersion,Ms(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const ub=["get","getKey","getAll","getAllKeys","count"],cb=["put","add","delete","clear"],ad=new Map;function h_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ad.get(e))return ad.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=cb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||ub.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return ad.set(e,h),h}ab(r=>({...r,get:(e,i,a)=>h_(e,i)||r.get(e,i,a),has:(e,i)=>!!h_(e,i)||r.has(e,i)}));class hb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function fb(r){return r.getComponent()?.type==="VERSION"}const vd="@firebase/app",f_="0.14.6";const Xi=new Qd("@firebase/app"),mb="@firebase/app-compat",gb="@firebase/analytics-compat",pb="@firebase/analytics",yb="@firebase/app-check-compat",_b="@firebase/app-check",vb="@firebase/auth",Tb="@firebase/auth-compat",Eb="@firebase/database",Ab="@firebase/data-connect",bb="@firebase/database-compat",Sb="@firebase/functions",wb="@firebase/functions-compat",Cb="@firebase/installations",Rb="@firebase/installations-compat",Nb="@firebase/messaging",Ib="@firebase/messaging-compat",Db="@firebase/performance",xb="@firebase/performance-compat",Vb="@firebase/remote-config",Mb="@firebase/remote-config-compat",Ob="@firebase/storage",Ub="@firebase/storage-compat",Bb="@firebase/firestore",Lb="@firebase/ai",zb="@firebase/firestore-compat",kb="firebase",Pb="12.6.0",jb={[vd]:"fire-core",[mb]:"fire-core-compat",[pb]:"fire-analytics",[gb]:"fire-analytics-compat",[_b]:"fire-app-check",[yb]:"fire-app-check-compat",[vb]:"fire-auth",[Tb]:"fire-auth-compat",[Eb]:"fire-rtdb",[Ab]:"fire-data-connect",[bb]:"fire-rtdb-compat",[Sb]:"fire-fn",[wb]:"fire-fn-compat",[Cb]:"fire-iid",[Rb]:"fire-iid-compat",[Nb]:"fire-fcm",[Ib]:"fire-fcm-compat",[Db]:"fire-perf",[xb]:"fire-perf-compat",[Vb]:"fire-rc",[Mb]:"fire-rc-compat",[Ob]:"fire-gcs",[Ub]:"fire-gcs-compat",[Bb]:"fire-fst",[zb]:"fire-fst-compat",[Lb]:"fire-vertex","fire-js":"fire-js",[kb]:"fire-js-all"};const qb=new Map,Hb=new Map,d_=new Map;function m_(r,e){try{r.container.addComponent(e)}catch(i){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Or(r){const e=r.name;if(d_.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;d_.set(e,r);for(const i of qb.values())m_(i,r);for(const i of Hb.values())m_(i,r);return!0}function Ki(r){return r==null?!1:r.settings!==void 0}const Gb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kd=new yo("app","Firebase",Gb);const xc=Pb;function Os(r,e,i){let a=jb[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(d.join(" "));return}Or(new Mr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const Fb="firebase-heartbeat-database",Qb=1,lo="firebase-heartbeat-store";let rd=null;function Fv(){return rd||(rd=ob(Fb,Qb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(lo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Kd.create("idb-open",{originalErrorMessage:r.message})})),rd}async function Yb(r){try{const i=(await Fv()).transaction(lo),a=await i.objectStore(lo).get(Qv(r));return await i.done,a}catch(e){if(e instanceof Fs)Xi.warn(e.message);else{const i=Kd.create("idb-get",{originalErrorMessage:e?.message});Xi.warn(i.message)}}}async function g_(r,e){try{const a=(await Fv()).transaction(lo,"readwrite");await a.objectStore(lo).put(e,Qv(r)),await a.done}catch(i){if(i instanceof Fs)Xi.warn(i.message);else{const a=Kd.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(a.message)}}}function Qv(r){return`${r.name}!${r.options.appId}`}const Kb=1024,Xb=30;class Zb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $b(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=p_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Xb){const o=Wb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=p_(),{heartbeatsToSend:i,unsentEntries:a}=Jb(this._heartbeatsCache.heartbeats),o=kv(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Xi.warn(e),""}}}function p_(){return new Date().toISOString().substring(0,10)}function Jb(r,e=Kb){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),y_(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),y_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class $b{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?HA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Yb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return g_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return g_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function y_(r){return kv(JSON.stringify({version:2,heartbeats:r})).length}function Wb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function tS(r){Or(new Mr("platform-logger",e=>new hb(e),"PRIVATE")),Or(new Mr("heartbeat",e=>new Zb(e),"PRIVATE")),Os(vd,f_,r),Os(vd,f_,"esm2020"),Os("fire-js","")}tS("");var eS="firebase",nS="12.6.0";Os(eS,nS,"app");function Yv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iS=Yv,Kv=new yo("auth","Firebase",Yv());const pc=new Qd("@firebase/auth");function sS(r,...e){pc.logLevel<=It.WARN&&pc.warn(`Auth (${xc}): ${r}`,...e)}function uc(r,...e){pc.logLevel<=It.ERROR&&pc.error(`Auth (${xc}): ${r}`,...e)}function Td(r,...e){throw Xd(r,...e)}function Xv(r,...e){return Xd(r,...e)}function Zv(r,e,i){const a={...iS(),[e]:i};return new yo("auth","Firebase",a).create(e,{appName:r.name})}function Ir(r){return Zv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xd(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Kv.create(r,...e)}function qt(r,e,...i){if(!r)throw Xd(e,...i)}function eo(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uc(e),new Error(e)}function yc(r,e){r||eo(e)}function aS(){return __()==="http:"||__()==="https:"}function __(){return typeof self<"u"&&self.location?.protocol||null}function rS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aS()||kA()||"connection"in navigator)?navigator.onLine:!0}function lS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class _o{constructor(e,i){this.shortDelay=e,this.longDelay=i,yc(i>e,"Short delay should be less than long delay!"),this.isMobile=BA()||PA()}get(){return rS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oS(r,e){yc(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Jv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;eo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;eo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;eo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hS=new _o(3e4,6e4);function Vc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function vo(r,e,i,a,o={}){return $v(r,o,async()=>{let h={},d={};a&&(e==="GET"?d=a:h={body:JSON.stringify(a)});const p=qv({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:_,...h};return zA()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Fd(r.emulatorConfig.host)&&(v.credentials="include"),Jv.fetch()(await t0(r,r.config.apiHost,i,p),v)})}async function $v(r,e,i){r._canInitEmulator=!1;const a={...uS,...e};try{const o=new fS(r),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw ic(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw ic(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw ic(r,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Zv(r,E,v);Td(r,E)}}catch(o){if(o instanceof Fs)throw o;Td(r,"network-request-failed",{message:String(o)})}}async function Wv(r,e,i,a,o={}){const h=await vo(r,e,i,a,o);return"mfaPendingCredential"in h&&Td(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function t0(r,e,i,a){const o=`${e}${i}?${a}`,h=r,d=h.config.emulator?oS(r.config,o):`${r.config.apiScheme}://${o}`;return cS.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class fS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Xv(this.auth,"network-request-failed")),hS.get())})}}function ic(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Xv(r,e,a);return o.customData._tokenResponse=i,o}async function dS(r,e){return vo(r,"POST","/v1/accounts:delete",e)}async function _c(r,e){return vo(r,"POST","/v1/accounts:lookup",e)}function no(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mS(r,e=!1){const i=Qe(r),a=await i.getIdToken(e),o=e0(a);qt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:a,authTime:no(ld(o.auth_time)),issuedAtTime:no(ld(o.iat)),expirationTime:no(ld(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function ld(r){return Number(r)*1e3}function e0(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return uc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Pv(i);return o?JSON.parse(o):(uc("Failed to decode base64 JWT payload"),null)}catch(o){return uc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function v_(r){const e=e0(r);return qt(e,"internal-error"),qt(typeof e.exp<"u","internal-error"),qt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ed(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Fs&&gS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function gS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class pS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ad{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=no(this.lastLoginAt),this.creationTime=no(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vc(r){const e=r.auth,i=await r.getIdToken(),a=await Ed(r,_c(e,{idToken:i}));qt(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const h=o.providerUserInfo?.length?n0(o.providerUserInfo):[],d=_S(r.providerData,h),p=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,v=p?_:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Ad(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,E)}async function yS(r){const e=Qe(r);await vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _S(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function n0(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function vS(r,e){const i=await $v(r,{},async()=>{const a=qv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:h}=r.config,d=await t0(r,o,"/v1/token",`key=${h}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&Fd(r.emulatorConfig.host)&&(_.credentials="include"),Jv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function TS(r,e){return vo(r,"POST","/v2/accounts:revokeToken",Vc(r,e))}class Dr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qt(e.idToken,"internal-error"),qt(typeof e.idToken<"u","internal-error"),qt(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){qt(e.length!==0,"internal-error");const i=v_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:h}=await vS(e,i);this.updateTokensAndExpiration(a,o,Number(h))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:h}=i,d=new Dr;return a&&(qt(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(qt(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),h&&(qt(typeof h=="number","internal-error",{appName:e}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dr,this.toJSON())}_performRefresh(){return eo("not implemented")}}function xs(r,e){qt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new pS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ad(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ed(this,this.stsTokenManager.getToken(this.auth,e));return qt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return mS(this,e)}reload(){return yS(this)}_assign(e){this!==e&&(qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await vc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ki(this.auth.app))return Promise.reject(Ir(this.auth));const e=await this.getIdToken();return await Ed(this,dS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:b,emailVerified:D,isAnonymous:j,providerData:G,stsTokenManager:$}=i;qt(b&&$,e,"internal-error");const W=Dr.fromJSON(this.name,$);qt(typeof b=="string",e,"internal-error"),xs(a,e.name),xs(o,e.name),qt(typeof D=="boolean",e,"internal-error"),qt(typeof j=="boolean",e,"internal-error"),xs(h,e.name),xs(d,e.name),xs(p,e.name),xs(_,e.name),xs(v,e.name),xs(E,e.name);const ot=new Xn({uid:b,auth:e,email:o,emailVerified:D,displayName:a,isAnonymous:j,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:W,createdAt:v,lastLoginAt:E});return G&&Array.isArray(G)&&(ot.providerData=G.map(mt=>({...mt}))),_&&(ot._redirectEventId=_),ot}static async _fromIdTokenResponse(e,i,a=!1){const o=new Dr;o.updateFromServerResponse(i);const h=new Xn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await vc(h),h}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];qt(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?n0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,p=new Dr;p.updateFromIdToken(a);const _=new Xn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ad(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(_,v),_}}const T_=new Map;function wa(r){yc(r instanceof Function,"Expected a class definition");let e=T_.get(r);return e?(yc(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,T_.set(r,e),e)}class i0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}i0.type="NONE";const E_=i0;function od(r,e,i){return`firebase:${r}:${e}:${i}`}class xr{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:h}=this.auth;this.fullUserKey=od(this.userKey,o.apiKey,h),this.fullPersistenceKey=od("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await _c(this.auth,{idToken:e}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new xr(wa(E_),e,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=o[0]||wa(E_);const d=od(a,e.config.apiKey,e.name);let p=null;for(const v of i)try{const E=await v._get(d);if(E){let b;if(typeof E=="string"){const D=await _c(e,{idToken:E}).catch(()=>{});if(!D)break;b=await Xn._fromGetAccountInfoResponse(e,D,E)}else b=Xn._fromJSON(e,E);v!==h&&(p=b),h=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new xr(h,e,a):(h=_[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new xr(h,e,a))}}function A_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ES(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CS(e))return"Blackberry";if(RS(e))return"Webos";if(AS(e))return"Safari";if((e.includes("chrome/")||bS(e))&&!e.includes("edge/"))return"Chrome";if(wS(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function ES(r=Zn()){return/firefox\//i.test(r)}function AS(r=Zn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bS(r=Zn()){return/crios\//i.test(r)}function SS(r=Zn()){return/iemobile/i.test(r)}function wS(r=Zn()){return/android/i.test(r)}function CS(r=Zn()){return/blackberry/i.test(r)}function RS(r=Zn()){return/webos/i.test(r)}function s0(r,e=[]){let i;switch(r){case"Browser":i=A_(Zn());break;case"Worker":i=`${A_(Zn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${xc}/${a}`}class NS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=h=>new Promise((d,p)=>{try{const _=e(h);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function IS(r,e={}){return vo(r,"GET","/v2/passwordPolicy",Vc(r,e))}const DS=6;class xS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??DS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}class VS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b_(this),this.idTokenSubscription=new b_(this),this.beforeStateQueue=new NS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=wa(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await _c(this,{idToken:e}),a=await Xn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ki(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await vc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ki(this.app))return Promise.reject(Ir(this));const i=e?Qe(e):null;return i&&qt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ki(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ki(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IS(this),i=new xS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await TS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&wa(e)||this._popupRedirectResolver;qt(i,this,"argument-error"),this.redirectPersistenceManager=await xr.create(this,[wa(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&sS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zd(r){return Qe(r)}class b_{constructor(e){this.auth=e,this.observer=null,this.addObserver=YA(i=>this.observer=i)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function MS(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(wa);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}async function OS(r,e){return Wv(r,"POST","/v1/accounts:signUp",Vc(r,e))}class Ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const h=await Xn._fromIdTokenResponse(e,a,o),d=S_(a);return new Ur({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=S_(a);return new Ur({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function S_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function US(r){if(Ki(r.app))return Promise.reject(Ir(r));const e=Zd(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ur({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await OS(e,{returnSecureToken:!0}),a=await Ur._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}async function BS(r,e){return Wv(r,"POST","/v1/accounts:signInWithCustomToken",Vc(r,e))}async function LS(r,e){if(Ki(r.app))return Promise.reject(Ir(r));const i=Zd(r),a=await BS(i,{token:e,returnSecureToken:!0}),o=await Ur._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function zS(r,e,i,a){return Qe(r).onAuthStateChanged(e,i,a)}new _o(3e4,6e4);new _o(2e3,1e4);new _o(3e4,6e4);new _o(5e3,15e3);var w_="@firebase/auth",C_="1.11.1";class kS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PS(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jS(r){Or(new Mr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;qt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s0(r)},v=new VS(a,o,h,_);return MS(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Or(new Mr("auth-internal",e=>{const i=Zd(e.getProvider("auth").getImmediate());return(a=>new kS(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(w_,C_,PS(r)),Os(w_,C_,"esm2020")}const qS=300;UA("authIdTokenMaxAge");jS("Browser");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Us,a0;(function(){var r;function e(w,S){function R(){}R.prototype=S.prototype,w.F=S.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(M,I,U){for(var C=Array(arguments.length-2),se=2;se<arguments.length;se++)C[se-2]=arguments[se];return S.prototype[I].apply(M,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)M[I]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(I=0;I<16;++I)M[I]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=w.g[0],R=w.g[1],I=w.g[2];let U=w.g[3],C;C=S+(U^R&(I^U))+M[0]+3614090360&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(I^S&(R^I))+M[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=I+(R^U&(S^R))+M[2]+606105819&4294967295,I=U+(C<<17&4294967295|C>>>15),C=R+(S^I&(U^S))+M[3]+3250441966&4294967295,R=I+(C<<22&4294967295|C>>>10),C=S+(U^R&(I^U))+M[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(I^S&(R^I))+M[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=I+(R^U&(S^R))+M[6]+2821735955&4294967295,I=U+(C<<17&4294967295|C>>>15),C=R+(S^I&(U^S))+M[7]+4249261313&4294967295,R=I+(C<<22&4294967295|C>>>10),C=S+(U^R&(I^U))+M[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(I^S&(R^I))+M[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=I+(R^U&(S^R))+M[10]+4294925233&4294967295,I=U+(C<<17&4294967295|C>>>15),C=R+(S^I&(U^S))+M[11]+2304563134&4294967295,R=I+(C<<22&4294967295|C>>>10),C=S+(U^R&(I^U))+M[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(I^S&(R^I))+M[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=I+(R^U&(S^R))+M[14]+2792965006&4294967295,I=U+(C<<17&4294967295|C>>>15),C=R+(S^I&(U^S))+M[15]+1236535329&4294967295,R=I+(C<<22&4294967295|C>>>10),C=S+(I^U&(R^I))+M[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^I&(S^R))+M[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=I+(S^R&(U^S))+M[11]+643717713&4294967295,I=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(I^U))+M[0]+3921069994&4294967295,R=I+(C<<20&4294967295|C>>>12),C=S+(I^U&(R^I))+M[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^I&(S^R))+M[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=I+(S^R&(U^S))+M[15]+3634488961&4294967295,I=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(I^U))+M[4]+3889429448&4294967295,R=I+(C<<20&4294967295|C>>>12),C=S+(I^U&(R^I))+M[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^I&(S^R))+M[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=I+(S^R&(U^S))+M[3]+4107603335&4294967295,I=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(I^U))+M[8]+1163531501&4294967295,R=I+(C<<20&4294967295|C>>>12),C=S+(I^U&(R^I))+M[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^I&(S^R))+M[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=I+(S^R&(U^S))+M[7]+1735328473&4294967295,I=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(I^U))+M[12]+2368359562&4294967295,R=I+(C<<20&4294967295|C>>>12),C=S+(R^I^U)+M[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^I)+M[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=I+(U^S^R)+M[11]+1839030562&4294967295,I=U+(C<<16&4294967295|C>>>16),C=R+(I^U^S)+M[14]+4259657740&4294967295,R=I+(C<<23&4294967295|C>>>9),C=S+(R^I^U)+M[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^I)+M[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=I+(U^S^R)+M[7]+4139469664&4294967295,I=U+(C<<16&4294967295|C>>>16),C=R+(I^U^S)+M[10]+3200236656&4294967295,R=I+(C<<23&4294967295|C>>>9),C=S+(R^I^U)+M[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^I)+M[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=I+(U^S^R)+M[3]+3572445317&4294967295,I=U+(C<<16&4294967295|C>>>16),C=R+(I^U^S)+M[6]+76029189&4294967295,R=I+(C<<23&4294967295|C>>>9),C=S+(R^I^U)+M[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^I)+M[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=I+(U^S^R)+M[15]+530742520&4294967295,I=U+(C<<16&4294967295|C>>>16),C=R+(I^U^S)+M[2]+3299628645&4294967295,R=I+(C<<23&4294967295|C>>>9),C=S+(I^(R|~U))+M[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~I))+M[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=I+(S^(U|~R))+M[14]+2878612391&4294967295,I=U+(C<<15&4294967295|C>>>17),C=R+(U^(I|~S))+M[5]+4237533241&4294967295,R=I+(C<<21&4294967295|C>>>11),C=S+(I^(R|~U))+M[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~I))+M[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=I+(S^(U|~R))+M[10]+4293915773&4294967295,I=U+(C<<15&4294967295|C>>>17),C=R+(U^(I|~S))+M[1]+2240044497&4294967295,R=I+(C<<21&4294967295|C>>>11),C=S+(I^(R|~U))+M[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~I))+M[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=I+(S^(U|~R))+M[6]+2734768916&4294967295,I=U+(C<<15&4294967295|C>>>17),C=R+(U^(I|~S))+M[13]+1309151649&4294967295,R=I+(C<<21&4294967295|C>>>11),C=S+(I^(R|~U))+M[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~I))+M[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=I+(S^(U|~R))+M[2]+718787259&4294967295,I=U+(C<<15&4294967295|C>>>17),C=R+(U^(I|~S))+M[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+U&4294967295}a.prototype.v=function(w,S){S===void 0&&(S=w.length);const R=S-this.blockSize,M=this.C;let I=this.h,U=0;for(;U<S;){if(I==0)for(;U<=R;)o(this,w,U),U+=this.blockSize;if(typeof w=="string"){for(;U<S;)if(M[I++]=w.charCodeAt(U++),I==this.blockSize){o(this,M),I=0;break}}else for(;U<S;)if(M[I++]=w[U++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=S},a.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;S=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=S&255,S/=256;for(this.v(w),w=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)w[S++]=this.g[R]>>>M&255;return w};function h(w,S){var R=p;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=S(w)}function d(w,S){this.h=S;const R=[];let M=!0;for(let I=w.length-1;I>=0;I--){const U=w[I]|0;M&&U==S||(R[I]=U,M=!1)}this.g=R}var p={};function _(w){return-128<=w&&w<128?h(w,function(S){return new d([S|0],S<0?-1:0)}):new d([w|0],w<0?-1:0)}function v(w){if(isNaN(w)||!isFinite(w))return b;if(w<0)return W(v(-w));const S=[];let R=1;for(let M=0;w>=R;M++)S[M]=w/R|0,R*=4294967296;return new d(S,0)}function E(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return W(E(w.substring(1),S));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(S,8));let M=b;for(let U=0;U<w.length;U+=8){var I=Math.min(8,w.length-U);const C=parseInt(w.substring(U,U+I),S);I<8?(I=v(Math.pow(S,I)),M=M.j(I).add(v(C))):(M=M.j(R),M=M.add(v(C)))}return M}var b=_(0),D=_(1),j=_(16777216);r=d.prototype,r.m=function(){if($(this))return-W(this).m();let w=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);w+=(M>=0?M:4294967296+M)*S,S*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(G(this))return"0";if($(this))return"-"+W(this).toString(w);const S=v(Math.pow(w,6));var R=this;let M="";for(;;){const I=kt(R,S).g;R=ot(R,I.j(S));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=I,G(R))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function G(w){if(w.h!=0)return!1;for(let S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function $(w){return w.h==-1}r.l=function(w){return w=ot(this,w),$(w)?-1:G(w)?0:1};function W(w){const S=w.g.length,R=[];for(let M=0;M<S;M++)R[M]=~w.g[M];return new d(R,~w.h).add(D)}r.abs=function(){return $(this)?W(this):this},r.add=function(w){const S=Math.max(this.g.length,w.g.length),R=[];let M=0;for(let I=0;I<=S;I++){let U=M+(this.i(I)&65535)+(w.i(I)&65535),C=(U>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);M=C>>>16,U&=65535,C&=65535,R[I]=C<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ot(w,S){return w.add(W(S))}r.j=function(w){if(G(this)||G(w))return b;if($(this))return $(w)?W(this).j(W(w)):W(W(this).j(w));if($(w))return W(this.j(W(w)));if(this.l(j)<0&&w.l(j)<0)return v(this.m()*w.m());const S=this.g.length+w.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<w.g.length;I++){const U=this.i(M)>>>16,C=this.i(M)&65535,se=w.i(I)>>>16,Ie=w.i(I)&65535;R[2*M+2*I]+=C*Ie,mt(R,2*M+2*I),R[2*M+2*I+1]+=U*Ie,mt(R,2*M+2*I+1),R[2*M+2*I+1]+=C*se,mt(R,2*M+2*I+1),R[2*M+2*I+2]+=U*se,mt(R,2*M+2*I+2)}for(w=0;w<S;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=S;w<2*S;w++)R[w]=0;return new d(R,0)};function mt(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function gt(w,S){this.g=w,this.h=S}function kt(w,S){if(G(S))throw Error("division by zero");if(G(w))return new gt(b,b);if($(w))return S=kt(W(w),S),new gt(W(S.g),W(S.h));if($(S))return S=kt(w,W(S)),new gt(W(S.g),S.h);if(w.g.length>30){if($(w)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var R=D,M=S;M.l(w)<=0;)R=Kt(R),M=Kt(M);var I=Ct(R,1),U=Ct(M,1);for(M=Ct(M,2),R=Ct(R,2);!G(M);){var C=U.add(M);C.l(w)<=0&&(I=I.add(R),U=C),M=Ct(M,1),R=Ct(R,1)}return S=ot(w,I.j(S)),new gt(I,S)}for(I=b;w.l(S)>=0;){for(R=Math.max(1,Math.floor(w.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=v(R),C=U.j(S);$(C)||C.l(w)>0;)R-=M,U=v(R),C=U.j(S);G(U)&&(U=D),I=I.add(U),w=ot(w,C)}return new gt(I,w)}r.B=function(w){return kt(this,w).h},r.and=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&w.i(M);return new d(R,this.h&w.h)},r.or=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|w.i(M);return new d(R,this.h|w.h)},r.xor=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^w.i(M);return new d(R,this.h^w.h)};function Kt(w){const S=w.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=w.i(M)<<1|w.i(M-1)>>>31;return new d(R,w.h)}function Ct(w,S){const R=S>>5;S%=32;const M=w.g.length-R,I=[];for(let U=0;U<M;U++)I[U]=S>0?w.i(U+R)>>>S|w.i(U+R+1)<<32-S:w.i(U+R);return new d(I,w.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,a0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=E,Us=d}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var r0,Jl,l0,cc,bd,o0,u0,c0;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var y=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in y))break t;y=y[L]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&y.push([A,m[A]]);return y}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function E(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(A,L,q){for(var tt=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)tt[Tt-2]=arguments[Tt];return m.prototype[L].apply(A,tt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function G(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const q=L.length||0;u.length=y+q;for(let tt=0;tt<q;tt++)u[y+tt]=L[tt]}else u.push(L)}}class ${constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,y){const A=gt.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var gt=new $(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,Ct=!1,w=new mt,S=()=>{const u=Promise.resolve(void 0);Kt=()=>{u.then(R)}};function R(){for(var u;u=ot();){try{u.h.call(u.g)}catch(y){W(y)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(se,I),se.prototype.init=function(u,m){const y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),Q=0;function et(u,m,y,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=L,this.key=++Q,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function Gt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function V(u){const m={};for(const y in u)m[y]=u[y];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let y,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(y in A)u[y]=A[y];for(let q=0;q<X.length;q++)y=X[q],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,y,A,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=At(u,m,A,L);return tt>-1?(m=u[tt],y||(m.fa=!1)):(m=new et(m,this.src,q,!!A,L),m.fa=y,u.push(m)),m};function pt(u,m){const y=m.type;if(y in u.g){var A=u.g[y],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(ht(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function At(u,m,y,A){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==A)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),De={};function ae(u,m,y,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],y,A,L);return null}return y=Yr(y),u&&u[Ie]?u.J(m,y,p(A)?!!A.capture:!1,L):Ks(u,m,y,!1,A,L)}function Ks(u,m,y,A,L,q){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let Tt=Xs(u);if(Tt||(u[Mt]=Tt=new at(u)),y=Tt.add(m,y,A,tt,q),y.proxy)return y;if(A=Oa(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent($n(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Oa(){function u(y){return m.call(u.src,u.listener,y)}const m=Fr;return u}function Ua(u,m,y,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ua(u,m[q],y,A,L);else A=p(A)?!!A.capture:!!A,y=Yr(y),u&&u[Ie]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=At(m,y,A,L),y>-1&&(ht(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Xs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,y,A,L)),(y=u>-1?m[u]:null)&&Ba(y))}function Ba(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])pt(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent($n(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=Xs(m))?(pt(y,u),y.h==0&&(y.src=null,m[Mt]=null)):ht(u)}}}function $n(u){return u in De?De[u]:De[u]="on"+u}function Fr(u,m){if(u.da)u=!0;else{m=new se(m,this);const y=u.listener,A=u.ha||u.src;u.fa&&Ba(u),u=y.call(A,m)}return u}function Xs(u){return u=u[Mt],u instanceof at?u:null}var Qr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yr(u){return typeof u=="function"?u:(u[Qr]||(u[Qr]=function(m){return u.handleEvent(m)}),u[Qr])}function pe(){M.call(this),this.i=new at(this),this.M=this,this.G=null}b(pe,M),pe.prototype[Ie]=!0,pe.prototype.removeEventListener=function(u,m,y,A){Ua(this,u,m,y,A)};function xe(u,m){var y,A=u.G;if(A)for(y=[];A;A=A.G)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var L=m;m=new I(A,u),nt(m,L)}L=!0;let q,tt;if(y)for(tt=y.length-1;tt>=0;tt--)q=m.g=y[tt],L=$i(q,A,!0,m)&&L;if(q=m.g=u,L=$i(q,A,!0,m)&&L,L=$i(q,A,!1,m)&&L,y)for(tt=0;tt<y.length;tt++)q=m.g=y[tt],L=$i(q,A,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let A=0;A<y.length;A++)ht(y[A]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},pe.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function $i(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==y){const Tt=tt.listener,fe=tt.ha||tt.src;tt.fa&&pt(u.i,tt),L=Tt.call(fe,A)!==!1&&L}}return L&&!A.defaultPrevented}function Jc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function No(u){u.g=Jc(()=>{u.g=null,u.i&&(u.i=!1,No(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends M{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:No(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(u){M.call(this),this.h=u,this.g={}}b(Zs,M);var Kr=[];function Xr(u){Ut(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ba(m)},u),u.g={}}Zs.prototype.N=function(){Zs.Z.N.call(this),Xr(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wi=d.JSON.stringify,$c=d.JSON.parse,Io=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Do(){}function xo(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){I.call(this,"d")}b(ze,I);function bn(){I.call(this,"c")}b(bn,I);var he={},Vo=null;function La(){return Vo=Vo||new pe}he.Ia="serverreachability";function Mo(u){I.call(this,he.Ia,u)}b(Mo,I);function Wn(u){const m=La();xe(m,new Mo(m))}he.STAT_EVENT="statevent";function Js(u,m){I.call(this,he.STAT_EVENT,u),this.stat=m}b(Js,I);function ye(u){const m=La();xe(m,new Js(m,u))}he.Ja="timingevent";function ti(u,m){I.call(this,he.Ja,u),this.size=m}b(ti,I);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Wc(u,m,y,A,L,q){u.info(function(){if(u.g)if(q){var tt="",Tt=q.split("&");for(let Pt=0;Pt<Tt.length;Pt++){var fe=Tt[Pt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const Rn=re.split("_");tt=Rn.length>=2&&Rn[1]=="type"?tt+(re+"="+fe+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+y+`
`+tt})}function Oo(u,m,y,A,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+y+`
`+q+" "+tt})}function ni(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+th(u,y)+(A?" "+A:"")})}function $s(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function th(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var A=y[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return Wi(q)}catch{return m}}var Ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jr;function ta(){}b(ta,Do),ta.prototype.g=function(){return new XMLHttpRequest},Jr=new ta;function Ni(u){return encodeURIComponent(String(u))}function Uo(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function kn(u,m,y,A){this.j=u,this.i=m,this.l=y,this.S=A||1,this.V=new Zs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var _e={},Oe={};function ii(u,m,y){u.M=1,u.A=ea(Te(m)),u.u=y,u.R=!0,za(u,null)}function za(u,m){u.F=Date.now(),si(u),u.B=Te(u.A);var y=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),qa(y.i,"t",A),u.C=0,y=u.j.L,u.h=new Pn,u.g=Zo(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Je(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Kr[0]=L.toString()),L=Kr);for(let q=0;q<L.length;q++){const tt=ae(y,L[q],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Wc(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Hn(this.g),fe=this.g.ya(),Pt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||Tt!=4||fe==7||(fe==8||Pt<=0?Wn(3):Wn(2)),ai(this);var m=this.g.ca();this.X=m;var y=eh(this);if(this.o=m==200,Oo(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var q=A;break e}}q=null}if(u=q)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,ye(12),dn(this),Sn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<y.length;)if(re=Lo(this,y),re==Oe){Tt==4&&(this.m=4,ye(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ni(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,re,null),ri(this,re);if(Bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||y.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,y,"[Invalid Chunked Response]"),dn(this),Sn(this);else if(y.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),fl(tt),tt.P=!0,ye(11))}}else ni(this.i,this.l,y,null),ri(this,y);Tt==4&&dn(this),this.o&&!this.K&&(Tt==4?Qo(this.j,this):(this.o=!1,si(this)))}else Di(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),dn(this),Sn(this)}}}catch{}finally{}};function eh(u){if(!Bo(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let y="";const A=m.length,L=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Bo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Lo(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Oe:(y=Number(m.substring(y,A)),isNaN(y)?_e:(A+=1,A+y>m.length?Oe:(m=m.slice(A,A+y),u.C=A+y,m)))}kn.prototype.cancel=function(){this.K=!0,dn(this)};function si(u){u.T=Date.now()+u.H,ka(u,u.H)}function ka(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(v(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?($s(this.i,this.B),this.M!=2&&(Wn(),ye(17)),dn(this),this.m=2,Sn(this)):ka(this,this.T-u)};function Sn(u){u.j.I==0||u.K||Qo(u.j,u)}function dn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Xr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||oi(y.h,u))){if(!u.L&&oi(y.h,u)&&y.I==3){try{var A=y.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Ya(y),ls(y);else break t;oa(y),ye(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ei(v(y.Va,y),6e3));li(y.h)<=1&&y.ta&&(y.ta=void 0)}else mi(y,11)}else if((u.L||y.g==u)&&Ya(y),!C(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Pt=L[m];const re=Pt[0];if(!(re<=y.K))if(y.K=re,Pt=Pt[1],y.I==2)if(Pt[0]=="c"){y.M=Pt[1],y.ba=Pt[2];const Rn=Pt[3];Rn!=null&&(y.ka=Rn,y.j.info("VER="+y.ka));const gi=Pt[4];gi!=null&&(y.za=gi,y.j.info("SVER="+y.za));const Gn=Pt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(A=1.5*Gn,y.O=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Fn=u.g;if(Fn){const ua=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ua){var q=A.h;q.g||ua.indexOf("spdy")==-1&&ua.indexOf("quic")==-1&&ua.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(tl(q,q.h),q.h=null))}if(A.G){const Ka=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(A.wa=Ka,Ft(A.J,A.G,Ka))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),A=y;var tt=u;if(A.na=Xo(A,A.L?A.ba:null,A.W),tt.L){el(A.h,tt);var Tt=tt,fe=A.O;fe&&(Tt.H=fe),Tt.D&&(ai(Tt),si(Tt)),A.g=tt}else Go(A);y.i.length>0&&di(y)}else Pt[0]!="stop"&&Pt[0]!="close"||mi(y,7);else y.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?mi(y,7):cl(y):Pt[0]!="noop"&&y.l&&y.l.qa(Pt),y.A=0)}}Wn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function $r(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function tl(u,m){u.g?u.g.add(m):u.h=m}function el(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}$r.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return j(u.i)}var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const A=u[y].indexOf("=");let L,q=null;A>=0?(L=u[y].substring(0,A),q=u[y].substring(A+1)):L=u[y],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ts(this,u.u),this.h=u.h,il(this,qo(u.i)),this.m=u.m):u&&(m=String(u).match(zo))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),ts(this,m[4]),this.h=ui(m[5]||"",!0),il(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new ns(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(na(m,ja,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(na(m,ja,!0),"@"),u.push(Ni(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(na(y,y.charAt(0)=="/"?sl:ko,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",na(y,Po)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let y=!!u.j;y?Ue(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var A=u.h;if(y)ts(m,u.u);else if(y=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let tt=0;tt<L.length;){const Tt=L[tt++];Tt=="."?A&&tt==L.length&&q.push(""):Tt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&tt==L.length&&q.push("")):(q.push(Tt),A=!0)}A=q.join("/")}else A=L}return y?m.h=A:y=u.i.toString()!=="",y?il(m,qo(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Te(u){return new mn(u)}function Ue(u,m,y){u.j=y?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function il(u,m,y){m instanceof ns?(u.i=m,Ha(u.i,u.l)):(y||(m=na(m,es)),u.i=new ns(m,u.l))}function Ft(u,m,y){u.i.set(m,y)}function ea(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function na(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,en),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ja=/[#\/\?@]/g,ko=/[#\?:]/g,sl=/[#\?]/g,es=/[#\?@]/g,Po=/#/g;function ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Pa(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=ns.prototype,r.add=function(u,m){nn(this),this.i=null,u=is(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function jo(u,m){nn(u),m=is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function al(u,m){return nn(u),m=is(u,m),u.g.has(m)}r.forEach=function(u,m){nn(this),this.g.forEach(function(y,A){y.forEach(function(L){u.call(m,L,A,this)},this)},this)};function rl(u,m){nn(u);let y=[];if(typeof m=="string")al(u,m)&&(y=y.concat(u.g.get(is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return nn(this),this.i=null,u=is(this,u),al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=rl(this,u),u.length>0?String(u[0]):m):m};function qa(u,m,y){jo(u,m),y.length>0&&(u.i=null,u.g.set(is(u,m),j(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var y=m[A];const L=Ni(y);y=rl(this,y);for(let q=0;q<y.length;q++){let tt=L;y[q]!==""&&(tt+="="+Ni(y[q])),u.push(tt)}}return this.i=u.join("&")};function qo(u){const m=new ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ha(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,A){const L=A.toLowerCase();A!=L&&(jo(this,A),qa(this,L,y))},u)),u.j=m}function jn(u,m){const y=new zn;if(d.Image){const A=new Image;A.onload=E(wn,y,"TestLoadImage: loaded",!0,m,A),A.onerror=E(wn,y,"TestLoadImage: error",!1,m,A),A.onabort=E(wn,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(wn,y,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function ll(u,m){const y=new zn,A=new AbortController,L=setTimeout(()=>{A.abort(),wn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?wn(y,"TestPingServer: ok",!0,m):wn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(y,"TestPingServer: error",!1,m)})}function wn(u,m,y,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(y)}catch{}}function ss(){this.g=new Io}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ci,Do),ci.prototype.g=function(){return new ia(this.i,this.h)};function ia(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ia,pe),r=ia.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,as(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?as(this):qn(this),this.readyState==3&&Ga(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,as(this))},r.Na=function(u){this.g&&(this.response=u,as(this))},r.ga=function(){this.g&&as(this)};function as(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return Ut(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function sa(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=Cn(y),typeof u=="string"?y!=null&&Ni(y):Ft(u,m,y))}function Xt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xt,pe);var hi=/^https?$/i,ol=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jr.g(),this.g.onreadystatechange=D(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){aa(this,q);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)y.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())y.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ol,m,void 0)>=0)||A||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of y)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){aa(this,q)}};function aa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ul(u),Ii(u)}function ul(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ra(this):this.Xa())},r.Xa=function(){ra(this)};function ra(u){if(u.h&&typeof h<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=q===0){let tt=String(u.D).match(zo)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),A=!hi.test(tt?tt.toLowerCase():"")}y=A}if(y)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var L=Hn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",ul(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||xe(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),$c(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var y=Uo(u[A]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[L]||[];m[L]=q,q.push(y)}Gt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function rs(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $r(u&&u.concurrentRequestLimit),this.Ba=new ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=rs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,A){ye(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.J=Xo(this,null,this.W),di(this)};function cl(u){if(Fa(u),u.I==3){var m=u.V++,y=Te(u.J);if(Ft(y,"SID",u.M),Ft(y,"RID",m),Ft(y,"TYPE","terminate"),la(u,y),m=new kn(u,u.j,m),m.M=2,m.A=ea(Te(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Zo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}Ko(u)}function ls(u){u.g&&(fl(u),u.g.cancel(),u.g=null)}function Fa(u){ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!Wr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Kt||S(),Ct||(Kt(),Ct=!0),w.add(m,u),u.D=0}}function Qa(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(v(u.Ea,u,m),Yo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new kn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Ho(this,L,m),y=Te(this.J),Ft(y,"RID",u),Ft(y,"CVER",22),this.G&&Ft(y,"X-HTTP-Session-Id",this.G),la(this,y),q&&(this.R?m="headers="+Ni(Cn(q))+"&"+m:this.u&&sa(y,this.u,q)),tl(this.h,L),this.Ra&&Ft(y,"TYPE","init"),this.S?(Ft(y,"$req",m),Ft(y,"SID","null"),L.U=!0,ii(L,y,null)):ii(L,y,m),this.I=2}}else this.I==3&&(u?hl(this,u):this.i.length==0||Wr(this.h)||hl(this))};function hl(u,m){var y;m?y=m.l:y=u.V++;const A=Te(u.J);Ft(A,"SID",u.M),Ft(A,"RID",y),Ft(A,"AID",u.K),la(u,A),u.u&&u.o&&sa(A,u.u,u.o),y=new kn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ho(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),tl(u.h,y),ii(y,A,m)}function la(u,m){u.H&&Ut(u.H,function(y,A){Ft(m,A,y)}),u.l&&Ut({},function(y,A){Ft(m,A,y)})}function Ho(u,m,y){y=Math.min(u.i.length,y);const A=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const fe=["count="+y];Tt==-1?y>0?(Tt=L[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let Pt=!0;for(let re=0;re<y;re++){var q=L[re].g;const Rn=L[re].map;if(q-=Tt,q<0)Tt=Math.max(0,L[re].g-100),Pt=!1;else try{q="req"+q+"_"||"";try{var tt=Rn instanceof Map?Rn:Object.entries(Rn);for(const[gi,Gn]of tt){let Fn=Gn;p(Gn)&&(Fn=Wi(Gn)),fe.push(q+gi+"="+encodeURIComponent(Fn))}}catch(gi){throw fe.push(q+"type="+encodeURIComponent("_badmap")),gi}}catch{A&&A(Rn)}}if(Pt){tt=fe.join("&");break t}}tt=void 0}return u=u.i.splice(0,y),m.G=u,tt}function Go(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Kt||S(),Ct||(Kt(),Ct=!0),w.add(m,u),u.A=0}}function oa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(v(u.Da,u),Yo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Fo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ls(this),Fo(this))};function fl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Fo(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),la(u,m),u.u&&u.o&&sa(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=ea(Te(m)),y.u=null,y.R=!0,za(y,u)}r.Va=function(){this.C!=null&&(this.C=null,ls(this),oa(this),ye(19))};function Ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Qo(u,m){var y=null;if(u.g==m){Ya(u),fl(u),u.g=null;var A=2}else if(oi(u.h,m))y=m.G,el(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=La(),xe(A,new ti(A,y)),di(u)}else Go(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&Qa(u,m)||A==2&&oa(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function Yo(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),A=u.Ua;const L=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(A,"https"),ea(A),L?jn(A.toString(),y):ll(A.toString(),y)}else ye(2);u.I=0,u.l&&u.l.pa(m),Ko(u),Fa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Ko(u){if(u.I=0,u.ja=[],u.l){const m=nl(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function Xo(u,m,y){var A=y instanceof mn?Te(y):new mn(y);if(A.g!="")m&&(A.g=m+"."+A.g),ts(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new mn(null);A&&Ue(q,A),m&&(q.g=m),L&&ts(q,L),y&&(q.h=y),A=q}return y=u.G,m=u.wa,y&&m&&Ft(A,y,m),Ft(A,"VER",u.ka),la(u,A),A}function Zo(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new ci({ab:y})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jo(){}r=Jo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function os(){}os.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){pe.call(this),this.g=new rs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new xi(this)}b($e,pe),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){cl(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Wi(u),u=y);m.i.push(new ve(m.Ya++,u)),m.I==3&&di(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,$e.Z.N.call(this)};function $o(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b($o,ze);function Wo(){bn.call(this),this.status=1}b(Wo,bn);function xi(u){this.g=u}b(xi,Jo),xi.prototype.ra=function(){xe(this.g,"a")},xi.prototype.qa=function(u){xe(this.g,new $o(u))},xi.prototype.pa=function(u){xe(this.g,new Wo)},xi.prototype.oa=function(){xe(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,c0=function(){return new os},u0=function(){return La()},o0=he,bd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,cc=Ws,Zr.COMPLETE="complete",l0=Zr,xo.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Jl=xo,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,r0=Xt}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const N_="@firebase/firestore",I_="4.9.2";class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let jr="12.3.0";const Ia=new Qd("@firebase/firestore");function wr(){return Ia.logLevel}function st(r,...e){if(Ia.logLevel<=It.DEBUG){const i=e.map(Jd);Ia.debug(`Firestore (${jr}): ${r}`,...i)}}function Zi(r,...e){if(Ia.logLevel<=It.ERROR){const i=e.map(Jd);Ia.error(`Firestore (${jr}): ${r}`,...i)}}function oo(r,...e){if(Ia.logLevel<=It.WARN){const i=e.map(Jd);Ia.warn(`Firestore (${jr}): ${r}`,...i)}}function Jd(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function dt(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,h0(r,a,i)}function h0(r,e,i){let a=`FIRESTORE (${jr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Zi(a),new Error(a)}function Ht(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||h0(e,o,a)}function vt(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Fs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class HS{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(un.UNAUTHENTICATED)))}shutdown(){}}class FS{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Bs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=h;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Bs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new HS(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class QS{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YS{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new QS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ki(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const a=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new D_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class $d{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=XS(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Dt(r,e){return r<e?-1:r>e?1:0}function Sd(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=e.charAt(a);if(o!==h)return ud(o)===ud(h)?Dt(o,h):ud(o)?1:-1}return Dt(r.length,e.length)}const ZS=55296,JS=57343;function ud(r){const e=r.charCodeAt(0);return e>=ZS&&e<=JS}function Br(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const x_="__name__";class Ei{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&dt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=Ei.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const a=Ei.isNumericId(e),o=Ei.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(i)):Sd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Us.fromString(e.substring(4,e.length-2))}}class te extends Ei{construct(e,i,a){return new te(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new it(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const $S=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ei{construct(e,i,a){return new Fe(e,i,a)}static isValidIdentifier(e){return $S.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new Fe([x_])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new it(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new it(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new it(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(h(),o++)}if(h(),d)throw new it(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}class ct{constructor(e){this.path=e}static fromPath(e){return new ct(te.fromString(e))}static fromName(e){return new ct(te.fromString(e).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new te(e.slice()))}}function f0(r,e,i){if(!i)throw new it(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function WS(r,e,i,a){if(e===!0&&a===!0)throw new it(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function V_(r){if(!ct.isDocumentKey(r))throw new it(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function M_(r){if(ct.isDocumentKey(r))throw new it(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function d0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Mc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function Ai(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new it(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mc(r);throw new it(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Re(r,e){const i={typeString:r};return e&&(i.value=e),i}function To(r,e){if(!d0(r))throw new it(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new it(Z.INVALID_ARGUMENT,i);return!0}const O_=-62135596800,U_=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(e){return ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*U_);return new ie(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<O_)throw new it(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U_}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(To(e,ie._jsonSchema))return new ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ie(0,0))}static max(){return new yt(new ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const uo=-1;function t1(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new zs(o,ct.empty(),e)}function e1(r){return new zs(r.readTime,r.key,uo)}class zs{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new zs(yt.min(),ct.empty(),uo)}static max(){return new zs(yt.max(),ct.empty(),uo)}}function n1(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,e.documentKey),i!==0?i:Dt(r.largestBatchId,e.largestBatchId))}const i1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qr(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==i1)throw r;st("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,a)=>{i(e)}))}static reject(e){return new J(((i,a)=>{a(e)}))}static waitFor(e){return new J(((i,a)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(_=>a(_)))})),d=!0,h===o&&i()}))}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new J(((a,o)=>{const h=e.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next((E=>{d[v]=E,++p,p===h&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new J(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function a1(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Hr(r){return r.name==="IndexedDbTransactionError"}class Oc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oc.ce=-1;const Wd=-1;function Uc(r){return r==null}function Tc(r){return r===0&&1/r==-1/0}function r1(r){return typeof r=="number"&&Number.isInteger(r)&&!Tc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const m0="";function l1(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=B_(e)),e=o1(r.get(i),e);return B_(e)}function o1(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case m0:i+="";break;default:i+=h}}return i}function B_(r){return r+m0+""}function L_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Qs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function g0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class oe{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Ge.RED,this.left=o??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Ge(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new z_(this.data.getIterator())}getIteratorFrom(e){return new z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new An([])}unionWith(e){let i=new Me(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new An(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Br(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class p0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new p0("Invalid base64 string: "+h):h}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const u1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(r){if(Ht(!!r,39018),typeof r=="string"){let e=0;const i=u1.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ps(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const y0="server_timestamp",_0="__type__",v0="__previous_value__",T0="__local_write_time__";function tm(r){return(r?.mapValue?.fields||{})[_0]?.stringValue===y0}function Bc(r){const e=r.mapValue.fields[v0];return tm(e)?Bc(e):e}function co(r){const e=ks(r.mapValue.fields[T0].timestampValue);return new ie(e.seconds,e.nanos)}class c1{constructor(e,i,a,o,h,d,p,_,v,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=E}}const wd="(default)";class ho{constructor(e,i){this.projectId=e,this.database=i||wd}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===wd}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}const E0="__type__",h1="__max__",rc={mapValue:{}},A0="__vector__",Ec="value";function js(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tm(r)?4:d1(r)?9007199254740991:f1(r)?10:11:dt(28295,{value:r})}function Ri(r,e){if(r===e)return!0;const i=js(r);if(i!==js(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return co(r).isEqual(co(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=ks(o.timestampValue),p=ks(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Ps(o.bytesValue).isEqual(Ps(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),p=ge(h.doubleValue);return d===p?Tc(d)===Tc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Br(r.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(L_(d)!==L_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ri(d[_],p[_])))return!1;return!0})(r,e);default:return dt(52216,{left:r})}}function fo(r,e){return(r.values||[]).find((i=>Ri(i,e)))!==void 0}function Lr(r,e){if(r===e)return 0;const i=js(r),a=js(e);if(i!==a)return Dt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=ge(h.integerValue||h.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,e);case 3:return k_(r.timestampValue,e.timestampValue);case 4:return k_(co(r),co(e));case 5:return Sd(r.stringValue,e.stringValue);case 6:return(function(h,d){const p=Ps(h),_=Ps(d);return p.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const E=Dt(p[v],_[v]);if(E!==0)return E}return Dt(p.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Dt(ge(h.latitude),ge(d.latitude));return p!==0?p:Dt(ge(h.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return P_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const p=h.fields||{},_=d.fields||{},v=p[Ec]?.arrayValue,E=_[Ec]?.arrayValue,b=Dt(v?.values?.length||0,E?.values?.length||0);return b!==0?b:P_(v,E)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===rc.mapValue&&d===rc.mapValue)return 0;if(h===rc.mapValue)return 1;if(d===rc.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},E=Object.keys(v);_.sort(),E.sort();for(let b=0;b<_.length&&b<E.length;++b){const D=Sd(_[b],E[b]);if(D!==0)return D;const j=Lr(p[_[b]],v[E[b]]);if(j!==0)return j}return Dt(_.length,E.length)})(r.mapValue,e.mapValue);default:throw dt(23264,{he:i})}}function k_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Dt(r,e);const i=ks(r),a=ks(e),o=Dt(i.seconds,a.seconds);return o!==0?o:Dt(i.nanos,a.nanos)}function P_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Lr(i[o],a[o]);if(h)return h}return Dt(i.length,a.length)}function zr(r){return Cd(r)}function Cd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ks(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ps(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Cd(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Cd(i.fields[d])}`;return o+"}"})(r.mapValue):dt(61005,{value:r})}function hc(r){switch(js(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bc(r);return e?16+hc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+hc(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Qs(a.fields,((h,d)=>{o+=h.length+hc(d)})),o})(r.mapValue);default:throw dt(13486,{value:r})}}function j_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Rd(r){return!!r&&"integerValue"in r}function em(r){return!!r&&"arrayValue"in r}function q_(r){return!!r&&"nullValue"in r}function H_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fc(r){return!!r&&"mapValue"in r}function f1(r){return(r?.mapValue?.fields||{})[E0]?.stringValue===A0}function io(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Qs(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=io(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=io(r.arrayValue.values[i]);return e}return{...r}}function d1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===h1}class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!fc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=io(i)}setAll(e){let i=Fe.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=io(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Qs(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new hn(io(this.value))}}function b0(r){const e=[];return Qs(r.fields,((i,a)=>{const o=new Fe([i]);if(fc(a)){const h=b0(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new An(e)}class Ze{constructor(e,i,a,o,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ze(e,0,yt.min(),yt.min(),yt.min(),hn.empty(),0)}static newFoundDocument(e,i,a,o){return new Ze(e,1,i,yt.min(),a,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,yt.min(),yt.min(),hn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,yt.min(),yt.min(),hn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ac{constructor(e,i){this.position=e,this.inclusive=i}}function G_(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Lr(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function F_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ri(r.position[i],e.position[i]))return!1;return!0}class bc{constructor(e,i="asc"){this.field=e,this.dir=i}}function m1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class S0{}class Ce extends S0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new p1(e,i,a):i==="array-contains"?new v1(e,a):i==="in"?new T1(e,a):i==="not-in"?new E1(e,a):i==="array-contains-any"?new A1(e,a):new Ce(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new y1(e,a):new _1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Lr(i,this.value)):i!==null&&js(this.value)===js(i)&&this.matchesComparison(Lr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends S0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Jn(e,i)}matches(e){return w0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w0(r){return r.op==="and"}function C0(r){return g1(r)&&w0(r)}function g1(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function Nd(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+zr(r.value);if(C0(r))return r.filters.map((e=>Nd(e))).join(",");{const e=r.filters.map((i=>Nd(i))).join(",");return`${r.op}(${e})`}}function R0(r,e){return r instanceof Ce?(function(a,o){return o instanceof Ce&&a.op===o.op&&a.field.isEqual(o.field)&&Ri(a.value,o.value)})(r,e):r instanceof Jn?(function(a,o){return o instanceof Jn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,p)=>h&&R0(d,o.filters[p])),!0):!1})(r,e):void dt(19439)}function N0(r){return r instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${zr(i.value)}`})(r):r instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(N0).join(" ,")+"}"})(r):"Filter"}class p1 extends Ce{constructor(e,i,a){super(e,i,a),this.key=ct.fromName(a.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class y1 extends Ce{constructor(e,i){super(e,"in",i),this.keys=I0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class _1 extends Ce{constructor(e,i){super(e,"not-in",i),this.keys=I0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function I0(r,e){return(e.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class v1 extends Ce{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return em(i)&&fo(i.arrayValue,this.value)}}class T1 extends Ce{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&fo(this.value.arrayValue,i)}}class E1 extends Ce{constructor(e,i){super(e,"not-in",i)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!fo(this.value.arrayValue,i)}}class A1 extends Ce{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!em(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>fo(this.value.arrayValue,a)))}}class b1{constructor(e,i=null,a=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function Q_(r,e=null,i=[],a=[],o=null,h=null,d=null){return new b1(r,e,i,a,o,h,d)}function nm(r){const e=vt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Nd(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Uc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>zr(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>zr(a))).join(",")),e.Te=i}return e.Te}function im(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!m1(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!R0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!F_(r.startAt,e.startAt)&&F_(r.endAt,e.endAt)}function Id(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eo{constructor(e,i=null,a=[],o=[],h=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function S1(r,e,i,a,o,h,d,p){return new Eo(r,e,i,a,o,h,d,p)}function sm(r){return new Eo(r)}function Y_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function D0(r){return r.collectionGroup!==null}function so(r){const e=vt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new bc(h,a))})),i.has(Fe.keyField().canonicalString())||e.Ie.push(new bc(Fe.keyField(),a))}return e.Ie}function bi(r){const e=vt(r);return e.Ee||(e.Ee=w1(e,so(r))),e.Ee}function w1(r,e){if(r.limitType==="F")return Q_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new bc(o.field,h)}));const i=r.endAt?new Ac(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Ac(r.startAt.position,r.startAt.inclusive):null;return Q_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function Dd(r,e){const i=r.filters.concat([e]);return new Eo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function xd(r,e,i){return new Eo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Lc(r,e){return im(bi(r),bi(e))&&r.limitType===e.limitType}function x0(r){return`${nm(bi(r))}|lt:${r.limitType}`}function Cr(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>N0(o))).join(", ")}]`),Uc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>zr(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>zr(o))).join(",")),`Target(${a})`})(bi(r))}; limitType=${r.limitType})`}function zc(r,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ct.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,e)&&(function(a,o){for(const h of so(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,_){const v=G_(d,p,_);return d.inclusive?v<=0:v<0})(a.startAt,so(a),o)||a.endAt&&!(function(d,p,_){const v=G_(d,p,_);return d.inclusive?v>=0:v>0})(a.endAt,so(a),o))})(r,e)}function C1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function V0(r){return(e,i)=>{let a=!1;for(const o of so(r)){const h=R1(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function R1(r,e,i){const a=r.field.isKeyField()?ct.comparator(e.key,i.key):(function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?Lr(_,v):dt(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:r.dir})}}class xa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return g0(this.inner)}size(){return this.innerSize}}const N1=new oe(ct.comparator);function Ji(){return N1}const M0=new oe(ct.comparator);function $l(...r){let e=M0;for(const i of r)e=e.insert(i.key,i);return e}function O0(r){let e=M0;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Ca(){return ao()}function U0(){return ao()}function ao(){return new xa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const I1=new oe(ct.comparator),D1=new Me(ct.comparator);function xt(...r){let e=D1;for(const i of r)e=e.add(i);return e}const x1=new Me(Dt);function V1(){return x1}function am(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function B0(r){return{integerValue:""+r}}function M1(r,e){return r1(e)?B0(e):am(r,e)}class kc{constructor(){this._=void 0}}function O1(r,e,i){return r instanceof mo?(function(o,h){const d={fields:{[_0]:{stringValue:y0},[T0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&tm(h)&&(h=Bc(h)),h&&(d.fields[v0]=h),{mapValue:d}})(i,e):r instanceof go?z0(r,e):r instanceof po?k0(r,e):(function(o,h){const d=L0(o,h),p=K_(d)+K_(o.Ae);return Rd(d)&&Rd(o.Ae)?B0(p):am(o.serializer,p)})(r,e)}function U1(r,e,i){return r instanceof go?z0(r,e):r instanceof po?k0(r,e):i}function L0(r,e){return r instanceof Sc?(function(a){return Rd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class mo extends kc{}class go extends kc{constructor(e){super(),this.elements=e}}function z0(r,e){const i=P0(e);for(const a of r.elements)i.some((o=>Ri(o,a)))||i.push(a);return{arrayValue:{values:i}}}class po extends kc{constructor(e){super(),this.elements=e}}function k0(r,e){let i=P0(e);for(const a of r.elements)i=i.filter((o=>!Ri(o,a)));return{arrayValue:{values:i}}}class Sc extends kc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function K_(r){return ge(r.integerValue||r.doubleValue)}function P0(r){return em(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class B1{constructor(e,i){this.field=e,this.transform=i}}function L1(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof go&&o instanceof go||a instanceof po&&o instanceof po?Br(a.elements,o.elements,Ri):a instanceof Sc&&o instanceof Sc?Ri(a.Ae,o.Ae):a instanceof mo&&o instanceof mo})(r.transform,e.transform)}class z1{constructor(e,i){this.version=e,this.transformResults=i}}class fn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fn}static exists(e){return new fn(void 0,e)}static updateTime(e){return new fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Pc{}function j0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new jc(r.key,fn.none()):new Ao(r.key,r.data,fn.none());{const i=r.data,a=hn.empty();let o=new Me(Fe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Ys(r.key,a,new An(o.toArray()),fn.none())}}function k1(r,e,i){r instanceof Ao?(function(o,h,d){const p=o.value.clone(),_=Z_(o.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Ys?(function(o,h,d){if(!dc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Z_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(q0(o)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ro(r,e,i,a){return r instanceof Ao?(function(h,d,p,_){if(!dc(h.precondition,d))return p;const v=h.value.clone(),E=J_(h.fieldTransforms,_,d);return v.setAll(E),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,e,i,a):r instanceof Ys?(function(h,d,p,_){if(!dc(h.precondition,d))return p;const v=J_(h.fieldTransforms,_,d),E=d.data;return E.setAll(q0(h)),E.setAll(v),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(r,e,i,a):(function(h,d,p){return dc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function P1(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=L0(a.transform,o||null);h!=null&&(i===null&&(i=hn.empty()),i.set(a.field,h))}return i||null}function X_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Br(a,o,((h,d)=>L1(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ao extends Pc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends Pc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function q0(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function Z_(r,e,i){const a=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,p=e.data.field(h.field);a.set(h.field,U1(d,p,i[o]))}return a}function J_(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,O1(h,d,e))}return a}class jc extends Pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j1 extends Pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class q1{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&k1(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=ro(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=ro(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=U0();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const _=j0(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),xt())}isEqual(e){return this.batchId===e.batchId&&Br(this.mutations,e.mutations,((i,a)=>X_(i,a)))&&Br(this.baseMutations,e.baseMutations,((i,a)=>X_(i,a)))}}class rm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ht(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return I1})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new rm(e,i,a,o)}}class H1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class G1{constructor(e,i){this.count=e,this.unchangedNames=i}}var we,Ot;function F1(r){switch(r){case Z.OK:return dt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function H0(r){if(r===void 0)return Zi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case we.OK:return Z.OK;case we.CANCELLED:return Z.CANCELLED;case we.UNKNOWN:return Z.UNKNOWN;case we.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case we.INTERNAL:return Z.INTERNAL;case we.UNAVAILABLE:return Z.UNAVAILABLE;case we.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case we.NOT_FOUND:return Z.NOT_FOUND;case we.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case we.ABORTED:return Z.ABORTED;case we.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case we.DATA_LOSS:return Z.DATA_LOSS;default:return dt(39323,{code:r})}}(Ot=we||(we={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";function Q1(){return new TextEncoder}const Y1=new Us([4294967295,4294967295],0);function $_(r){const e=Q1().encode(r),i=new a0;return i.update(e),new Uint8Array(i.digest())}function W_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Us([i,a],0),new Us([o,h],0)]}class lm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(a<0)throw new Wl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Us.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Us.fromNumber(a)));return o.compare(Y1)===1&&(o=new Us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=$_(e),[a,o]=W_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new lm(h,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=$_(e),[a,o]=W_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,bo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new qc(yt.min(),o,new oe(Dt),Ji(),xt())}}class bo{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new bo(a,i,xt(),xt(),xt())}}class mc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class G0{constructor(e,i){this.targetId=e,this.Ce=i}}class F0{constructor(e,i,a=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class tv{constructor(){this.ve=0,this.Fe=ev(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xt(),i=xt(),a=xt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:dt(38017,{changeType:h})}})),new bo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=ev()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class K1{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=lc(),this.He=lc(),this.Ye=new oe(Dt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Id(h))if(a===0){const d=new ct(h.path);this.et(i,d,Ze.newNoDocument(d,yt.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Ps(a).toUint8Array()}catch(_){if(_ instanceof p0)return oo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new lm(d,o,h)}catch(_){return oo(_ instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Id(p.target)){const _=new ct(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=xt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new qc(e,i,this.Ye,this.je,a);return this.je=Ji(),this.Je=lc(),this.He=lc(),this.Ye=new oe(Dt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new tv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Me(Dt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Me(Dt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function lc(){return new oe(ct.comparator)}function ev(){return new oe(ct.comparator)}const X1={asc:"ASCENDING",desc:"DESCENDING"},Z1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J1={and:"AND",or:"OR"};class $1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Vd(r,e){return r.useProto3Json||Uc(e)?e:{value:e}}function wc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function W1(r,e){return wc(r,e.toTimestamp())}function Si(r){return Ht(!!r,49232),yt.fromTimestamp((function(i){const a=ks(i);return new ie(a.seconds,a.nanos)})(r))}function om(r,e){return Md(r,e).canonicalString()}function Md(r,e){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Y0(r){const e=te.fromString(r);return Ht($0(e),10190,{key:e.toString()}),e}function Od(r,e){return om(r.databaseId,e.path)}function cd(r,e){const i=Y0(e);if(i.get(1)!==r.databaseId.projectId)throw new it(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(X0(i))}function K0(r,e){return om(r.databaseId,e)}function tw(r){const e=Y0(r);return e.length===4?te.emptyPath():X0(e)}function Ud(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function X0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nv(r,e,i){return{name:Od(r,e),fields:i.value.mapValue.fields}}function ew(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(v,E){return v.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const E=v.code===void 0?Z.UNKNOWN:H0(v.code);return new it(E,v.message||"")})(d);i=new F0(a,o,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=cd(r,a.document.name),h=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):yt.min(),p=new hn({mapValue:{fields:a.document.fields}}),_=Ze.newFoundDocument(o,h,d,p),v=a.targetIds||[],E=a.removedTargetIds||[];i=new mc(v,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=cd(r,a.document),h=a.readTime?Si(a.readTime):yt.min(),d=Ze.newNoDocument(o,h),p=a.removedTargetIds||[];i=new mc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=cd(r,a.document),h=a.removedTargetIds||[];i=new mc([],h,o,null)}else{if(!("filter"in e))return dt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new G1(o,h),p=a.targetId;i=new G0(p,d)}}return i}function nw(r,e){let i;if(e instanceof Ao)i={update:nv(r,e.key,e.value)};else if(e instanceof jc)i={delete:Od(r,e.key)};else if(e instanceof Ys)i={update:nv(r,e.key,e.data),updateMask:hw(e.fieldMask)};else{if(!(e instanceof j1))return dt(16599,{Vt:e.type});i={verify:Od(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const p=d.transform;if(p instanceof mo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof go)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Sc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:W1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)})(r,e.precondition)),i}function iw(r,e){return r&&r.length>0?(Ht(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?Si(o.updateTime):Si(h);return d.isEqual(yt.min())&&(d=Si(h)),new z1(d,o.transformResults||[])})(i,e)))):[]}function sw(r,e){return{documents:[K0(r,e.path)]}}function aw(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=K0(r,o);const h=(function(v){if(v.length!==0)return J0(Jn.create(v,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((E=>(function(D){return{field:Rr(D.field),direction:ow(D.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Vd(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function rw(r){let e=tw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ht(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let h=[];i.where&&(h=(function(b){const D=Z0(b);return D instanceof Jn&&C0(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((D=>(function(G){return new bc(Nr(G.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let D;return D=typeof b=="object"?b.value:b,Uc(D)?null:D})(i.limit));let _=null;i.startAt&&(_=(function(b){const D=!!b.before,j=b.values||[];return new Ac(j,D)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const D=!b.before,j=b.values||[];return new Ac(j,D)})(i.endAt)),S1(e,o,d,h,p,"F",_,v)}function lw(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Z0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Nr(i.unaryFilter.field);return Ce.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Nr(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Nr(i.unaryFilter.field);return Ce.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Nr(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ce.create(Nr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((a=>Z0(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(r):dt(30097,{filter:r})}function ow(r){return X1[r]}function uw(r){return Z1[r]}function cw(r){return J1[r]}function Rr(r){return{fieldPath:r.canonicalString()}}function Nr(r){return Fe.fromServerFormat(r.fieldPath)}function J0(r){return r instanceof Ce?(function(i){if(i.op==="=="){if(H_(i.value))return{unaryFilter:{field:Rr(i.field),op:"IS_NAN"}};if(q_(i.value))return{unaryFilter:{field:Rr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H_(i.value))return{unaryFilter:{field:Rr(i.field),op:"IS_NOT_NAN"}};if(q_(i.value))return{unaryFilter:{field:Rr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rr(i.field),op:uw(i.op),value:i.value}}})(r):r instanceof Jn?(function(i){const a=i.getFilters().map((o=>J0(o)));return a.length===1?a[0]:{compositeFilter:{op:cw(i.op),filters:a}}})(r):dt(54877,{filter:r})}function hw(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function $0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Vs{constructor(e,i,a,o,h=yt.min(),d=yt.min(),p=Ye.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fw{constructor(e){this.yt=e}}function dw(r){const e=rw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xd(e,e.limit,"L"):e}class mw{constructor(){this.Cn=new gw}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(zs.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class gw{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Me(te.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Me(te.comparator)).toArray()}}const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W0=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(W0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class kr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new kr(0)}static cr(){return new kr(-1)}}const sv="LruGarbageCollector",pw=1048576;function av([r,e],[i,a]){const o=Dt(r,i);return o===0?Dt(e,a):o}class yw{constructor(e){this.Ir=e,this.buffer=new Me(av),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();av(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _w{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(sv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Hr(i)?st(sv,"Ignoring IndexedDB error during garbage collection: ",i):await qr(i)}await this.Vr(3e5)}))}}class vw{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Oc.ce);const a=new yw(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(iv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,p,_,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(a=b,p=Date.now(),this.removeTargets(e,a,i)))).next((b=>(h=b,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(v=Date.now(),wr()<=It.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(v-_)+`ms
Total Duration: ${v-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:b}))))}}function Tw(r,e){return new vw(r,e)}class Ew{constructor(){this.changes=new xa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Aw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class bw{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&ro(a.mutation,o,An.empty(),ie.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,xt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=xt()){const o=Ca();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=$l();return h.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Ca();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,xt())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let h=Ji();const d=ao(),p=(function(){return ao()})();return i.forEach(((_,v)=>{const E=a.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof Ys)?h=h.insert(v.key,v):E!==void 0?(d.set(v.key,E.mutation.getFieldMask()),ro(E.mutation,v,E.mutation.getFieldMask(),ie.now())):d.set(v.key,An.empty())})),this.recalculateAndSaveOverlays(e,h).next((_=>(_.forEach(((v,E)=>d.set(v,E))),i.forEach(((v,E)=>p.set(v,new Aw(E,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=ao();let o=new oe(((d,p)=>d-p)),h=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let E=a.get(_)||An.empty();E=p.applyToLocalView(v,E),a.set(_,E);const b=(o.get(p.batchId)||xt()).add(_);o=o.insert(p.batchId,b)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,E=_.value,b=U0();E.forEach((D=>{if(!h.has(D)){const j=j0(i.get(D),a.get(D));j!==null&&b.set(D,j),h=h.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,b))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):D0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):J.resolve(Ca());let p=uo,_=h;return d.next((v=>J.forEach(v,((E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),h.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((D=>{_=_.insert(E,D)}))))).next((()=>this.populateOverlays(e,v,h))).next((()=>this.computeViews(e,_,v,xt()))).next((E=>({batchId:p,changes:O0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((a=>{let o=$l();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(e,h).next((p=>J.forEach(p,(_=>{const v=(function(b,D){return new Eo(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next((E=>{E.forEach(((b,D)=>{d=d.insert(b,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((_,v)=>{const E=v.getKey();d.get(E)===null&&(d=d.insert(E,Ze.newInvalidDocument(E)))}));let p=$l();return d.forEach(((_,v)=>{const E=h.get(_);E!==void 0&&ro(E.mutation,v,An.empty(),ie.now()),zc(i,v)&&(p=p.insert(_,v))})),p}))}}class Sw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:dw(o.bundledQuery),readTime:Si(o.readTime)}})(i)),J.resolve()}}class ww{constructor(){this.overlays=new oe(ct.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Ca();return J.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),J.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const o=Ca(),h=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new oe(((v,E)=>v-E));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let E=h.get(v.largestBatchId);E===null&&(E=Ca(),h=h.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const p=Ca(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,E)=>p.set(v,E))),!(p.size()>=o)););return J.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new H1(i,a));let h=this.qr.get(i);h===void 0&&(h=xt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}class Cw{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class um{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Le(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ct(new te([])),a=new Le(i,e),o=new Le(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new te([])),a=new Le(i,e),o=new Le(i,e+1);let h=xt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Le(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||Dt(e.Yr,i.Yr)}static Kr(e,i){return Dt(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}class Rw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new q1(h,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Le(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return J.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Wd:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),J.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Me(Dt);return i.forEach((o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{a=a.add(p.Yr)}))})),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ct.isDocumentKey(h)||(h=h.child(""));const d=new Le(new ct(h),0);let p=new Me(Dt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,(o=>{const h=new Le(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Le(i,0),o=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Nw{constructor(e){this.ri=e,this.docs=(function(){return new oe(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let a=Ji();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ze.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Ji();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:E}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||n1(e1(E),a)<=0||(o.has(E.key)||zc(i,E))&&(h=h.insert(E.key,E.mutableCopy()))}return J.resolve(h)}getAllFromCollectionGroup(e,i,a,o){dt(9500)}ii(e,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new Iw(this)}getSize(e){return J.resolve(this.size)}}class Iw extends Ew{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Dw{constructor(e){this.persistence=e,this.si=new xa((i=>nm(i)),im),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new um,this.targetCount=0,this.ai=kr.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new kr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(h).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class tT{constructor(e,i){this.ui={},this.overlays={},this.ci=new Oc(0),this.li=!1,this.li=!0,this.hi=new Cw,this.referenceDelegate=e(this),this.Pi=new Dw(this),this.indexManager=new mw,this.remoteDocumentCache=(function(o){return new Nw(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new fw(i),this.Ii=new Sw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ww,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new Rw(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){st("MemoryPersistence","Starting transaction:",e);const o=new xw(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return J.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class xw extends s1{constructor(e){super(),this.currentSequenceNumber=e}}class cm{constructor(e){this.persistence=e,this.Ri=new um,this.Vi=null}static mi(e){return new cm(e)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(a=>{const o=ct.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,yt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Cc{constructor(e,i){this.persistence=e,this.pi=new xa((a=>l1(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Tw(this,i)}static mi(e,i){return new Cc(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?J.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=hc(e.data.value)),i}br(e,i,a){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=xt(),o=xt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new hm(e,i.fromCache,a,o)}}class Vw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Mw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jA()?8:a1(Zn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Vw;return this.Ss(e,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(wr()<=It.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Cr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(wr()<=It.DEBUG&&st("QueryEngine","Query:",Cr(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(wr()<=It.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Cr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(i))):J.resolve())}ys(e,i){if(Y_(i))return J.resolve(null);let a=bi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=xd(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=xt(...h);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(e,xd(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,a,o){return Y_(i)||o.isEqual(yt.min())?J.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?J.resolve(null):(wr()<=It.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Cr(i)),this.vs(e,d,i,t1(o,uo)).next((p=>p)))}))}Ds(e,i){let a=new Me(V0(e));return i.forEach(((o,h)=>{zc(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return wr()<=It.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Cr(i)),this.ps.getDocumentsMatchingQuery(e,i,zs.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const fm="LocalStore",Ow=3e8;class Uw{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(Dt),this.xs=new xa((h=>nm(h)),im),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Bw(r,e,i,a){return new Uw(r,e,i,a)}async function eT(r,e){const i=vt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],p=[];let _=xt();for(const v of o){d.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}for(const v of h){p.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function Lw(r,e){const i=vt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,E){const b=v.batch,D=b.keys();let j=J.resolve();return D.forEach((G=>{j=j.next((()=>E.getEntry(_,G))).next(($=>{const W=v.docVersions.get(G);Ht(W!==null,48541),$.version.compareTo(W)<0&&(b.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),E.addEntry($)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=xt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function nT(r){const e=vt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function zw(r,e){const i=vt(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,b)=>{const D=o.get(b);if(!D)return;p.push(i.Pi.removeMatchingKeys(h,E.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,E.addedDocuments,b))));let j=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?j=j.withResumeToken(Ye.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,a)),o=o.insert(b,j),(function($,W,ot){return $.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=Ow?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(D,j,E)&&p.push(i.Pi.updateTargetData(h,j))}));let _=Ji(),v=xt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,E))})),p.push(kw(h,d,e.documentUpdates).next((E=>{_=E.ks,v=E.qs}))),!a.isEqual(yt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));p.push(E)}return J.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,_,v))).next((()=>_))})).then((h=>(i.Ms=o,h)))}function kw(r,e,i){let a=xt(),o=xt();return i.forEach((h=>a=a.add(h))),e.getEntries(r,a).next((h=>{let d=Ji();return i.forEach(((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(yt.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):st(fm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function Pw(r,e){const i=vt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Wd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function jw(r,e){const i=vt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((h=>h?(o=h,J.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Vs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Bd(r,e,i){const a=vt(r),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Hr(d))throw d;st(fm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function rv(r,e,i){const a=vt(r);let o=yt.min(),h=xt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,E){const b=vt(_),D=b.xs.get(E);return D!==void 0?J.resolve(b.Ms.get(D)):b.Pi.getTargetData(v,E)})(a,d,bi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{h=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:yt.min(),i?h:xt()))).next((p=>(qw(a,C1(e),p),{documents:p,Qs:h})))))}function qw(r,e,i){let a=r.Os.get(e)||yt.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(e,a)}class lv{constructor(){this.activeTargetIds=V1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hw{constructor(){this.Mo=new lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gw{Oo(e){}shutdown(){}}const ov="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(ov,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let oc=null;function Ld(){return oc===null?oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():oc++,"0x"+oc.toString(16)}const hd="RestConnection",Fw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===wd?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=Ld(),p=this.zo(e,i.toUriEncodedString());st(hd,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,h);const{host:v}=new URL(p),E=Fd(v);return this.Jo(e,p,_,a,E).then((b=>(st(hd,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw oo(hd,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=Fw[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Yw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xe="WebChannelConnection";class Kw extends Qw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=Ld();return new Promise(((p,_)=>{const v=new r0;v.setWithCredentials(!0),v.listenOnce(l0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case cc.NO_ERROR:const b=v.getResponseJson();st(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case cc.TIMEOUT:st(Xe,`RPC '${e}' ${d} timed out`),_(new it(Z.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:const D=v.getStatus();if(st(Xe,`RPC '${e}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const G=j?.error;if(G&&G.status&&G.message){const $=(function(ot){const mt=ot.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(mt)>=0?mt:Z.UNKNOWN})(G.status);_(new it($,G.message))}else _(new it(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new it(Z.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{st(Xe,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);st(Xe,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=Ld(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=c0(),p=u0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=h.join("");st(Xe,`Creating RPC '${e}' stream ${o}: ${E}`,_);const b=d.createWebChannel(E,_);this.I_(b);let D=!1,j=!1;const G=new Yw({Yo:W=>{j?st(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(D||(st(Xe,`Opening RPC '${e}' stream ${o} transport.`),b.open(),D=!0),st(Xe,`RPC '${e}' stream ${o} sending:`,W),b.send(W))},Zo:()=>b.close()}),$=(W,ot,mt)=>{W.listen(ot,(gt=>{try{mt(gt)}catch(kt){setTimeout((()=>{throw kt}),0)}}))};return $(b,Jl.EventType.OPEN,(()=>{j||(st(Xe,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),$(b,Jl.EventType.CLOSE,(()=>{j||(j=!0,st(Xe,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(b))})),$(b,Jl.EventType.ERROR,(W=>{j||(j=!0,oo(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),G.a_(new it(Z.UNAVAILABLE,"The operation could not be completed")))})),$(b,Jl.EventType.MESSAGE,(W=>{if(!j){const ot=W.data[0];Ht(!!ot,16349);const mt=ot,gt=mt?.error||mt[0]?.error;if(gt){st(Xe,`RPC '${e}' stream ${o} received error:`,gt);const kt=gt.status;let Kt=(function(S){const R=we[S];if(R!==void 0)return H0(R)})(kt),Ct=gt.message;Kt===void 0&&(Kt=Z.INTERNAL,Ct="Unknown error status: "+kt+" with message "+gt.message),j=!0,G.a_(new it(Kt,Ct)),b.close()}else st(Xe,`RPC '${e}' stream ${o} received:`,ot),G.u_(ot)}})),$(p,o0.STAT_EVENT,(W=>{W.stat===bd.PROXY?st(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===bd.NOPROXY&&st(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function fd(){return typeof document<"u"?document:null}function Hc(r){return new $1(r,!0)}class iT{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cv="PersistentStream";class sT{constructor(e,i,a,o,h,d,p,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new it(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(st(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xw extends sT{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ew(this.serializer,e),a=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Si(d.readTime):yt.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Ud(this.serializer),i.addTarget=(function(h,d){let p;const _=d.target;if(p=Id(_)?{documents:sw(h,_)}:{query:aw(h,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Q0(h,d.resumeToken);const v=Vd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=wc(h,d.snapshotVersion.toTimestamp());const v=Vd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const a=lw(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Ud(this.serializer),i.removeTarget=e,this.q_(i)}}class Zw extends sT{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=iw(e.writeResults,e.commitTime),a=Si(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Ud(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>nw(this.serializer,a)))};this.q_(i)}}class Jw{}class $w extends Jw{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Md(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(Z.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Md(i,a),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ww{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Da="RemoteStore";class t2{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Va(this)&&(st(Da,"Restarting streams for network reachability change."),await(async function(_){const v=vt(_);v.Ea.add(4),await So(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Gc(v)})(this))}))})),this.Ra=new Ww(a,o)}}async function Gc(r){if(Va(r))for(const e of r.da)await e(!0)}async function So(r){for(const e of r.da)await e(!1)}function aT(r,e){const i=vt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pm(i)?gm(i):Gr(i).O_()&&mm(i,e))}function dm(r,e){const i=vt(r),a=Gr(i);i.Ia.delete(e),a.O_()&&rT(i,e),i.Ia.size===0&&(a.O_()?a.L_():Va(i)&&i.Ra.set("Unknown"))}function mm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Gr(r).Y_(e)}function rT(r,e){r.Va.Ue(e),Gr(r).Z_(e)}function gm(r){r.Va=new K1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Gr(r).start(),r.Ra.ua()}function pm(r){return Va(r)&&!Gr(r).x_()&&r.Ia.size>0}function Va(r){return vt(r).Ea.size===0}function lT(r){r.Va=void 0}async function e2(r){r.Ra.set("Online")}async function n2(r){r.Ia.forEach(((e,i)=>{mm(r,e)}))}async function i2(r,e){lT(r),pm(r)?(r.Ra.ha(e),gm(r)):r.Ra.set("Unknown")}async function s2(r,e,i){if(r.Ra.set("Online"),e instanceof F0&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(a){st(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Rc(r,a)}else if(e instanceof mc?r.Va.Ze(e):e instanceof G0?r.Va.st(e):r.Va.tt(e),!i.isEqual(yt.min()))try{const a=await nT(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const E=h.Ia.get(v);E&&h.Ia.set(v,E.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const E=h.Ia.get(_);if(!E)return;h.Ia.set(_,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),rT(h,_);const b=new Vs(E.target,_,v,E.sequenceNumber);mm(h,b)})),h.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){st(Da,"Failed to raise snapshot:",a),await Rc(r,a)}}async function Rc(r,e,i){if(!Hr(e))throw e;r.Ea.add(1),await So(r),r.Ra.set("Offline"),i||(i=()=>nT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Da,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Gc(r)}))}function oT(r,e){return e().catch((i=>Rc(r,i,e)))}async function Fc(r){const e=vt(r),i=qs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wd;for(;a2(e);)try{const o=await Pw(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,r2(e,o)}catch(o){await Rc(e,o)}uT(e)&&cT(e)}function a2(r){return Va(r)&&r.Ta.length<10}function r2(r,e){r.Ta.push(e);const i=qs(r);i.O_()&&i.X_&&i.ea(e.mutations)}function uT(r){return Va(r)&&!qs(r).x_()&&r.Ta.length>0}function cT(r){qs(r).start()}async function l2(r){qs(r).ra()}async function o2(r){const e=qs(r);for(const i of r.Ta)e.ea(i.mutations)}async function u2(r,e,i){const a=r.Ta.shift(),o=rm.from(a,e,i);await oT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Fc(r)}async function c2(r,e){e&&qs(r).X_&&await(async function(a,o){if((function(d){return F1(d)&&d!==Z.ABORTED})(o.code)){const h=a.Ta.shift();qs(a).B_(),await oT(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Fc(a)}})(r,e),uT(r)&&cT(r)}async function hv(r,e){const i=vt(r);i.asyncQueue.verifyOperationInProgress(),st(Da,"RemoteStore received new credentials");const a=Va(i);i.Ea.add(3),await So(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Gc(i)}async function h2(r,e){const i=vt(r);e?(i.Ea.delete(2),await Gc(i)):e||(i.Ea.add(2),await So(i),i.Ra.set("Unknown"))}function Gr(r){return r.ma||(r.ma=(function(i,a,o){const h=vt(i);return h.sa(),new Xw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:e2.bind(null,r),t_:n2.bind(null,r),r_:i2.bind(null,r),H_:s2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),pm(r)?gm(r):r.Ra.set("Unknown")):(await r.ma.stop(),lT(r))}))),r.ma}function qs(r){return r.fa||(r.fa=(function(i,a,o){const h=vt(i);return h.sa(),new Zw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:l2.bind(null,r),r_:c2.bind(null,r),ta:o2.bind(null,r),na:u2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Fc(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ym{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,p=new ym(e,i,d,o,h);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _m(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),Hr(r))return new it(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class Vr{static emptySet(e){return new Vr(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=$l(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Vr;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class fv{constructor(){this.ga=new oe(ct.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):dt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Pr{constructor(e,i,a,o,h,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Pr(e,i,Vr.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class f2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class d2{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=vt(i),h=o.queries;o.queries=dv(),h.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new it(Z.ABORTED,"Firestore shutting down"))}}function dv(){return new xa((r=>x0(r)),Lc)}async function hT(r,e){const i=vt(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new f2,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=_m(d,`Initialization of query '${Cr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&vm(i)}async function fT(r,e){const i=vt(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function m2(r,e){const i=vt(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&vm(i)}function g2(r,e,i){const a=vt(r),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function vm(r){r.Ca.forEach((e=>{e.next()}))}var zd,mv;(mv=zd||(zd={})).Ma="default",mv.Cache="cache";class dT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Pr(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Pr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zd.Cache}}class mT{constructor(e){this.key=e}}class gT{constructor(e){this.key=e}}class p2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=V0(e),this.tu=new Vr(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new fv,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const D=o.get(E),j=zc(this.query,b)?b:null,G=!!D&&this.mutatedKeys.has(D.key),$=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let W=!1;D&&j?D.data.isEqual(j.data)?G!==$&&(a.track({type:3,doc:j}),W=!0):this.su(D,j)||(a.track({type:2,doc:j}),W=!0,(_&&this.eu(j,_)>0||v&&this.eu(j,v)<0)&&(p=!0)):!D&&j?(a.track({type:0,doc:j}),W=!0):D&&!j&&(a.track({type:1,doc:D}),W=!0,(_||v)&&(p=!0)),W&&(j?(d=d.add(j),h=$?h.add(E):h.delete(E)):(d=d.delete(E),h=h.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),h=h.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,b)=>(function(j,G){const $=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:W})}};return $(j)-$(G)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Pr(this.query,e.tu,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new gT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new mT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=xt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Pr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tm="SyncEngine";class y2{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class _2{constructor(e){this.key=e,this.hu=!1}}class v2{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new xa((p=>x0(p)),Lc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ct.comparator),this.Au=new Map,this.Ru=new um,this.Vu={},this.mu=new Map,this.fu=kr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function T2(r,e,i=!0){const a=ET(r);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await pT(a,e,i,!0),o}async function E2(r,e){const i=ET(r);await pT(i,e,!0,!1)}async function pT(r,e,i,a){const o=await jw(r.localStore,bi(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await A2(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&aT(r.remoteStore,o),p}async function A2(r,e,i,a,o){r.pu=(b,D,j)=>(async function($,W,ot,mt){let gt=W.view.ru(ot);gt.Cs&&(gt=await rv($.localStore,W.query,!1).then((({documents:w})=>W.view.ru(w,gt))));const kt=mt&&mt.targetChanges.get(W.targetId),Kt=mt&&mt.targetMismatches.get(W.targetId)!=null,Ct=W.view.applyChanges(gt,$.isPrimaryClient,kt,Kt);return pv($,W.targetId,Ct.au),Ct.snapshot})(r,b,D,j);const h=await rv(r.localStore,e,!0),d=new p2(e,h.Qs),p=d.ru(h.documents),_=bo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),v=d.applyChanges(p,r.isPrimaryClient,_);pv(r,i,v.au);const E=new y2(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),v.snapshot}async function b2(r,e,i){const a=vt(r),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!Lc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Bd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&dm(a.remoteStore,o.targetId),kd(a,o.targetId)})).catch(qr)):(kd(a,o.targetId),await Bd(a.localStore,o.targetId,!0))}async function S2(r,e){const i=vt(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),dm(i.remoteStore,a.targetId))}async function w2(r,e,i){const a=V2(r);try{const o=await(function(d,p){const _=vt(d),v=ie.now(),E=p.reduce(((j,G)=>j.add(G.key)),xt());let b,D;return _.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let G=Ji(),$=xt();return _.Ns.getEntries(j,E).next((W=>{G=W,G.forEach(((ot,mt)=>{mt.isValidDocument()||($=$.add(ot))}))})).next((()=>_.localDocuments.getOverlayedDocuments(j,G))).next((W=>{b=W;const ot=[];for(const mt of p){const gt=P1(mt,b.get(mt.key).overlayedDocument);gt!=null&&ot.push(new Ys(mt.key,gt,b0(gt.value.mapValue),fn.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,ot,p)})).next((W=>{D=W;const ot=W.applyToLocalDocumentSet(b,$);return _.documentOverlayCache.saveOverlays(j,W.batchId,ot)}))})).then((()=>({batchId:D.batchId,changes:O0(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new oe(Dt)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(a,o.batchId,i),await wo(a,o.changes),await Fc(a.remoteStore)}catch(o){const h=_m(o,"Failed to persist write");i.reject(h)}}async function yT(r,e){const i=vt(r);try{const a=await zw(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await wo(i,a,e)}catch(a){await qr(a)}}function gv(r,e,i){const a=vt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=vt(d);_.onlineState=p;let v=!1;_.queries.forEach(((E,b)=>{for(const D of b.Sa)D.va(p)&&(v=!0)})),v&&vm(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function C2(r,e,i){const a=vt(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new oe(ct.comparator);d=d.insert(h,Ze.newNoDocument(h,yt.min()));const p=xt().add(h),_=new qc(yt.min(),new Map,new oe(Dt),d,p);await yT(a,_),a.du=a.du.remove(h),a.Au.delete(e),Em(a)}else await Bd(a.localStore,e,!1).then((()=>kd(a,e,i))).catch(qr)}async function R2(r,e){const i=vt(r),a=e.batch.batchId;try{const o=await Lw(i.localStore,e);vT(i,a,null),_T(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await wo(i,o)}catch(o){await qr(o)}}async function N2(r,e,i){const a=vt(r);try{const o=await(function(d,p){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return _.mutationQueue.lookupMutationBatch(v,p).next((b=>(Ht(b!==null,37113),E=b.keys(),_.mutationQueue.removeMutationBatch(v,b)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,E,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>_.localDocuments.getDocuments(v,E)))}))})(a.localStore,e);vT(a,e,i),_T(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await wo(a,o)}catch(o){await qr(o)}}function _T(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function vT(r,e,i){const a=vt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function kd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||TT(r,a)}))}function TT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(dm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Em(r))}function pv(r,e,i){for(const a of i)a instanceof mT?(r.Ru.addReference(a.key,e),I2(r,a)):a instanceof gT?(st(Tm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||TT(r,a.key)):dt(19791,{wu:a})}function I2(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(st(Tm,"New document in limbo: "+i),r.Eu.add(a),Em(r))}function Em(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ct(te.fromString(e)),a=r.fu.next();r.Au.set(a,new _2(i)),r.du=r.du.insert(i,a),aT(r.remoteStore,new Vs(bi(sm(i.path)),a,"TargetPurposeLimboResolution",Oc.ce))}}async function wo(r,e,i){const a=vt(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const E=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(v){o.push(v);const E=hm.As(_.targetId,v);h.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,v){const E=vt(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>J.forEach(v,(D=>J.forEach(D.Es,(j=>E.persistence.referenceDelegate.addReference(b,D.targetId,j))).next((()=>J.forEach(D.ds,(j=>E.persistence.referenceDelegate.removeReference(b,D.targetId,j)))))))))}catch(b){if(!Hr(b))throw b;st(fm,"Failed to update sequence numbers: "+b)}for(const b of v){const D=b.targetId;if(!b.fromCache){const j=E.Ms.get(D),G=j.snapshotVersion,$=j.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(D,$)}}})(a.localStore,h))}async function D2(r,e){const i=vt(r);if(!i.currentUser.isEqual(e)){st(Tm,"User change. New user:",e.toKey());const a=await eT(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((_=>{_.reject(new it(Z.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await wo(i,a.Ls)}}function x2(r,e){const i=vt(r),a=i.Au.get(e);if(a&&a.hu)return xt().add(a.key);{let o=xt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function ET(r){const e=vt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C2.bind(null,e),e.Pu.H_=m2.bind(null,e.eventManager),e.Pu.yu=g2.bind(null,e.eventManager),e}function V2(r){const e=vt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N2.bind(null,e),e}class Nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Bw(this.persistence,new Mw,e.initialUser,this.serializer)}Cu(e){return new tT(cm.mi,this.serializer)}Du(e){return new Hw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nc.provider={build:()=>new Nc};class M2 extends Nc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof Cc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new _w(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new tT((a=>Cc.mi(a,i)),this.serializer)}}class Pd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>gv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=D2.bind(null,this.syncEngine),await h2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new d2})()}createDatastore(e){const i=Hc(e.databaseInfo.databaseId),a=(function(h){return new Kw(h)})(e.databaseInfo);return(function(h,d,p,_){return new $w(h,d,p,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,p){return new t2(a,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>gv(this.syncEngine,i,0)),(function(){return uv.v()?new uv:new Gw})())}createSyncEngine(e,i){return(function(o,h,d,p,_,v,E){const b=new v2(o,h,d,p,_,v);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=vt(i);st(Da,"RemoteStore shutting down."),a.Ea.add(5),await So(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pd.provider={build:()=>new Pd};class AT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Hs="FirestoreClient";class O2{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=$d.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{st(Hs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(Hs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=_m(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function dd(r,e){r.asyncQueue.verifyOperationInProgress(),st(Hs,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await eT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function yv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await U2(r);st(Hs,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>hv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>hv(e.remoteStore,o))),r._onlineComponents=e}async function U2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Hs,"Using user provided OfflineComponentProvider");try{await dd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await dd(r,new Nc)}}else st(Hs,"Using default OfflineComponentProvider"),await dd(r,new M2(void 0));return r._offlineComponents}async function bT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Hs,"Using user provided OnlineComponentProvider"),await yv(r,r._uninitializedComponentsProvider._online)):(st(Hs,"Using default OnlineComponentProvider"),await yv(r,new Pd))),r._onlineComponents}function B2(r){return bT(r).then((e=>e.syncEngine))}async function jd(r){const e=await bT(r),i=e.eventManager;return i.onListen=T2.bind(null,e.syncEngine),i.onUnlisten=b2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=E2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=S2.bind(null,e.syncEngine),i}function L2(r,e,i={}){const a=new Bs;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,_,v){const E=new AT({next:D=>{E.Nu(),d.enqueueAndForget((()=>fT(h,b))),D.fromCache&&_.source==="server"?v.reject(new it(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(D)},error:D=>v.reject(D)}),b=new dT(p,E,{includeMetadataChanges:!0,qa:!0});return hT(h,b)})(await jd(r),r.asyncQueue,e,i,a))),a.promise}function ST(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const _v=new Map;const z2="firestore.googleapis.com",vv=!0;class Tv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z2,this.ssl=vv}else this.host=e.host,this.ssl=e.ssl??vv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pw)throw new it(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new it(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new it(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new it(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Am{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new GS;switch(a.type){case"firstParty":return new YS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new it(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=_v.get(i);a&&(st("ComponentProvider","Removing Datastore"),_v.delete(i),a.terminate())})(this),Promise.resolve()}}class Ma{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class Ne{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ne(this.firestore,e,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(To(i,Ne._jsonSchema))return new Ne(e,a||null,new ct(te.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Re("string",Ne._jsonSchemaVersion),referencePath:Re("string")};class Ls extends Ma{constructor(e,i,a){super(e,i,sm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ne(this.firestore,null,new ct(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function Yi(r,e,...i){if(r=Qe(r),f0("collection","path",e),r instanceof Am){const a=te.fromString(e,...i);return M_(a),new Ls(r,null,a)}{if(!(r instanceof Ne||r instanceof Ls))throw new it(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(e,...i));return M_(a),new Ls(r.firestore,null,a)}}function Ti(r,e,...i){if(r=Qe(r),arguments.length===1&&(e=$d.newId()),f0("doc","path",e),r instanceof Am){const a=te.fromString(e,...i);return V_(a),new Ne(r,null,new ct(a))}{if(!(r instanceof Ne||r instanceof Ls))throw new it(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(e,...i));return V_(a),new Ne(r.firestore,r instanceof Ls?r.converter:null,new ct(a))}}const Ev="AsyncQueue";class Av{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iT(this,"async_queue_retry"),this._c=()=>{const a=fd();a&&st(Ev,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hr(e))throw e;st(Ev,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",bv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ym.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&dt(47125,{Pc:bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function bv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function Sv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class Gs extends Am{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Av,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Av(e),this._firestoreClient=void 0,await e}}}function Qc(r){if(r._terminated)throw new it(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||k2(r),r._firestoreClient}function k2(r){const e=r._freezeSettings(),i=(function(o,h,d,p){return new c1(o,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ST(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new O2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Ye.fromBase64String(e))}catch(i){throw new it(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Bn(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(To(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Re("string",Bn._jsonSchemaVersion),bytes:Re("string")};class Co{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yc{constructor(e){this._methodName=e}}class wi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(e){if(To(e,wi._jsonSchema))return new wi(e.latitude,e.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Re("string",wi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Ci{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(To(e,Ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ci(e.vectorValues);throw new it(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Re("string",Ci._jsonSchemaVersion),vectorValues:Re("object")};const P2=/^__.*__$/;class j2{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ao(e,this.data,i,this.fieldTransforms)}}class wT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ys(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function CT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:r})}}class bm{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ic(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CT(this.Ac)&&P2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class q2{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Hc(e)}Cc(e,i,a,o=!1){return new bm({Ac:e,methodName:i,Dc:a,path:Fe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kc(r){const e=r._freezeSettings(),i=Hc(r._databaseId);return new q2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function RT(r,e,i,a,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);wm("Data must be an object, but it was:",d,a);const p=DT(a,d);let _,v;if(h.merge)_=new An(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const E=[];for(const b of h.mergeFields){const D=qd(e,b,i);if(!d.contains(D))throw new it(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);VT(E,D)||E.push(D)}_=new An(E),v=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,v=d.fieldTransforms;return new j2(new hn(p),_,v)}class Xc extends Yc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xc}}class Sm extends Yc{_toFieldTransform(e){return new B1(e.path,new mo)}isEqual(e){return e instanceof Sm}}function NT(r,e,i,a){const o=r.Cc(1,e,i);wm("Data must be an object, but it was:",o,a);const h=[],d=hn.empty();Qs(a,((_,v)=>{const E=Cm(e,_,i);v=Qe(v);const b=o.yc(E);if(v instanceof Xc)h.push(E);else{const D=Ro(v,b);D!=null&&(h.push(E),d.set(E,D))}}));const p=new An(h);return new wT(d,p,o.fieldTransforms)}function IT(r,e,i,a,o,h){const d=r.Cc(1,e,i),p=[qd(e,a,i)],_=[o];if(h.length%2!=0)throw new it(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)p.push(qd(e,h[D])),_.push(h[D+1]);const v=[],E=hn.empty();for(let D=p.length-1;D>=0;--D)if(!VT(v,p[D])){const j=p[D];let G=_[D];G=Qe(G);const $=d.yc(j);if(G instanceof Xc)v.push(j);else{const W=Ro(G,$);W!=null&&(v.push(j),E.set(j,W))}}const b=new An(v);return new wT(E,b,d.fieldTransforms)}function H2(r,e,i,a=!1){return Ro(i,r.Cc(a?4:3,e))}function Ro(r,e){if(xT(r=Qe(r)))return wm("Unsupported field value:",e,r),DT(r,e);if(r instanceof Yc)return(function(a,o){if(!CT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const p of a){let _=Ro(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}})(r,e)}return(function(a,o){if((a=Qe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return M1(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ie.fromDate(a);return{timestampValue:wc(o.serializer,h)}}if(a instanceof ie){const h=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:wc(o.serializer,h)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bn)return{bytesValue:Q0(o.serializer,a._byteString)};if(a instanceof Ne){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:om(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ci)return(function(d,p){return{mapValue:{fields:{[E0]:{stringValue:A0},[Ec]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return am(p.serializer,v)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Mc(a)}`)})(r,e)}function DT(r,e){const i={};return g0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(r,((a,o)=>{const h=Ro(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function xT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof wi||r instanceof Bn||r instanceof Ne||r instanceof Yc||r instanceof Ci)}function wm(r,e,i){if(!xT(i)||!d0(i)){const a=Mc(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function qd(r,e,i){if((e=Qe(e))instanceof Co)return e._internalPath;if(typeof e=="string")return Cm(r,e);throw Ic("Field path arguments must be of type string or ",r,!1,void 0,i)}const G2=new RegExp("[~\\*/\\[\\]]");function Cm(r,e,i){if(e.search(G2)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Co(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ic(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new it(Z.INVALID_ARGUMENT,p+r+_)}function VT(r,e){return r.some((i=>i.isEqual(e)))}class MT{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(OT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class F2 extends MT{data(){return super.data()}}function OT(r,e){return typeof e=="string"?Cm(r,e):e instanceof Co?e._internalPath:e._delegate._internalPath}function UT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rm{}class Q2 extends Rm{}function md(r,e,...i){let a=[];e instanceof Rm&&a.push(e),a=a.concat(i),(function(h){const d=h.filter((_=>_ instanceof Im)).length,p=h.filter((_=>_ instanceof Nm)).length;if(d>1||d>0&&p>0)throw new it(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Nm extends Q2{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Nm(e,i,a)}_apply(e){const i=this._parse(e);return BT(e._query,i),new Ma(e.firestore,e.converter,Dd(e._query,i))}_parse(e){const i=Kc(e.firestore);return(function(h,d,p,_,v,E,b){let D;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new it(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Cv(b,E);const G=[];for(const $ of b)G.push(wv(_,h,$));D={arrayValue:{values:G}}}else D=wv(_,h,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Cv(b,E),D=H2(p,d,b,E==="in"||E==="not-in");return Ce.create(v,E,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Im extends Rm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Im(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const p=h.getFlattenedFilters();for(const _ of p)BT(d,_),d=Dd(d,_)})(e._query,i),new Ma(e.firestore,e.converter,Dd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function wv(r,e,i){if(typeof(i=Qe(i))=="string"){if(i==="")throw new it(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D0(e)&&i.indexOf("/")!==-1)throw new it(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(te.fromString(i));if(!ct.isDocumentKey(a))throw new it(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return j_(r,new ct(a))}if(i instanceof Ne)return j_(r,i._key);throw new it(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mc(i)}.`)}function Cv(r,e){if(!Array.isArray(r)||r.length===0)throw new it(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BT(r,e){const i=(function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new it(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Y2{convertValue(e,i="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Qs(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[Ec].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Ci(i)}convertGeoPoint(e){return new wi(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Bc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(co(e));default:return null}}convertTimestamp(e){const i=ks(e);return new ie(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=te.fromString(e);Ht($0(a),9688,{name:e});const o=new ho(a.get(1),a.get(3)),h=new ct(a.popFirst(5));return o.isEqual(i)||Zi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function LT(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}class to{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends MT{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(OT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:Re("string",Ra._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class gc extends Ra{data(e={}){return super.data(e)}}class Na{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new to(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new gc(this._firestore,this._userDataWriter,a.key,a,new to(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new gc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new to(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const _=new gc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new to(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:K2(p.type),doc:_,oldIndex:v,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$d.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function K2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:Re("string",Na._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class Dm extends Y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}function X2(r){r=Ai(r,Ma);const e=Ai(r.firestore,Gs),i=Qc(e),a=new Dm(e);return UT(r._query),L2(i,r._query).then((o=>new Na(e,a,r,o)))}function Rv(r,e,i,...a){r=Ai(r,Ne);const o=Ai(r.firestore,Gs),h=Kc(o);let d;return d=typeof(e=Qe(e))=="string"||e instanceof Co?IT(h,"updateDoc",r._key,e,i,a):NT(h,"updateDoc",r._key,e),Zc(o,[d.toMutation(r._key,fn.exists(!0))])}function Nv(r){return Zc(Ai(r.firestore,Gs),[new jc(r._key,fn.none())])}function Iv(r,e){const i=Ai(r.firestore,Gs),a=Ti(r),o=LT(r.converter,e);return Zc(i,[RT(Kc(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,fn.exists(!1))]).then((()=>a))}function Dv(r,...e){r=Qe(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Sv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Sv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let h,d,p;if(r instanceof Ne)d=Ai(r.firestore,Gs),p=sm(r._key.path),h={next:_=>{e[a]&&e[a](Z2(d,r,_))},error:e[a+1],complete:e[a+2]};else{const _=Ai(r,Ma);d=Ai(_.firestore,Gs),p=_._query;const v=new Dm(d);h={next:E=>{e[a]&&e[a](new Na(d,v,_,E))},error:e[a+1],complete:e[a+2]},UT(r._query)}return(function(v,E,b,D){const j=new AT(D),G=new dT(E,j,b);return v.asyncQueue.enqueueAndForget((async()=>hT(await jd(v),G))),()=>{j.Nu(),v.asyncQueue.enqueueAndForget((async()=>fT(await jd(v),G)))}})(Qc(d),p,o,h)}function Zc(r,e){return(function(a,o){const h=new Bs;return a.asyncQueue.enqueueAndForget((async()=>w2(await B2(a),o,h))),h.promise})(Qc(r),e)}function Z2(r,e,i){const a=i.docs.get(e._key),o=new Dm(r);return new Ra(r,o,e._key,a,new to(i.hasPendingWrites,i.fromCache),e.converter)}class J2{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Kc(e)}set(e,i,a){this._verifyNotCommitted();const o=gd(e,this._firestore),h=LT(o.converter,i,a),d=RT(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,a);return this._mutations.push(d.toMutation(o._key,fn.none())),this}update(e,i,a,...o){this._verifyNotCommitted();const h=gd(e,this._firestore);let d;return d=typeof(i=Qe(i))=="string"||i instanceof Co?IT(this._dataReader,"WriteBatch.update",h._key,i,a,o):NT(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=gd(e,this._firestore);return this._mutations=this._mutations.concat(new jc(i._key,fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gd(r,e){if((r=Qe(r)).firestore!==e)throw new it(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Sr(){return new Sm("serverTimestamp")}function xv(r){return Qc(r=Ai(r,Gs)),new J2(r,(e=>Zc(r,e)))}(function(e,i=!0){(function(o){jr=o})(xc),Or(new Mr("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new Gs(new FS(a.getProvider("auth-internal")),new KS(d,a.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new it(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(v.options.projectId,E)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Os(N_,I_,e),Os(N_,I_,"esm2020")})();const $2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W2=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Vv=r=>{const e=W2(r);return e.charAt(0).toUpperCase()+e.slice(1)},zT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),tC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var eC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nC=Bt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:h,iconNode:d,...p},_)=>Bt.createElement("svg",{ref:_,...eC,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:zT("lucide",o),...!h&&!tC(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,E])=>Bt.createElement(v,E)),...Array.isArray(h)?h:[h]]));const tn=(r,e)=>{const i=Bt.forwardRef(({className:a,...o},h)=>Bt.createElement(nC,{ref:h,iconNode:e,className:zT(`lucide-${$2(Vv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=Vv(r),i};const iC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kT=tn("arrow-right",iC);const sC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],aC=tn("book-open",sC);const rC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lC=tn("calendar",rC);const oC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uC=tn("circle-alert",oC);const cC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pd=tn("circle-check",cC);const hC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fC=tn("clock",hC);const dC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mC=tn("pen",dC);const gC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hd=tn("plus",gC);const pC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Mv=tn("refresh-cw",pC);const yC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_C=tn("save",yC);const vC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],TC=tn("search",vC);const EC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PT=tn("trash-2",EC);const AC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bC=tn("triangle-alert",AC);const SC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wC=tn("users",SC);const CC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xm=tn("x",CC),Dc=["Monday","Tuesday","Wednesday","Thursday","Friday"],Ov=[1,2,3,4,5,6,7],Uv=[{name:"5",divisions:["A","B"]},{name:"6",divisions:["A","B"]},{name:"7",divisions:["A","B"]},{name:"8",divisions:["A","B","C"]},{name:"9",divisions:["A","B","C"]},{name:"10",divisions:["A","B","C"]}],Bv=[{name:"RIJI",timetable:{Monday:["10A","8A, 8C","10C","8A, 8B","10B","9A, 9C","9A, 9B"],Tuesday:["10A","8A, 8C","9C","8A, 8B","8C","10B","10A, 10C"],Wednesday:["9A, 9C","","10A, 10C","10B","","","9A, 9B"],Thursday:["9A, 9C","8A, 8C","10B","","8B","9B","10A, 10C"],Friday:["","8A, 8C","9C","","10B","10A, 10C","9A, 9C"]}},{name:"KPS",timetable:{Monday:["8B","","","8B","9B","","10B"],Tuesday:["8B","9A","9A","","9B","9A, 9C","10A, 10C"],Wednesday:["9A, 9C","","10A, 10C","10B","","",""],Thursday:["9A, 9C","9A","10B","","8B","9B","10A, 10C"],Friday:["","","9B","","10B","10A, 10C","9A, 9C"]}},{name:"ANV",timetable:{Monday:["","8A, 8C","7A, 7B","","5A, 5B","","6A, 6B"],Tuesday:["","8A, 8C","6A, 6B","","5A, 5B","",""],Wednesday:["","5A, 5B","","","6A, 6B","7A, 7B",""],Thursday:["","","8A, 8C","7A, 7B","6A, 6B","",""],Friday:["","8A, 8C","7A, 7B","5A, 5B","","",""]}},{name:"KCR",timetable:{Monday:["","8A, 8C","7A, 7B","5A, 5B","","9A, 9C","6A, 6B"],Tuesday:["9A, 9C","8A, 8C","6A, 6B","","5A, 5B","","10A, 10C"],Wednesday:["9A, 9C","5A, 5B","10A, 10C","","6A, 6B","7A, 7B",""],Thursday:["9A, 9C","","8A, 8C","7A, 7B","6A, 6B","","10A, 10C"],Friday:["","8A, 8C","7A, 7B","5A, 5B","","10A, 10C","9A, 9C"]}},{name:"RV",timetable:{Monday:["8A","8B","10A","9C","10B","",""],Tuesday:["8A","","10B","9C","10A","",""],Wednesday:["8A","9C","10A","","8B","10B",""],Thursday:["8A","","10A","10B","9C","","8B"],Friday:["8A","10A","10B","","8B","9C","8B"]}},{name:"SL",timetable:{Monday:["10C","9A","8C","","8A","8A",""],Tuesday:["10C","9B","9B","9A","BC","",""],Wednesday:["10C","","9A","9B","8C","",""],Thursday:["10C","9B","9A","","BC","",""],Friday:["10C","","9A","","9B","8C",""]}},{name:"US",timetable:{Monday:["9A","10A","10A","10C","9B","",""],Tuesday:["","9C","8C","10B","","10A","10B"],Wednesday:["","10A","9C","10B","10C","",""],Thursday:["","8C","9B","10A","","9C","9A"],Friday:["9B","10C","8C","10A","9A","",""]}},{name:"NMS",timetable:{Monday:["","6B","6A","7A","","5B",""],Tuesday:["","7B","5A, 5B","","7A","7B",""],Wednesday:["","6B","5A","8A","6A","8B",""],Thursday:["","8B","7B","8A","5B","6A",""],Friday:["","8B","8A","5A","","6B","7A"]}},{name:"SK",timetable:{Monday:["10B","","9A","8B","","10A",""],Tuesday:["10B","10A","8C","8B","","9A",""],Wednesday:["10B","","9A","8C","8B","","10A"],Thursday:["10B","","8B","8C","9A","","10A"],Friday:["10B","","10A","9A","8C","","10A"]}},{name:"GS",timetable:{Monday:["9C","9B","","","8A","10C","10C"],Tuesday:["","","9B","8A","","10C","9C"],Wednesday:["","9B","","9B","","10C","9C"],Thursday:["9B","8A","","9B","","9B","9C"],Friday:["9C","","8A","9B","","","10C"]}},{name:"PKV",timetable:{Monday:["10B","9C","9B","","9A","8C",""],Tuesday:["10C","10A","9A","","10B","",""],Wednesday:["10C","8C","","9C","9B","",""],Thursday:["10A","","10C","10B","10C","",""],Friday:["","","10A","10C","10C","",""]}},{name:"RM",timetable:{Monday:["9B","","8A","8A","8C","","9C"],Tuesday:["9B","","10C","8B","8A","",""],Wednesday:["10A","8B","8A","","9A","",""],Thursday:["8B","10C","","9C","10A","","10B"],Friday:["8B","9A","","8C","","10B",""]}},{name:"AMG",timetable:{Monday:["9C","10C","","10B","8B","","10A"],Tuesday:["9C","","8A","10B","9B","8C",""],Wednesday:["","8C","8B","10C","10A","",""],Thursday:["10A","9C","9A","10C","8A","9B",""],Friday:["","9C","9C","9A","","10B",""]}},{name:"LCV",timetable:{Monday:["8C","","10B","9C","","10A",""],Tuesday:["8C","10B","","10A","","9C","8A"],Wednesday:["8C","8A","","","10A","10B","9C"],Thursday:["8C","10B","9C","","","10A",""],Friday:["10A","10B","","9C","","8A","8A"]}},{name:"SV",timetable:{Monday:["9B","10C","9A","8B","","",""],Tuesday:["9A","8B","10C","10C","9B","",""],Wednesday:["9B","10B","10B","9B","9A","10C",""],Thursday:["10C","9A","8B","9A","","",""],Friday:["10B","8B","9B","","","",""]}},{name:"SB",timetable:{Monday:["9A","5A","8C","7B","","",""],Tuesday:["8B","7A","6B","8A","","",""],Wednesday:["7B","9C","5B","BA","","",""],Thursday:["6A","5B","5A","7A","","",""],Friday:["9B","8B","6B","BC","6A","",""]}},{name:"SH",timetable:{Monday:["5A","8C","6B","9C","8B","",""],Tuesday:["6A","8B","8B","9A","7A","BC",""],Wednesday:["8C","","8C","5B","8A","",""],Thursday:["7B","8B","","9B","BA","",""],Friday:["6A","","","","","",""]}},{name:"SN",timetable:{Monday:["","","","","","",""],Tuesday:["8B","7A","6B","5B","8A","6A",""],Wednesday:["","","","","","","7B"],Thursday:["5A","6B","8C","","","",""],Friday:["","5B","","6A","","7A","7B"]}},{name:"SM",timetable:{Monday:["7A","7B","7A","","","5A, 5B",""],Tuesday:["7A","6A","7A","","5A, 5B","",""],Wednesday:["6B","5A, 5B","6B","6A","7B","",""],Thursday:["7A","6B","7A","6A","7B","6A",""],Friday:["7B","6B","5A, 5B","","","",""]}},{name:"NS",timetable:{Monday:["7B","5B","5A","7B","7A","6A, 6B",""],Tuesday:["7B","","6A, 6B","7A","5B","","7B"],Wednesday:["5B","7A","","","","","SA"],Thursday:["7B","5B","","","6A, 6B","7A",""],Friday:["7B","5B","","7A","5A","",""]}},{name:"BC",timetable:{Monday:["6B","","7A, 7B","6A","5B","SA",""],Tuesday:["6B","5A","","6B","5B","","6A"],Wednesday:["6B","","6A","5A","5B","7A, 7B",""],Thursday:["6B","","5A","7A, 7B","5B","",""],Friday:["6B","","7A, 7B","6A","5B","","SA"]}},{name:"JB",timetable:{Monday:["6A","","6B","5B","7B","7A",""],Tuesday:["6A","6B","","7A","7B","5A",""],Wednesday:["6A","","7B","6B","5B","7A",""],Thursday:["6A","","7A","6B","7B","5A",""],Friday:["6A","7A","","6B","7B","",""]}},{name:"PRV",timetable:{Monday:["5A","6A","SB","6B","6A","",""],Tuesday:["5A","5B","7B","6A","6B","5B",""],Wednesday:["5A","6A","","7B","5A","6B",""],Thursday:["5A","7A","","5B","","6B",""],Friday:["5A","6B","6A","7A","5B","",""]}},{name:"ASA",timetable:{Monday:["5B","7A","","7B","6A","5A",""],Tuesday:["5B","7A","5A","","7B","6A","7A"],Wednesday:["5B","","7A","","","5A","7B"],Thursday:["5B","5A","6B","","7A","","7B"],Friday:["5B","","6B","","5A","7B","5B"]}}],RC=({classes:r,onAddClass:e,onDeleteClass:i,onUpdateClass:a})=>{const[o,h]=Bt.useState(""),[d,p]=Bt.useState(""),[_,v]=Bt.useState(null),E=G=>{G.preventDefault(),o.trim()&&(e(o),h(""))},b=async(G,$)=>{if(!d.trim())return;const W=[...$||[],d.trim().toUpperCase()].sort();await a(G,W),p("")},D=async(G,$,W)=>{const ot=$.filter(mt=>mt!==W);await a(G,ot)},j=[...r].sort((G,$)=>{const W=parseInt(G.name)||0,ot=parseInt($.name)||0;return W-ot||G.name.localeCompare($.name)});return O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-full",children:[O.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col h-full overflow-hidden",children:[O.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl shrink-0",children:[O.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[O.jsx(aC,{className:"w-5 h-5 text-blue-600"}),"Class Standards"]}),O.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Add grades (e.g., 8, 9, 10)"})]}),O.jsx("div",{className:"p-4 border-b border-slate-100 shrink-0",children:O.jsxs("form",{onSubmit:E,className:"flex gap-2",children:[O.jsx("input",{type:"text",placeholder:"Add Class (e.g. 8)...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:o,onChange:G=>h(G.target.value)}),O.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:O.jsx(Hd,{className:"w-4 h-4"})})]})}),O.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1 min-h-0",children:j.map(G=>O.jsxs("div",{onClick:()=>v(G.id),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all border ${_===G.id?"bg-blue-50 border-blue-200 ring-1 ring-blue-300":"bg-white border-transparent hover:bg-slate-50"}`,children:[O.jsxs("span",{className:"font-bold text-slate-700",children:["Class ",G.name]}),O.jsx("button",{onClick:$=>{$.stopPropagation(),i(G.id)},className:"text-slate-400 hover:text-red-500 p-1",children:O.jsx(PT,{className:"w-4 h-4"})})]},G.id))})]}),O.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col h-full overflow-hidden",children:[O.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl shrink-0",children:[O.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Divisions"}),O.jsx("p",{className:"text-xs text-slate-500 mt-1",children:_?`Managing divisions for Class ${r.find(G=>G.id===_)?.name}`:"Select a class on the left to manage divisions"})]}),_?O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"p-4 border-b border-slate-100 shrink-0",children:O.jsxs("div",{className:"flex gap-2",children:[O.jsx("input",{type:"text",placeholder:"Add Div (e.g. A)...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none uppercase",value:d,onChange:G=>p(G.target.value),maxLength:2}),O.jsx("button",{onClick:()=>b(_,r.find(G=>G.id===_)?.divisions),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:O.jsx(Hd,{className:"w-4 h-4"})})]})}),O.jsx("div",{className:"p-4 flex-1 overflow-y-auto min-h-0",children:O.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.find(G=>G.id===_)?.divisions?.map((G,$)=>O.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-100 text-slate-700 font-bold border border-slate-200",children:[G,O.jsx("button",{onClick:()=>D(_,r.find(W=>W.id===_)?.divisions,G),className:"w-4 h-4 rounded-full bg-slate-300 text-white hover:bg-red-500 flex items-center justify-center",children:O.jsx(xm,{className:"w-3 h-3"})})]},$)),!r.find(G=>G.id===_)?.divisions?.length&&O.jsx("p",{className:"text-sm text-slate-400 italic",children:"No divisions added yet."})]})})]}):O.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:O.jsx(kT,{className:"w-8 h-8 opacity-20"})})]})]})},NC=({teachers:r,onSelectTeacher:e,onDeleteTeacher:i,onAddTeacher:a})=>{const[o,h]=Bt.useState(""),[d,p]=Bt.useState(""),_=E=>{E.preventDefault(),o.trim()&&(a(o),h(""))},v=r.filter(E=>E.name.toLowerCase().includes(d.toLowerCase())).sort((E,b)=>E.name.localeCompare(b.name));return O.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 h-full flex flex-col overflow-hidden",children:[O.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl shrink-0",children:O.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[O.jsx(wC,{className:"w-5 h-5 text-blue-600"}),"Staff Directory"]})}),O.jsxs("div",{className:"p-4 border-b border-slate-100 shrink-0",children:[O.jsxs("form",{onSubmit:_,className:"flex gap-2 mb-3",children:[O.jsx("input",{type:"text",placeholder:"Add Teacher...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:o,onChange:E=>h(E.target.value)}),O.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-1",children:O.jsx(Hd,{className:"w-4 h-4"})})]}),O.jsxs("div",{className:"relative",children:[O.jsx(TC,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),O.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-9 pr-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-blue-400",value:d,onChange:E=>p(E.target.value)})]})]}),O.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1 min-h-0",children:v.length===0?O.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No teachers found."}):v.map(E=>O.jsxs("div",{onClick:()=>e(E),className:"group flex items-center justify-between p-3 rounded-lg hover:bg-blue-50 cursor-pointer border border-transparent hover:border-blue-100 transition-all",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm font-bold",children:E.name.charAt(0).toUpperCase()}),O.jsx("span",{className:"font-medium text-slate-700 group-hover:text-blue-700",children:E.name})]}),O.jsx("button",{onClick:b=>{b.stopPropagation(),i(E.id)},className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-md transition-all z-10",title:"Delete Teacher",children:O.jsx(PT,{className:"w-4 h-4"})})]},E.id))})]})},IC=({value:r,definedClasses:e,onClose:i,onSave:a})=>{const[o,h]=Bt.useState(new Set),[d,p]=Bt.useState("");Bt.useEffect(()=>{const E=new Set;if(r){r.split(",").map(j=>j.trim().toUpperCase()).forEach(j=>{e.forEach(G=>{(G.divisions||[]).forEach($=>{const W=`${G.name}${$}`.toUpperCase();j.includes(W)&&E.add(W)})})});let D=r;e.forEach(j=>{(j.divisions||[]).forEach(G=>{const $=`${j.name}${G}`,W=new RegExp(`${$}[, ]*`,"gi");D=D.replace(W,"")})}),p(D.replace(/^[,\s]+|[,\s]+$/g,""))}h(E)},[r,e]);const _=E=>{const b=new Set(o);b.has(E)?b.delete(E):b.add(E),h(b)},v=()=>{let E=Array.from(o).sort().join(", ");d&&(E=E?`${E} ${d}`:d),a(E)};return O.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4",children:O.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md flex flex-col max-h-[90vh]",children:[O.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[O.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Select Classes & Subject"}),O.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-100 rounded-full",children:O.jsx(xm,{className:"w-5 h-5"})})]}),O.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[e.map(E=>O.jsxs("div",{children:[O.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 border-b border-slate-100 pb-1",children:["Standard ",E.name]}),O.jsx("div",{className:"flex flex-wrap gap-2",children:(E.divisions||[]).length>0?E.divisions.map(b=>{const D=`${E.name}${b}`.toUpperCase(),j=o.has(D);return O.jsx("button",{onClick:()=>_(D),className:`
                          px-4 py-2 rounded-lg text-sm font-bold border transition-all
                          ${j?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:border-blue-300 hover:bg-slate-50"}
                        `,children:D},b)}):O.jsx("span",{className:"text-xs text-slate-400 italic",children:"No divisions"})})]},E.id)),O.jsxs("div",{children:[O.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"Subject / Note"}),O.jsx("input",{type:"text",placeholder:"e.g. Math, Eng, Library...",className:"w-full p-2 border border-slate-300 rounded-lg text-sm",value:d,onChange:E=>p(E.target.value)})]})]}),O.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50 rounded-b-xl flex justify-end gap-2",children:[O.jsx("button",{onClick:i,className:"px-4 py-2 text-slate-600 font-medium text-sm hover:bg-slate-200 rounded-lg",children:"Cancel"}),O.jsx("button",{onClick:v,className:"px-6 py-2 bg-blue-600 text-white font-medium text-sm rounded-lg hover:bg-blue-700 shadow-sm",children:"Done"})]})]})})},DC=({teacher:r,onUpdateTimetable:e,onClose:i,definedClasses:a})=>{const[o,h]=Bt.useState(r.timetable||{}),[d,p]=Bt.useState(!1),[_,v]=Bt.useState(null);Bt.useEffect(()=>{const D=r.timetable||{};Dc.forEach(j=>{D[j]||(D[j]=Array(7).fill(""))}),h(D)},[r]);const E=(D,j,G)=>{const $={...o};$[D]||($[D]=Array(7).fill("")),$[D][j]=G,h($),v(null)},b=async()=>{p(!0),await e(r.id,o),p(!1)};return O.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 h-full flex flex-col relative overflow-hidden",children:[O.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50 rounded-t-xl shrink-0",children:[O.jsxs("div",{children:[O.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Master Timetable"}),O.jsxs("p",{className:"text-sm text-slate-500",children:["Editing: ",O.jsx("span",{className:"font-medium text-blue-600",children:r.name})]})]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:i,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg text-sm font-medium",children:"Close"}),O.jsx("button",{onClick:b,disabled:d,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm",children:d?"Saving...":O.jsxs(O.Fragment,{children:[O.jsx(_C,{className:"w-4 h-4"})," Save Changes"]})})]})]}),O.jsx("div",{className:"flex-1 overflow-auto p-4 min-h-0",children:O.jsxs("div",{className:"min-w-[800px]",children:[O.jsxs("div",{className:"grid grid-cols-[100px_repeat(7,1fr)] gap-1 mb-2",children:[O.jsx("div",{className:"font-bold text-slate-400 text-xs uppercase tracking-wider text-center self-end pb-2",children:"Day"}),Ov.map(D=>O.jsxs("div",{className:"text-center font-bold text-slate-600 bg-slate-100 py-2 rounded-md text-sm",children:["Pd ",D]},D))]}),Dc.map(D=>O.jsxs("div",{className:"grid grid-cols-[100px_repeat(7,1fr)] gap-1 mb-2 items-stretch",children:[O.jsx("div",{className:"font-bold text-slate-700 text-sm flex items-center justify-center bg-slate-50 rounded-md border border-slate-100",children:D.substring(0,3)}),Ov.map((j,G)=>{const $=o[D]&&o[D][G]||"";return O.jsxs("div",{onClick:()=>v({day:D,idx:G,value:$}),className:`
                      relative w-full h-16 p-1 text-xs text-center border rounded-md cursor-pointer transition-all flex items-center justify-center group
                      ${$?"bg-blue-50 border-blue-200 text-blue-800 font-bold hover:bg-blue-100":"bg-white border-slate-200 text-slate-300 hover:border-blue-300 hover:bg-slate-50"}
                    `,children:[O.jsx("span",{className:"line-clamp-3 leading-tight px-1",children:$||"-"}),O.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 text-blue-400",children:O.jsx(mC,{className:"w-3 h-3"})})]},`${D}-${j}`)})]},D))]})}),_&&O.jsx(IC,{value:_.value,definedClasses:a,onClose:()=>v(null),onSave:D=>E(_.day,_.idx,D)})]})},xC=({teachers:r,definedClasses:e})=>{const[i,a]=Bt.useState("Monday"),[o,h]=Bt.useState([]),d=b=>{h(D=>D.includes(b)?D.filter(j=>j!==b):[...D,b])},p=Bt.useMemo(()=>{const b=new Set;return e.forEach(D=>{(D.divisions||[]).forEach(j=>{b.add(`${D.name}${j}`.toUpperCase())})}),b},[e]),_=b=>{if(!b)return[];const D=b.toUpperCase(),j=[];for(const G of p)D.includes(G)&&j.push(G);return j},v=(b,D)=>{if(!b.timetable||!D||D.length===0)return!1;for(const j of Dc){const G=b.timetable[j];if(G)for(const $ of G){if(!$)continue;if(_($).some(ot=>D.includes(ot)))return!0}}return!1},E=Bt.useMemo(()=>{if(o.length===0)return[];const b=[];return o.forEach(D=>{const j=r.find(G=>G.id===D);!j||!j.timetable||!j.timetable[i]||j.timetable[i].forEach((G,$)=>{if($<7&&G&&G.trim()!==""){const W=_(G),ot=r.filter(mt=>{if(mt.id===D||o.includes(mt.id))return!1;const kt=mt.timetable?.[i]?.[$];return(!kt||kt.trim()==="")&&W.length>0?v(mt,W):!1});b.push({period:$+1,classInfo:G,targetCodes:W,absentTeacherName:j.name,replacements:ot})}})}),b.sort((D,j)=>D.period-j.period)},[i,o,r,p]);return O.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 h-full flex flex-col overflow-hidden",children:[O.jsxs("div",{className:"p-5 bg-slate-800 text-white shrink-0",children:[O.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[O.jsx(fC,{className:"w-6 h-6 text-blue-400"}),"Substitution Generator"]}),O.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Strict Mode: Substitutes must teach the target class."})]}),O.jsxs("div",{className:"grid grid-cols-12 h-full overflow-hidden min-h-0",children:[O.jsxs("div",{className:"col-span-4 bg-slate-50 border-r border-slate-200 p-4 overflow-y-auto h-full min-h-0",children:[O.jsxs("div",{className:"mb-6",children:[O.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Select Day"}),O.jsx("select",{value:i,onChange:b=>a(b.target.value),className:"w-full p-2 border border-slate-300 rounded-lg bg-white font-medium text-slate-700",children:Dc.map(b=>O.jsx("option",{value:b,children:b},b))})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Mark Absent Staff"}),O.jsx("div",{className:"space-y-2",children:r.map(b=>O.jsxs("label",{className:`
                  flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all
                  ${o.includes(b.id)?"bg-red-50 border-red-200 shadow-sm":"bg-white border-slate-200 hover:border-blue-300"}
                `,children:[O.jsx("div",{className:`
                    w-5 h-5 rounded border flex items-center justify-center
                    ${o.includes(b.id)?"bg-red-500 border-red-500":"border-slate-300 bg-white"}
                  `,children:o.includes(b.id)&&O.jsx(pd,{className:"w-3.5 h-3.5 text-white"})}),O.jsx("input",{type:"checkbox",className:"hidden",checked:o.includes(b.id),onChange:()=>d(b.id)}),O.jsx("span",{className:`font-medium text-sm ${o.includes(b.id)?"text-red-700":"text-slate-700"}`,children:b.name})]},b.id))})]})]}),O.jsx("div",{className:"col-span-8 p-6 overflow-y-auto h-full min-h-0 bg-white",children:o.length===0?O.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[O.jsx(pd,{className:"w-16 h-16 mb-4 text-slate-200"}),O.jsx("p",{className:"text-lg font-medium",children:"No teachers marked absent."})]}):E.length===0?O.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-green-600",children:[O.jsx(pd,{className:"w-16 h-16 mb-4"}),O.jsx("p",{className:"text-lg font-bold",children:"No Substitutions Needed"}),O.jsx("p",{className:"text-slate-500 text-sm",children:"Absent teachers have no classes today."})]}):O.jsxs("div",{className:"space-y-6",children:[O.jsx("div",{className:"flex justify-between items-end border-b pb-4 mb-4",children:O.jsxs("div",{children:[O.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Substitution Plan"}),O.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["For ",O.jsx("span",{className:"font-medium text-blue-600",children:i})]})]})}),E.map((b,D)=>O.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden",children:[O.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-100 flex justify-between items-center",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsxs("span",{className:"bg-slate-800 text-white text-xs font-bold px-2 py-1 rounded",children:["PERIOD ",b.period]}),O.jsx("span",{className:"font-bold text-slate-700",children:b.classInfo})]}),O.jsxs("span",{className:"text-xs font-medium text-red-500 bg-red-50 px-2 py-1 rounded-full border border-red-100",children:["Absent: ",b.absentTeacherName]})]}),O.jsxs("div",{className:"p-4",children:[O.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Substitutes"}),b.replacements.length>0?O.jsx("div",{className:"flex flex-wrap gap-2",children:b.replacements.map(j=>O.jsxs("div",{className:"bg-green-50 text-green-700 border border-green-200 px-3 py-1.5 rounded-md text-sm font-bold flex items-center gap-2 shadow-sm",children:[O.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),j.name]},j.id))}):O.jsxs("div",{className:"bg-red-50 text-red-600 border border-red-100 px-3 py-2 rounded-md text-sm italic flex items-center gap-2",children:[O.jsx(uC,{className:"w-4 h-4"}),"No subject teacher available for this period."]})]})]},D))]})})]})]})};function VC(){const[r,e]=Bt.useState(null),[i,a]=Bt.useState([]),[o,h]=Bt.useState([]),[d,p]=Bt.useState(!0),[_,v]=Bt.useState(!1),[E,b]=Bt.useState(null),[D,j]=Bt.useState("manage"),[G,$]=Bt.useState(null);Bt.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await LS(auth,__initial_auth_token):await US(auth)}catch(R){console.error("Auth failed",R),b(R.message)}})();const S=zS(auth,R=>{e(R),R||p(!1)});return()=>S()},[]),Bt.useEffect(()=>{r&&!d&&(async()=>{if(r)try{const S=md(Yi(db,"artifacts",appId,"public","data","teachers"));if((await X2(S)).empty){console.log("Seeding database...");const M=xv(db);Uv.forEach(I=>{const U=Ti(Yi(db,"artifacts",appId,"public","data","classes"));M.set(U,{...I,createdAt:Sr()})}),Bv.forEach(I=>{const U=Ti(Yi(db,"artifacts",appId,"public","data","teachers"));M.set(U,{...I,createdAt:Sr()})}),await M.commit(),console.log("Database seeded successfully")}}catch(S){console.error("Auto-seed error",S)}})()},[r,d]),Bt.useEffect(()=>{if(!r)return;const w=md(Yi(db,"artifacts",appId,"public","data","teachers")),S=Dv(w,I=>{const U=I.docs.map(C=>({id:C.id,...C.data()}));a(U),(o.length>0||I.empty)&&p(!1)}),R=md(Yi(db,"artifacts",appId,"public","data","classes")),M=Dv(R,I=>{const U=I.docs.map(C=>({id:C.id,...C.data()}));h(U),p(!1)});return()=>{S(),M()}},[r]);const W=async w=>{r&&await Iv(Yi(db,"artifacts",appId,"public","data","teachers"),{name:w,timetable:{},createdAt:Sr()})},ot=async(w,S)=>{r&&await Rv(Ti(db,"artifacts",appId,"public","data","teachers",w),{timetable:S})},mt=async w=>{r&&confirm("Delete teacher?")&&(await Nv(Ti(db,"artifacts",appId,"public","data","teachers",w)),G?.id===w&&$(null))},gt=async w=>{if(r){if(o.some(S=>S.name===w))return alert("Class exists");await Iv(Yi(db,"artifacts",appId,"public","data","classes"),{name:w,divisions:[],createdAt:Sr()})}},kt=async(w,S)=>{r&&await Rv(Ti(db,"artifacts",appId,"public","data","classes",w),{divisions:S})},Kt=async w=>{r&&confirm("Delete this class standard?")&&await Nv(Ti(db,"artifacts",appId,"public","data","classes",w))},Ct=async()=>{if(!r){alert("Please wait for authentication to finish.");return}if(confirm("Force reload default teachers (RIJI, KPS, etc.)? This will overwrite their existing schedules with the default template. Continue?")){v(!0);try{const w=xv(db);let S=0;const R=o.map(I=>I.name);for(const I of Uv)if(!R.includes(I.name)){const U=Ti(Yi(db,"artifacts",appId,"public","data","classes"));w.set(U,{name:I.name,divisions:I.divisions,createdAt:Sr()}),S++}const M=new Map(i.map(I=>[I.name,I.id]));for(const I of Bv)if(M.has(I.name)){const U=M.get(I.name),C=Ti(db,"artifacts",appId,"public","data","teachers",U);w.update(C,{timetable:I.timetable}),S++}else{const U=Ti(Yi(db,"artifacts",appId,"public","data","teachers"));w.set(U,{name:I.name,timetable:I.timetable,createdAt:Sr()}),S++}S>0?(await w.commit(),alert(`Successfully reloaded defaults! Updated ${S} records.`)):alert("All default data is already present and up to date.")}catch(w){console.error(w),alert("Error loading data: "+w.message)}v(!1)}};return d?O.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50 text-slate-400",children:O.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):O.jsxs("div",{className:"min-h-screen bg-slate-100 text-slate-800 font-sans flex flex-col h-screen overflow-hidden",children:[O.jsx("header",{className:"bg-slate-800 text-white shadow-md z-10 shrink-0",children:O.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"bg-blue-600 p-1.5 rounded text-white",children:O.jsx(lC,{className:"w-5 h-5"})}),O.jsx("h1",{className:"font-bold text-xl tracking-tight",children:"SchoolScheduler"})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsxs("div",{className:"flex bg-slate-700 rounded-lg p-1 gap-1 items-center mr-2",children:[O.jsx("button",{onClick:()=>{j("classes"),$(null)},className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${D==="classes"?"bg-white text-slate-800 shadow":"text-slate-300 hover:bg-slate-600"}`,children:"Class Directory"}),O.jsx("button",{onClick:()=>{j("manage"),$(null)},className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${D==="manage"?"bg-white text-slate-800 shadow":"text-slate-300 hover:bg-slate-600"}`,children:"Timetables"}),O.jsx("button",{onClick:()=>j("substitute"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${D==="substitute"?"bg-white text-slate-800 shadow":"text-slate-300 hover:bg-slate-600"}`,children:"Generate Subs"})]}),O.jsx("button",{onClick:Ct,disabled:_,className:"p-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-md transition-colors",title:"Reload Default Teachers",children:_?O.jsx(Loader2,{className:"w-4 h-4 animate-spin"}):O.jsx(Mv,{className:"w-4 h-4"})})]})]})}),O.jsxs("main",{className:"flex-1 p-4 overflow-hidden min-h-0 relative",children:[E&&O.jsxs("div",{className:"absolute top-4 left-4 right-4 z-50 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg shadow-sm flex items-start gap-3 animate-in slide-in-from-top-2",children:[O.jsx(bC,{className:"w-5 h-5 shrink-0 mt-0.5"}),O.jsxs("div",{children:[O.jsx("h3",{className:"font-bold text-sm",children:"Authentication Error"}),O.jsx("p",{className:"text-sm mt-1 opacity-90",children:E}),O.jsx("p",{className:"text-xs mt-2 font-medium text-red-800",children:'Fix: Enable "Anonymous" sign-in in Firebase Console  Authentication  Sign-in method.'})]}),O.jsx("button",{onClick:()=>b(null),className:"ml-auto text-red-400 hover:text-red-600",children:O.jsx(xm,{className:"w-5 h-5"})})]}),O.jsxs("div",{className:"max-w-7xl mx-auto h-full flex flex-col",children:[D==="classes"&&O.jsx("div",{className:"h-full max-w-4xl mx-auto w-full",children:O.jsx(RC,{classes:o,onAddClass:gt,onUpdateClass:kt,onDeleteClass:Kt})}),D==="manage"&&O.jsxs("div",{className:"grid grid-cols-12 gap-4 h-full min-h-0",children:[O.jsx("div",{className:"col-span-3 h-full min-h-0",children:O.jsx(NC,{teachers:i,onSelectTeacher:$,onDeleteTeacher:mt,onAddTeacher:W})}),O.jsx("div",{className:"col-span-9 h-full min-h-0",children:G?O.jsx(DC,{teacher:G,definedClasses:o,onUpdateTimetable:ot,onClose:()=>$(null)}):O.jsxs("div",{className:"h-full bg-white rounded-xl border border-slate-200 border-dashed flex flex-col items-center justify-center text-slate-400 p-8 text-center",children:[O.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:O.jsx(kT,{className:"w-8 h-8 text-slate-300"})}),O.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-1",children:"Select a teacher to edit"}),O.jsx("p",{className:"max-w-sm text-sm opacity-75 mb-4",children:"Click a name from the list on the left."}),i.length===0&&O.jsxs("button",{onClick:Ct,className:"text-blue-600 underline text-sm flex items-center gap-1",children:[O.jsx(Mv,{className:"w-3 h-3"})," Load default teachers"]})]})})]}),D==="substitute"&&O.jsx(xC,{teachers:i,definedClasses:o})]})]})]})}CA.createRoot(document.getElementById("root")).render(O.jsx(Bt.StrictMode,{children:O.jsx(VC,{})}));
