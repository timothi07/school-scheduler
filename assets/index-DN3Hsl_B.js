(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var xd={exports:{}},pl={};var B_;function U1(){if(B_)return pl;B_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var P_;function k1(){return P_||(P_=1,xd.exports=U1()),xd.exports}var U=k1(),Od={exports:{}},vt={};var z_;function L1(){if(z_)return vt;z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function P(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,W={};function ct(O,$,nt){this.props=O,this.context=$,this.refs=W,this.updater=nt||H}ct.prototype.isReactComponent={},ct.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},ct.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function rt(){}rt.prototype=ct.prototype;function lt(O,$,nt){this.props=O,this.context=$,this.refs=W,this.updater=nt||H}var Ct=lt.prototype=new rt;Ct.constructor=lt,J(Ct,ct.prototype),Ct.isPureReactComponent=!0;var Bt=Array.isArray;function Et(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(O,$,nt){var at=nt.ref;return{$$typeof:s,type:O,key:$,ref:at!==void 0?at:null,props:nt}}function M(O,$){return N(O.type,$,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return $[nt]})}var C=/\/+/g;function se(O,$){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):$.toString(36)}function Ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Et,Et):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,$,nt,at,yt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(St){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case s:case t:Ut=!0;break;case E:return Ut=O._init,Q(Ut(O._payload),$,nt,at,yt)}}if(Ut)return yt=yt(O),Ut=at===""?"."+se(O,0):at,Bt(yt)?(nt="",Ut!=null&&(nt=Ut.replace(C,"$&/")+"/"),Q(yt,$,nt,"",function(or){return or})):yt!=null&&(x(yt)&&(yt=M(yt,nt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(C,"$&/")+"/")+Ut)),$.push(yt)),1;Ut=0;var De=at===""?".":at+":";if(Bt(O))for(var re=0;re<O.length;re++)at=O[re],St=De+se(at,re),Ut+=Q(at,$,nt,St,yt);else if(re=P(O),typeof re=="function")for(O=re.call(O),re=0;!(at=O.next()).done;)at=at.value,St=De+se(at,re++),Ut+=Q(at,$,nt,St,yt);else if(St==="object"){if(typeof O.then=="function")return Q(Ne(O),$,nt,at,yt);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function et(O,$,nt){if(O==null)return O;var at=[],yt=0;return Q(O,at,"","",function(St){return $.call(nt,St,yt++)}),at}function dt(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:et,forEach:function(O,$,nt){et(O,function(){$.apply(this,arguments)},nt)},count:function(O){var $=0;return et(O,function(){$++}),$},toArray:function(O){return et(O,function($){return $})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=b,vt.Children=Gt,vt.Component=ct,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=lt,vt.StrictMode=a,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,$,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=J({},O.props),yt=O.key;if($!=null)for(St in $.key!==void 0&&(yt=""+$.key),$)!S.call($,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&$.ref===void 0||(at[St]=$[St]);var St=arguments.length-2;if(St===1)at.children=nt;else if(1<St){for(var Ut=Array(St),De=0;De<St;De++)Ut[De]=arguments[De+2];at.children=Ut}return N(O.type,yt,at)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,$,nt){var at,yt={},St=null;if($!=null)for(at in $.key!==void 0&&(St=""+$.key),$)S.call($,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=$[at]);var Ut=arguments.length-2;if(Ut===1)yt.children=nt;else if(1<Ut){for(var De=Array(Ut),re=0;re<Ut;re++)De[re]=arguments[re+2];yt.children=De}if(O&&O.defaultProps)for(at in Ut=O.defaultProps,Ut)yt[at]===void 0&&(yt[at]=Ut[at]);return N(O,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:g,render:O}},vt.isValidElement=x,vt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:dt}},vt.memo=function(O,$){return{$$typeof:_,type:O,compare:$===void 0?null:$}},vt.startTransition=function(O){var $=I.T,nt={};I.T=nt;try{var at=O(),yt=I.S;yt!==null&&yt(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Et,Lt)}catch(St){Lt(St)}finally{$!==null&&nt.types!==null&&($.types=nt.types),I.T=$}},vt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vt.use=function(O){return I.H.use(O)},vt.useActionState=function(O,$,nt){return I.H.useActionState(O,$,nt)},vt.useCallback=function(O,$){return I.H.useCallback(O,$)},vt.useContext=function(O){return I.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,$){return I.H.useDeferredValue(O,$)},vt.useEffect=function(O,$){return I.H.useEffect(O,$)},vt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},vt.useId=function(){return I.H.useId()},vt.useImperativeHandle=function(O,$,nt){return I.H.useImperativeHandle(O,$,nt)},vt.useInsertionEffect=function(O,$){return I.H.useInsertionEffect(O,$)},vt.useLayoutEffect=function(O,$){return I.H.useLayoutEffect(O,$)},vt.useMemo=function(O,$){return I.H.useMemo(O,$)},vt.useOptimistic=function(O,$){return I.H.useOptimistic(O,$)},vt.useReducer=function(O,$,nt){return I.H.useReducer(O,$,nt)},vt.useRef=function(O){return I.H.useRef(O)},vt.useState=function(O){return I.H.useState(O)},vt.useSyncExternalStore=function(O,$,nt){return I.H.useSyncExternalStore(O,$,nt)},vt.useTransition=function(){return I.H.useTransition()},vt.version="19.2.0",vt}var j_;function Rm(){return j_||(j_=1,Od.exports=L1()),Od.exports}var Ht=Rm(),Md={exports:{}},yl={},Vd={exports:{}},Ud={};var q_;function B1(){return q_||(q_=1,(function(s){function t(Q,et){var dt=Q.length;Q.push(et);t:for(;0<dt;){var Lt=dt-1>>>1,Gt=Q[Lt];if(0<l(Gt,et))Q[Lt]=et,Q[dt]=Gt,dt=Lt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var et=Q[0],dt=Q.pop();if(dt!==et){Q[0]=dt;t:for(var Lt=0,Gt=Q.length,O=Gt>>>1;Lt<O;){var $=2*(Lt+1)-1,nt=Q[$],at=$+1,yt=Q[at];if(0>l(nt,dt))at<Gt&&0>l(yt,nt)?(Q[Lt]=yt,Q[at]=dt,Lt=at):(Q[Lt]=nt,Q[$]=dt,Lt=$);else if(at<Gt&&0>l(yt,dt))Q[Lt]=yt,Q[at]=dt,Lt=at;else break t}}return et}function l(Q,et){var dt=Q.sortIndex-et.sortIndex;return dt!==0?dt:Q.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],E=1,b=null,w=3,P=!1,H=!1,J=!1,W=!1,ct=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function Ct(Q){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=Q)a(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(_)}}function Bt(Q){if(J=!1,Ct(Q),!H)if(i(y)!==null)H=!0,Et||(Et=!0,k());else{var et=i(_);et!==null&&Ne(Bt,et.startTime-Q)}}var Et=!1,I=-1,S=5,N=-1;function M(){return W?!0:!(s.unstable_now()-N<S)}function x(){if(W=!1,Et){var Q=s.unstable_now();N=Q;var et=!0;try{t:{H=!1,J&&(J=!1,rt(I),I=-1),P=!0;var dt=w;try{e:{for(Ct(Q),b=i(y);b!==null&&!(b.expirationTime>Q&&M());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,w=b.priorityLevel;var Gt=Lt(b.expirationTime<=Q);if(Q=s.unstable_now(),typeof Gt=="function"){b.callback=Gt,Ct(Q),et=!0;break e}b===i(y)&&a(y),Ct(Q)}else a(y);b=i(y)}if(b!==null)et=!0;else{var O=i(_);O!==null&&Ne(Bt,O.startTime-Q),et=!1}}break t}finally{b=null,w=dt,P=!1}et=void 0}}finally{et?k():Et=!1}}}var k;if(typeof lt=="function")k=function(){lt(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,se=C.port2;C.port1.onmessage=x,k=function(){se.postMessage(null)}}else k=function(){ct(x,0)};function Ne(Q,et){I=ct(function(){Q(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var et=3;break;default:et=w}var dt=w;w=et;try{return Q()}finally{w=dt}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(Q,et){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=w;w=Q;try{return et()}finally{w=dt}},s.unstable_scheduleCallback=function(Q,et,dt){var Lt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Lt+dt:Lt):dt=Lt,Q){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=dt+Gt,Q={id:E++,callback:et,priorityLevel:Q,startTime:dt,expirationTime:Gt,sortIndex:-1},dt>Lt?(Q.sortIndex=dt,t(_,Q),i(y)===null&&Q===i(_)&&(J?(rt(I),I=-1):J=!0,Ne(Bt,dt-Lt))):(Q.sortIndex=Gt,t(y,Q),H||P||(H=!0,Et||(Et=!0,k()))),Q},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(Q){var et=w;return function(){var dt=w;w=et;try{return Q.apply(this,arguments)}finally{w=dt}}}})(Ud)),Ud}var H_;function P1(){return H_||(H_=1,Vd.exports=B1()),Vd.exports}var kd={exports:{}},Ye={};var F_;function z1(){if(F_)return Ye;F_=1;var s=Rm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},Ye.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,b=g(E,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:P}):E==="script"&&a.d.X(y,{crossOrigin:b,integrity:w,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,b=g(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ye.requestFormReset=function(y){a.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var G_;function j1(){if(G_)return kd.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=z1(),kd.exports}var Q_;function q1(){if(Q_)return yl;Q_=1;var s=P1(),t=Rm(),i=j1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,o=f;break}if(T===o){p=!0,o=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,o=h;break}if(T===o){p=!0,o=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),Bt=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ct:return"Profiler";case W:return"StrictMode";case Bt:return"Suspense";case Et:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case lt:return e.displayName||"Context";case rt:return(e._context.displayName||"Context")+".Consumer";case Ct:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var Ne=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Lt=[],Gt=-1;function O(e){return{current:e}}function $(e){0>Gt||(e.current=Lt[Gt],Lt[Gt]=null,Gt--)}function nt(e,n){Gt++,Lt[Gt]=e.current,e.current=n}var at=O(null),yt=O(null),St=O(null),Ut=O(null);function De(e,n){switch(nt(St,n),nt(yt,e),nt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?o_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=o_(n),e=l_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(at),nt(at,e)}function re(){$(at),$(yt),$(St)}function or(e){e.memoizedState!==null&&nt(Ut,e);var n=at.current,r=l_(n,e.type);n!==r&&(nt(yt,e),nt(at,r))}function Jr(e){yt.current===e&&($(at),$(yt)),Ut.current===e&&($(Ut),fl._currentValue=dt)}var Wr,ta;function ni(e){if(Wr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",ta=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+ta}var ho=!1;function lr(e,n){if(!e||ho)return"";ho=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(F){var j=F}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(F){j=F}e.call(Y.prototype)}}else{try{throw Error()}catch(F){j=F}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var R=p.split(`
`),z=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ho=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ni(r):""}function fo(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return ni("Activity");default:return""}}function mo(e){try{var n="",r=null;do n+=fo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,os=s.unstable_cancelCallback,Oh=s.unstable_shouldYield,Jl=s.unstable_requestPaint,We=s.unstable_now,ur=s.unstable_getCurrentPriorityLevel,go=s.unstable_ImmediatePriority,po=s.unstable_UserBlockingPriority,ls=s.unstable_NormalPriority,Mh=s.unstable_LowPriority,Wl=s.unstable_IdlePriority,tu=s.log,eu=s.unstable_setDisableYieldValue,zn=null,Pe=null;function Sn(e){if(typeof tu=="function"&&eu(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(zn,e)}catch{}}var he=Math.clz32?Math.clz32:iu,nu=Math.log,ea=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/ea|0)|0}var ii=256,cr=262144,ye=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=si(o):(p&=T,p!==0?h=si(p):r||(r=T&~e,r!==0&&(h=si(r))))):(T=o&~f,T!==0?h=si(T):p!==0?h=si(p):r||(r=o&~e,r!==0&&(h=si(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ai(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uh(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-he(r),Y=1<<G;T[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var F=j[G];F!==null&&(F.lane&=-536870913)}r&=~Y}o!==0&&fr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function fr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function yo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-he(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function _o(e,n){var r=n&-n;return r=(r&42)!==0?1:dr(r),(r&(e.suspendedLanes|n))!==0?0:r}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:x_(e.type))}function qn(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var Hn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Hn,Ue="__reactProps$"+Hn,oi="__reactContainer$"+Hn,na="__reactEvents$"+Hn,kh="__reactListeners$"+Hn,au="__reactHandles$"+Hn,ou="__reactResources$"+Hn,li="__reactMarker$"+Hn;function ia(e){delete e[_e],delete e[Ue],delete e[na],delete e[kh],delete e[au]}function ui(e){var n=e[_e];if(n)return n;for(var r=e.parentNode;r;){if(n=r[oi]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=g_(e);e!==null;){if(r=e[_e])return r;e=g_(e)}return n}e=r,r=e.parentNode}return null}function wn(e){if(e=e[_e]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ci(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[li]=!0}var vo=new Set,To={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(To[e]=n,e=0;e<n.length;e++)vo.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},bo={};function lu(e){return pe.call(bo,e)?!0:pe.call(Ao,e)?!1:Eo.test(e)?bo[e]=!0:(Ao[e]=!0,!1)}function sa(e,n,r){if(lu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function mn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Te(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function us(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=us(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=us(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gr=/[\n"\\]/g;function nn(e){return e.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,r,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?wo(e,p,ke(n)):r!=null?wo(e,p,ke(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ke(T):e.removeAttribute("name")}function uu(e,n,r,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}r=r!=null?""+ke(r):"",n=n!=null?""+ke(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qt(e)}function wo(e,n,r){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function cs(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,r){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ke(r):""}function hs(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ne(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ke(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Qt(e)}function sn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||hu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ro(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Co(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return fs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var Io=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,mi=null;function pr(e){var n=wn(e);if(n&&(e=n.stateNode)){var r=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&mr(o)}break t;case"textarea":cu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&cs(e,!!r.multiple,n,!1)}}}var la=!1;function ms(e,n,r){if(la)return e(n,r);la=!0;try{var o=e(n);return o}finally{if(la=!1,(ds!==null||mi!==null)&&(rc(),ds&&(n=ds,e=mi,mi=ds=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Gn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ue]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Rn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{yr=!1}var gi=null,No=null,_r=null;function Do(){if(_r)return _r;var e,n=No,r=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return _r=h.slice(e,1<o?1-o:void 0)}function vr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Qn(){return!1}function ze(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Qn,this.isPropagationStopped=Qn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=ze(Vi),gs=b({},Vi,{view:0,detail:0}),xo=ze(gs),ps,ua,yi,ca=b({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(ps=e.screenX-yi.screenX,ua=e.screenY-yi.screenY):ua=ps=0,yi=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Oo=ze(ca),Tr=b({},ca,{dataTransfer:0}),du=ze(Tr),mu=b({},gs,{relatedTarget:0}),Er=ze(mu),Mo=b({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=ze(Mo),ha=b({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=ze(ha),yu=b({},Vi,{data:0}),_i=ze(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function ys(){return Eu}var tn=b({},gs,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=ze(tn),bu=b({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=ze(bu),u=b({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=ze(u),v=b({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=ze(v),L=b({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ze(L),tt=b({},Vi,{newState:0,oldState:0}),At=ze(tt),fe=[9,13,27,32],jt=Rn&&"CompositionEvent"in window,ae=null;Rn&&"documentMode"in document&&(ae=document.documentMode);var In=Rn&&"TextEvent"in window&&!ae,vi=Rn&&(!jt||ae&&8<ae&&11>=ae),Kn=" ",Yn=!1;function Ar(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function rA(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Yn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Yn?null:e;default:return null}}function aA(e,n){if(da)return e==="compositionend"||!jt&&Ar(e,n)?(e=Do(),_r=No=gi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!oA[e.type]:n==="textarea"}function vg(e,n,r,o){ds?mi?mi.push(o):mi=[o]:ds=o,n=fc(n,"onChange"),0<n.length&&(r=new pi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Vo=null,Uo=null;function lA(e){e_(e,0)}function Su(e){var n=dn(e);if(mr(n))return e}function Tg(e,n){if(e==="change")return n}var Eg=!1;if(Rn){var Lh;if(Rn){var Bh="oninput"in document;if(!Bh){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Bh=typeof Ag.oninput=="function"}Lh=Bh}else Lh=!1;Eg=Lh&&(!document.documentMode||9<document.documentMode)}function bg(){Vo&&(Vo.detachEvent("onpropertychange",Sg),Uo=Vo=null)}function Sg(e){if(e.propertyName==="value"&&Su(Uo)){var n=[];vg(n,Uo,e,Cn(e)),ms(lA,n)}}function uA(e,n,r){e==="focusin"?(bg(),Vo=n,Uo=r,Vo.attachEvent("onpropertychange",Sg)):e==="focusout"&&bg()}function cA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Uo)}function hA(e,n){if(e==="click")return Su(n)}function fA(e,n){if(e==="input"||e==="change")return Su(n)}function dA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:dA;function ko(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!pe.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function wg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cg(e,n){var r=wg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=wg(r)}}function Rg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=di(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var mA=Rn&&"documentMode"in document&&11>=document.documentMode,ma=null,zh=null,Lo=null,jh=!1;function Ng(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jh||ma==null||ma!==di(o)||(o=ma,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&ko(Lo,o)||(Lo=o,o=fc(zh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ma)))}function br(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ga={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},qh={},Dg={};Rn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Sr(e){if(qh[e])return qh[e];if(!ga[e])return e;var n=ga[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Dg)return qh[e]=n[r];return e}var xg=Sr("animationend"),Og=Sr("animationiteration"),Mg=Sr("animationstart"),gA=Sr("transitionrun"),pA=Sr("transitionstart"),yA=Sr("transitioncancel"),Vg=Sr("transitionend"),Ug=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function Xn(e,n){Ug.set(e,n),hi(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],pa=0,Fh=0;function Cu(){for(var e=pa,n=Fh=pa=0;n<e;){var r=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&kg(r,h,f)}}function Ru(e,n,r,o){Nn[pa++]=e,Nn[pa++]=n,Nn[pa++]=r,Nn[pa++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,r,o){return Ru(e,n,r,o),Iu(e)}function wr(e,n){return Ru(e,null,null,n),Iu(e)}function kg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Iu(e){if(50<rl)throw rl=0,ed=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function _A(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,o){return new _A(e,n,r,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Lg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Qh(e)&&(p=1);else if(typeof e=="string")p=b1(e,r,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=pn(31,r,n,h),e.elementType=N,e.lanes=f,e;case J:return Cr(r.children,h,f,n);case W:p=8,h|=24;break;case ct:return e=pn(12,r,n,h|2),e.elementType=ct,e.lanes=f,e;case Bt:return e=pn(13,r,n,h),e.elementType=Bt,e.lanes=f,e;case Et:return e=pn(19,r,n,h),e.elementType=Et,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:p=10;break t;case rt:p=9;break t;case Ct:p=11;break t;case I:p=14;break t;case S:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Cr(e,n,r,o){return e=pn(7,e,o,n),e.lanes=r,e}function Kh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function Bg(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pg=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var r=Pg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:mo(n)},Pg.set(e,n),n)}return{value:e,source:n,stack:mo(n)}}var _a=[],va=0,Du=null,Bo=0,xn=[],On=0,_s=null,Ti=1,Ei="";function Li(e,n){_a[va++]=Bo,_a[va++]=Du,Du=e,Bo=n}function zg(e,n,r){xn[On++]=Ti,xn[On++]=Ei,xn[On++]=_s,_s=e;var o=Ti;e=Ei;var h=32-he(o)-1;o&=~(1<<h),r+=1;var f=32-he(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ti=1<<32-he(n)+h|r<<h|o,Ei=f+e}else Ti=1<<f|r<<h|o,Ei=e}function Xh(e){e.return!==null&&(Li(e,1),zg(e,1,0))}function $h(e){for(;e===Du;)Du=_a[--va],_a[va]=null,Bo=_a[--va],_a[va]=null;for(;e===_s;)_s=xn[--On],xn[On]=null,Ei=xn[--On],xn[On]=null,Ti=xn[--On],xn[On]=null}function jg(e,n){xn[On++]=Ti,xn[On++]=Ei,xn[On++]=_s,Ti=n.id,Ei=n.overflow,_s=e}var je=null,ee=null,Vt=!1,vs=null,Mn=!1,Zh=Error(a(519));function Ts(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Dn(n,e)),Zh}function qg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Ue]=o,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<ol.length;r++)It(ol[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),hs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||r_(n.textContent,r)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Ts(e,!0)}function Hg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:je=je.return}}function Ta(e){if(e!==je)return!1;if(!Vt)return Hg(e),Vt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||pd(e.type,e.memoizedProps)),r=!r),r&&ee&&Ts(e),Hg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=m_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=m_(e)}else n===27?(n=ee,Vs(e.type)?(e=Ed,Ed=null,ee=e):ee=n):ee=je?Un(e.stateNode.nextSibling):null;return!0}function Rr(){ee=je=null,Vt=!1}function Jh(){var e=vs;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),vs=null),e}function Po(e){vs===null?vs=[e]:vs.push(e)}var Wh=O(null),Ir=null,Bi=null;function Es(e,n,r){nt(Wh,n._currentValue),n._currentValue=r}function Pi(e){e._currentValue=Wh.current,$(Wh)}function tf(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function ef(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),tf(f.return,r,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),tf(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ea(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;gn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ut.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&ef(n,e,r,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){Ir=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Fg(Ir,e)}function Ou(e,n){return Ir===null&&Nr(e),Fg(e,n)}function Fg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Bi===null){if(e===null)throw Error(a(308));Bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Bi=Bi.next=n;return r}var vA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},TA=s.unstable_scheduleCallback,EA=s.unstable_NormalPriority,Ee={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new vA,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&TA(EA,function(){e.controller.abort()})}var jo=null,sf=0,Aa=0,ba=null;function AA(e,n){if(jo===null){var r=jo=[];sf=0,Aa=od(),ba={status:"pending",value:void 0,then:function(o){r.push(o)}}}return sf++,n.then(Gg,Gg),n}function Gg(){if(--sf===0&&jo!==null){ba!==null&&(ba.status="fulfilled");var e=jo;jo=null,Aa=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function bA(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Qg=Q.S;Q.S=function(e,n){Ny=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&AA(e,n),Qg!==null&&Qg(e,n)};var Dr=O(null);function rf(){var e=Dr.current;return e!==null?e:Wt.pooledCache}function Mu(e,n){n===null?nt(Dr,Dr.current):nt(Dr,n.pool)}function Kg(){var e=rf();return e===null?null:{parent:Ee._currentValue,pool:e}}var Sa=Error(a(460)),af=Error(a(474)),Vu=Error(a(542)),Uu={then:function(){}};function Yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Fn,Fn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zg(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zg(e),e}throw Or=n,Sa}}function xr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Or=r,Sa):r}}var Or=null;function $g(){if(Or===null)throw Error(a(459));var e=Or;return Or=null,e}function Zg(e){if(e===Sa||e===Vu)throw Error(a(483))}var wa=null,qo=0;function ku(e){var n=qo;return qo+=1,wa===null&&(wa=[]),Xg(wa,e,n)}function Ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===w?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jg(e){function n(V,D){if(e){var B=V.deletions;B===null?(V.deletions=[D],V.flags|=16):B.push(D)}}function r(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=ki(V,D),V.index=0,V.sibling=null,V}function f(V,D,B){return V.index=B,e?(B=V.alternate,B!==null?(B=B.index,B<D?(V.flags|=67108866,D):B):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function p(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,D,B,K){return D===null||D.tag!==6?(D=Kh(B,V.mode,K),D.return=V,D):(D=h(D,B),D.return=V,D)}function R(V,D,B,K){var ht=B.type;return ht===J?G(V,D,B.props.children,K,B.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&xr(ht)===D.type)?(D=h(D,B.props),Ho(D,B),D.return=V,D):(D=Nu(B.type,B.key,B.props,null,V.mode,K),Ho(D,B),D.return=V,D)}function z(V,D,B,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Yh(B,V.mode,K),D.return=V,D):(D=h(D,B.children||[]),D.return=V,D)}function G(V,D,B,K,ht){return D===null||D.tag!==7?(D=Cr(B,V.mode,K,ht),D.return=V,D):(D=h(D,B),D.return=V,D)}function Y(V,D,B){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kh(""+D,V.mode,B),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case P:return B=Nu(D.type,D.key,D.props,null,V.mode,B),Ho(B,D),B.return=V,B;case H:return D=Yh(D,V.mode,B),D.return=V,D;case S:return D=xr(D),Y(V,D,B)}if(Ne(D)||k(D))return D=Cr(D,V.mode,B,null),D.return=V,D;if(typeof D.then=="function")return Y(V,ku(D),B);if(D.$$typeof===lt)return Y(V,Ou(V,D),B);Lu(V,D)}return null}function j(V,D,B,K){var ht=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ht!==null?null:T(V,D,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case P:return B.key===ht?R(V,D,B,K):null;case H:return B.key===ht?z(V,D,B,K):null;case S:return B=xr(B),j(V,D,B,K)}if(Ne(B)||k(B))return ht!==null?null:G(V,D,B,K,null);if(typeof B.then=="function")return j(V,D,ku(B),K);if(B.$$typeof===lt)return j(V,D,Ou(V,B),K);Lu(V,B)}return null}function F(V,D,B,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(B)||null,T(D,V,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case P:return V=V.get(K.key===null?B:K.key)||null,R(D,V,K,ht);case H:return V=V.get(K.key===null?B:K.key)||null,z(D,V,K,ht);case S:return K=xr(K),F(V,D,B,K,ht)}if(Ne(K)||k(K))return V=V.get(B)||null,G(D,V,K,ht,null);if(typeof K.then=="function")return F(V,D,B,ku(K),ht);if(K.$$typeof===lt)return F(V,D,B,Ou(D,K),ht);Lu(D,K)}return null}function ot(V,D,B,K){for(var ht=null,Pt=null,ut=D,wt=D=0,Dt=null;ut!==null&&wt<B.length;wt++){ut.index>wt?(Dt=ut,ut=null):Dt=ut.sibling;var zt=j(V,ut,B[wt],K);if(zt===null){ut===null&&(ut=Dt);break}e&&ut&&zt.alternate===null&&n(V,ut),D=f(zt,D,wt),Pt===null?ht=zt:Pt.sibling=zt,Pt=zt,ut=Dt}if(wt===B.length)return r(V,ut),Vt&&Li(V,wt),ht;if(ut===null){for(;wt<B.length;wt++)ut=Y(V,B[wt],K),ut!==null&&(D=f(ut,D,wt),Pt===null?ht=ut:Pt.sibling=ut,Pt=ut);return Vt&&Li(V,wt),ht}for(ut=o(ut);wt<B.length;wt++)Dt=F(ut,V,wt,B[wt],K),Dt!==null&&(e&&Dt.alternate!==null&&ut.delete(Dt.key===null?wt:Dt.key),D=f(Dt,D,wt),Pt===null?ht=Dt:Pt.sibling=Dt,Pt=Dt);return e&&ut.forEach(function(Ps){return n(V,Ps)}),Vt&&Li(V,wt),ht}function mt(V,D,B,K){if(B==null)throw Error(a(151));for(var ht=null,Pt=null,ut=D,wt=D=0,Dt=null,zt=B.next();ut!==null&&!zt.done;wt++,zt=B.next()){ut.index>wt?(Dt=ut,ut=null):Dt=ut.sibling;var Ps=j(V,ut,zt.value,K);if(Ps===null){ut===null&&(ut=Dt);break}e&&ut&&Ps.alternate===null&&n(V,ut),D=f(Ps,D,wt),Pt===null?ht=Ps:Pt.sibling=Ps,Pt=Ps,ut=Dt}if(zt.done)return r(V,ut),Vt&&Li(V,wt),ht;if(ut===null){for(;!zt.done;wt++,zt=B.next())zt=Y(V,zt.value,K),zt!==null&&(D=f(zt,D,wt),Pt===null?ht=zt:Pt.sibling=zt,Pt=zt);return Vt&&Li(V,wt),ht}for(ut=o(ut);!zt.done;wt++,zt=B.next())zt=F(ut,V,wt,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&ut.delete(zt.key===null?wt:zt.key),D=f(zt,D,wt),Pt===null?ht=zt:Pt.sibling=zt,Pt=zt);return e&&ut.forEach(function(V1){return n(V,V1)}),Vt&&Li(V,wt),ht}function Jt(V,D,B,K){if(typeof B=="object"&&B!==null&&B.type===J&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case P:t:{for(var ht=B.key;D!==null;){if(D.key===ht){if(ht=B.type,ht===J){if(D.tag===7){r(V,D.sibling),K=h(D,B.props.children),K.return=V,V=K;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&xr(ht)===D.type){r(V,D.sibling),K=h(D,B.props),Ho(K,B),K.return=V,V=K;break t}r(V,D);break}else n(V,D);D=D.sibling}B.type===J?(K=Cr(B.props.children,V.mode,K,B.key),K.return=V,V=K):(K=Nu(B.type,B.key,B.props,null,V.mode,K),Ho(K,B),K.return=V,V=K)}return p(V);case H:t:{for(ht=B.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){r(V,D.sibling),K=h(D,B.children||[]),K.return=V,V=K;break t}else{r(V,D);break}else n(V,D);D=D.sibling}K=Yh(B,V.mode,K),K.return=V,V=K}return p(V);case S:return B=xr(B),Jt(V,D,B,K)}if(Ne(B))return ot(V,D,B,K);if(k(B)){if(ht=k(B),typeof ht!="function")throw Error(a(150));return B=ht.call(B),mt(V,D,B,K)}if(typeof B.then=="function")return Jt(V,D,ku(B),K);if(B.$$typeof===lt)return Jt(V,D,Ou(V,B),K);Lu(V,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,D!==null&&D.tag===6?(r(V,D.sibling),K=h(D,B),K.return=V,V=K):(r(V,D),K=Kh(B,V.mode,K),K.return=V,V=K),p(V)):r(V,D)}return function(V,D,B,K){try{qo=0;var ht=Jt(V,D,B,K);return wa=null,ht}catch(ut){if(ut===Sa||ut===Vu)throw ut;var Pt=pn(29,ut,null,V.mode);return Pt.lanes=K,Pt.return=V,Pt}finally{}}}var Mr=Jg(!0),Wg=Jg(!1),As=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),kg(e,null,r),n}return Ru(e,o,n,r),Iu(e)}function Fo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,yo(e,r)}}function uf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var cf=!1;function Go(){if(cf){var e=ba;if(e!==null)throw e}}function Qo(e,n,r,o){cf=!1;var h=e.updateQueue;As=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==p&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;p=0,G=z=R=null,T=f;do{var j=T.lane&-536870913,F=j!==T.lane;if(F?(Nt&j)===j:(o&j)===j){j!==0&&j===Aa&&(cf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ot=e,mt=T;j=n;var Jt=r;switch(mt.tag){case 1:if(ot=mt.payload,typeof ot=="function"){Y=ot.call(Jt,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=mt.payload,j=typeof ot=="function"?ot.call(Jt,Y,j):ot,j==null)break t;Y=b({},Y,j);break t;case 2:As=!0}}j=T.callback,j!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=F,R=Y):G=G.next=F,p|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ns|=p,e.lanes=p,e.memoizedState=Y}}function tp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ep(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)tp(r[e],n)}var Ca=O(null),Bu=O(0);function np(e,n){e=Yi,nt(Bu,e),nt(Ca,n),Yi=e|n.baseLanes}function hf(){nt(Bu,Yi),nt(Ca,Ca.current)}function ff(){Yi=Bu.current,$(Ca),$(Bu)}var yn=O(null),Vn=null;function ws(e){var n=e.alternate;nt(de,de.current&1),nt(yn,e),Vn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Vn=e)}function df(e){nt(de,de.current),nt(yn,e),Vn===null&&(Vn=e)}function ip(e){e.tag===22?(nt(de,de.current),nt(yn,e),Vn===null&&(Vn=e)):Cs()}function Cs(){nt(de,de.current),nt(yn,yn.current)}function _n(e){$(yn),Vn===e&&(Vn=null),$(de)}var de=O(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||vd(r)||Td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,bt=null,$t=null,Ae=null,zu=!1,Ra=!1,Vr=!1,ju=0,Ko=0,Ia=null,SA=0;function ue(){throw Error(a(321))}function mf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!gn(e[r],n[r]))return!1;return!0}function gf(e,n,r,o,h,f){return zi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?zp:Df,Vr=!1,f=r(o,h),Vr=!1,Ra&&(f=rp(n,r,o,h)),sp(e),f}function sp(e){Q.H=$o;var n=$t!==null&&$t.next!==null;if(zi=0,Ae=$t=bt=null,zu=!1,Ko=0,Ia=null,n)throw Error(a(300));e===null||be||(e=e.dependencies,e!==null&&xu(e)&&(be=!0))}function rp(e,n,r,o){bt=e;var h=0;do{if(Ra&&(Ia=null),Ko=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=jp,f=n(r,o)}while(Ra);return f}function wA(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Yo(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(bt.flags|=1024),n}function pf(){var e=ju!==0;return ju=0,e}function yf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function _f(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}zi=0,Ae=$t=bt=null,Ra=!1,Ko=ju=0,Ia=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if($t===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Ae===null?bt.memoizedState:Ae.next;if(n!==null)Ae=n,$t=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var n=Ko;return Ko+=1,Ia===null&&(Ia=[]),e=Xg(Ia,e,n),n=bt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?zp:Df),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===lt)return qe(e)}throw Error(a(438,String(e)))}function vf(e){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function ji(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=me();return Tf(n,$t,e)}function Tf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,R=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Nt&Y)===Y:(zi&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Aa&&(G=!0);else if((zi&j)===j){z=z.next,j===Aa&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=Y,p=f):R=R.next=Y,bt.lanes|=j,Ns|=j;Y=z.action,Vr&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=j,p=f):R=R.next=j,bt.lanes|=Y,Ns|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=T,!gn(f,e.memoizedState)&&(be=!0,G&&(r=ba,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);gn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function ap(e,n,r){var o=bt,h=me(),f=Vt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!gn(($t||h).memoizedState,r);if(p&&(h.memoizedState=r,be=!0),h=h.queue,Sf(up.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Na(9,{destroy:void 0},lp.bind(null,o,h,r,n),null),Wt===null)throw Error(a(349));f||(zi&127)!==0||op(o,n,r)}return r}function op(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=qu(),bt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function lp(e,n,r,o){n.value=r,n.getSnapshot=o,cp(n)&&hp(e)}function up(e,n,r){return r(function(){cp(n)&&hp(e)})}function cp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!gn(e,r)}catch{return!0}}function hp(e){var n=wr(e,2);n!==null&&un(n,e,2)}function Af(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),Vr){Sn(!0);try{r()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function fp(e,n,r,o){return e.baseState=r,Tf(e,$t,typeof o=="function"?o:ji)}function CA(e,n,r,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};Q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,dp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function dp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=Q.T,p={};Q.T=p;try{var T=r(h,o),R=Q.S;R!==null&&R(p,T),mp(e,n,T)}catch(z){bf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),Q.T=f}}else try{f=r(h,o),mp(e,n,f)}catch(z){bf(e,n,z)}}function mp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){gp(e,n,o)},function(o){return bf(e,n,o)}):gp(e,n,r)}function gp(e,n,r){n.status="fulfilled",n.value=r,pp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,dp(e,r)))}function bf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,pp(n),n=n.next;while(n!==o)}e.action=null}function pp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function yp(e,n){return n}function _p(e,n){if(Vt){var r=Wt.formState;if(r!==null){t:{var o=bt;if(Vt){if(ee){e:{for(var h=ee,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Un(h.nextSibling),o=h.data==="F!";break t}}Ts(o)}o=!1}o&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:n},r.queue=o,r=Lp.bind(null,bt,o),o.dispatch=r,o=Af(!1),f=Nf.bind(null,bt,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=CA.bind(null,bt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function vp(e){var n=me();return Tp(n,$t,e)}function Tp(e,n,r){if(n=Tf(e,n,yp)[0],e=Fu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(p){throw p===Sa?Vu:p}else o=n;n=me();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(bt.flags|=2048,Na(9,{destroy:void 0},RA.bind(null,h,r),null)),[o,f,e]}function RA(e,n){e.action=n}function Ep(e){var n=me(),r=$t;if(r!==null)return Tp(n,r,e);me(),n=n.memoizedState,r=me();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Na(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=qu(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Ap(){return me().memoizedState}function Gu(e,n,r,o){var h=en();bt.flags|=e,h.memoizedState=Na(1|n,{destroy:void 0},r,o===void 0?null:o)}function Qu(e,n,r,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&mf(o,$t.memoizedState.deps)?h.memoizedState=Na(n,f,r,o):(bt.flags|=e,h.memoizedState=Na(1|n,f,r,o))}function bp(e,n){Gu(8390656,8,e,n)}function Sf(e,n){Qu(2048,8,e,n)}function IA(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=qu(),bt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Sp(e){var n=me().memoizedState;return IA({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function wp(e,n){return Qu(4,2,e,n)}function Cp(e,n){return Qu(4,4,e,n)}function Rp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ip(e,n,r){r=r!=null?r.concat([e]):null,Qu(4,4,Rp.bind(null,n,e),r)}function wf(){}function Np(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Dp(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=e(),Vr){Sn(!0);try{e()}finally{Sn(!1)}}return r.memoizedState=[o,n],o}function Cf(e,n,r){return r===void 0||(zi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=xy(),bt.lanes|=e,Ns|=e,r)}function xp(e,n,r,o){return gn(r,n)?r:Ca.current!==null?(e=Cf(e,r,o),gn(e,n)||(be=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Nt&261930)===0?(be=!0,e.memoizedState=r):(e=xy(),bt.lanes|=e,Ns|=e,n)}function Op(e,n,r,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var p=Q.T,T={};Q.T=T,Nf(e,!1,n,r);try{var R=h(),z=Q.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=bA(R,o);Xo(e,n,G,En(e))}else Xo(e,n,o,En(e))}catch(Y){Xo(e,n,{then:function(){},status:"rejected",reason:Y},En())}finally{et.p=f,p!==null&&T.types!==null&&(p.types=T.types),Q.T=p}}function NA(){}function Rf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Mp(e).queue;Op(e,h,n,dt,r===null?NA:function(){return Vp(e),r(o)})}function Mp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:dt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Vp(e){var n=Mp(e);n.next===null&&(n=e.alternate.memoizedState),Xo(e,n.next.queue,{},En())}function If(){return qe(fl)}function Up(){return me().memoizedState}function kp(){return me().memoizedState}function DA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();e=bs(r);var o=Ss(n,e,r);o!==null&&(un(o,n,r),Fo(o,n,r)),n={cache:nf()},e.payload=n;return}n=n.return}}function xA(e,n,r){var o=En();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Bp(n,r):(r=Gh(e,n,r,o),r!==null&&(un(r,e,o),Pp(r,n,o)))}function Lp(e,n,r){var o=En();Xo(e,n,r,o)}function Xo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Bp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,gn(T,p))return Ru(e,n,h,0),Wt===null&&Cu(),!1}catch{}finally{}if(r=Gh(e,n,h,o),r!==null)return un(r,e,o),Pp(r,n,o),!0}return!1}function Nf(e,n,r,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=Gh(e,r,o,2),n!==null&&un(n,e,2)}function Ku(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Bp(e,n){Ra=zu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Pp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,yo(e,r)}}var $o={readContext:qe,use:Hu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};$o.useEffectEvent=ue;var zp={readContext:qe,use:Hu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:bp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Gu(4194308,4,Rp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var o=e();if(Vr){Sn(!0);try{e()}finally{Sn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=en();if(r!==void 0){var h=r(n);if(Vr){Sn(!0);try{r(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=xA.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,r=Lp.bind(null,bt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:wf,useDeferredValue:function(e,n){var r=en();return Cf(r,e,n)},useTransition:function(){var e=Af(!1);return e=Op.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=bt,h=en();if(Vt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(Nt&127)!==0||op(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,bp(up.bind(null,o,f,e),[e]),o.flags|=2048,Na(9,{destroy:void 0},lp.bind(null,o,f,r,n),null),r},useId:function(){var e=en(),n=Wt.identifierPrefix;if(Vt){var r=Ei,o=Ti;r=(o&~(1<<32-he(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=SA++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:If,useFormState:_p,useActionState:_p,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Nf.bind(null,bt,!0,r),r.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return en().memoizedState=DA.bind(null,bt)},useEffectEvent:function(e){var n=en(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Df={readContext:qe,use:Hu,useCallback:Np,useContext:qe,useEffect:Sf,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Cp,useMemo:Dp,useReducer:Fu,useRef:Ap,useState:function(){return Fu(ji)},useDebugValue:wf,useDeferredValue:function(e,n){var r=me();return xp(r,$t.memoizedState,e,n)},useTransition:function(){var e=Fu(ji)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:ap,useId:Up,useHostTransitionStatus:If,useFormState:vp,useActionState:vp,useOptimistic:function(e,n){var r=me();return fp(r,$t,e,n)},useMemoCache:vf,useCacheRefresh:kp};Df.useEffectEvent=Sp;var jp={readContext:qe,use:Hu,useCallback:Np,useContext:qe,useEffect:Sf,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Cp,useMemo:Dp,useReducer:Ef,useRef:Ap,useState:function(){return Ef(ji)},useDebugValue:wf,useDeferredValue:function(e,n){var r=me();return $t===null?Cf(r,e,n):xp(r,$t.memoizedState,e,n)},useTransition:function(){var e=Ef(ji)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:ap,useId:Up,useHostTransitionStatus:If,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var r=me();return $t!==null?fp(r,$t,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:vf,useCacheRefresh:kp};jp.useEffectEvent=Sp;function xf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Of={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=En(),h=bs(o);h.payload=n,r!=null&&(h.callback=r),n=Ss(e,h,o),n!==null&&(un(n,e,o),Fo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=En(),h=bs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ss(e,h,o),n!==null&&(un(n,e,o),Fo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=En(),o=bs(r);o.tag=2,n!=null&&(o.callback=n),n=Ss(e,o,r),n!==null&&(un(n,e,r),Fo(n,e,r))}};function qp(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!ko(r,o)||!ko(h,f):!0}function Hp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function Ur(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Fp(e){wu(e)}function Gp(e){console.error(e)}function Qp(e){wu(e)}function Yu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Kp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,r){return r=bs(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(e,n)},r}function Yp(e){return e=bs(e),e.tag=3,e}function Xp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Kp(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Kp(n,r,o),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function OA(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ea(n,r,h,!0),r=yn.current,r!==null){switch(r.tag){case 31:case 13:return Vn===null?ac():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return r.flags|=65536,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),sd(e,o,h)),!1}throw Error(a(435,r.tag))}return sd(e,o,h),ac(),!1}if(Vt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(e=Error(a(422),{cause:o}),Po(Dn(e,r)))):(o!==Zh&&(n=Error(a(423),{cause:o}),Po(Dn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,r),h=Mf(e.stateNode,o,h),uf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Dn(f,r),sl===null?sl=[f]:sl.push(f),ce!==4&&(ce=2),n===null)return!0;o=Dn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Mf(r.stateNode,o,e),uf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Yp(h),Xp(h,e,r,o),uf(r,h),!1}r=r.return}while(r!==null);return!1}var Vf=Error(a(461)),be=!1;function He(e,n,r,o){n.child=e===null?Wg(n,null,r,o):Mr(n,e.child,r,o)}function $p(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Nr(n),o=gf(e,n,r,p,f,h),T=pf(),e!==null&&!be?(yf(e,n,h),qi(e,n,h)):(Vt&&T&&Xh(n),n.flags|=1,He(e,n,o,h),n.child)}function Zp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Jp(e,n,f,o,h)):(e=Nu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!qf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:ko,r(p,o)&&e.ref===n.ref)return qi(e,n,h)}return n.flags|=1,e=ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Jp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,qf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,qi(e,n,h)}return Uf(e,n,r,o,h)}function Wp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ty(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?np(n,f):hf(),ip(n);else return o=n.lanes=536870912,ty(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Mu(n,f.cachePool),np(n,f),Cs(),n.memoizedState=null):(e!==null&&Mu(n,null),hf(),Cs());return He(e,n,h,r),n.child}function Zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(e,n,r,o,h){var f=rf();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Mu(n,null),hf(),ip(n),e!==null&&Ea(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ey(e,n,r){return Mr(n,e.child,null,r),e=Xu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function MA(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,Zo(null,e);if(df(n),(e=ee)?(e=d_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},r=Bg(e),r.return=n,n.child=r,je=n,ee=null)):e=null,e===null)throw Ts(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=ey(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(be||Ea(e,n,r,!1),h=(r&e.childLanes)!==0,be||h){if(o=Wt,o!==null&&(p=_o(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,wr(e,p),un(o,e,p),Vf;ac(),n=ey(e,n,r)}else e=f.treeContext,ee=Un(p.nextSibling),je=n,Vt=!0,vs=null,Mn=!1,e!==null&&jg(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Uf(e,n,r,o,h){return Nr(n),r=gf(e,n,r,o,void 0,h),o=pf(),e!==null&&!be?(yf(e,n,h),qi(e,n,h)):(Vt&&o&&Xh(n),n.flags|=1,He(e,n,r,h),n.child)}function ny(e,n,r,o,h,f){return Nr(n),n.updateQueue=null,r=rp(n,o,r,h),sp(e),o=pf(),e!==null&&!be?(yf(e,n,f),qi(e,n,f)):(Vt&&o&&Xh(n),n.flags|=1,He(e,n,r,f),n.child)}function iy(e,n,r,o,h){if(Nr(n),n.stateNode===null){var f=ya,p=r.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?qe(p):ya,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(xf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Of.enqueueReplaceState(f,f.state,null),Qo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Ur(r,T);f.props=R;var z=f.context,G=r.contextType;p=ya,typeof G=="object"&&G!==null&&(p=qe(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Hp(n,f,o,p),As=!1;var j=n.memoizedState;f.state=j,Qo(n,o,f,h),Go(),z=n.memoizedState,T||j!==z||As?(typeof Y=="function"&&(xf(n,r,Y,o),z=n.memoizedState),(R=As||qp(n,r,R,o,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(e,n),p=n.memoizedProps,G=Ur(r,p),f.props=G,Y=n.pendingProps,j=f.context,z=r.contextType,R=ya,typeof z=="object"&&z!==null&&(R=qe(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==R)&&Hp(n,f,o,R),As=!1,j=n.memoizedState,f.state=j,Qo(n,o,f,h),Go();var F=n.memoizedState;p!==Y||j!==F||As||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof T=="function"&&(xf(n,r,T,o),F=n.memoizedState),(G=As||qp(n,r,G,o,j,F,R)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Mr(n,e.child,null,h),n.child=Mr(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=qi(e,n,h),e}function sy(e,n,r,o){return Rr(),n.flags|=256,He(e,n,r,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:Kg()}}function Bf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Tn),e}function ry(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?ws(n):Cs(),(e=ee)?(e=d_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},r=Bg(e),r.return=n,n.child=r,je=n,ee=null)):e=null,e===null)throw Ts(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Cs(),h=n.mode,T=Zu({mode:"hidden",children:T},h),o=Cr(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Lf(r),o.childLanes=Bf(e,p,r),n.memoizedState=kf,Zo(null,o)):(ws(n),Pf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(ws(n),n.flags&=-257,n=zf(e,n,r)):n.memoizedState!==null?(Cs(),n.child=e.child,n.flags|=128,n=null):(Cs(),T=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),T=Cr(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Mr(n,e.child,null,r),o=n.child,o.memoizedState=Lf(r),o.childLanes=Bf(e,p,r),n.memoizedState=kf,n=Zo(null,o));else if(ws(n),Td(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Po({value:o,source:null,stack:null}),n=zf(e,n,r)}else if(be||Ea(e,n,r,!1),p=(r&e.childLanes)!==0,be||p){if(p=Wt,p!==null&&(o=_o(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,wr(e,o),un(p,e,o),Vf;vd(T)||ac(),n=zf(e,n,r)}else vd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ee=Un(T.nextSibling),je=n,Vt=!0,vs=null,Mn=!1,e!==null&&jg(n,e),n=Pf(n,o.children),n.flags|=4096);return n}return h?(Cs(),T=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=ki(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=ki(z,T):(T=Cr(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Zo(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Lf(r):(h=T.cachePool,h!==null?(R=Ee._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Kg(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=Bf(e,p,r),n.memoizedState=kf,Zo(e.child,o)):(ws(n),r=e.child,e=r.sibling,r=ki(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Pf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function zf(e,n,r){return Mr(n,e.child,null,r),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ay(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),tf(e.return,n,r)}function jf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function oy(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=de.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,nt(de,p),He(e,n,o,r),o=Vt?Bo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,r,n);else if(e.tag===19)ay(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Pu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),jf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}jf(n,!0,r,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function qi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ns|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ea(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=ki(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=ki(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function VA(e,n,r){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),Es(n,Ee,e.memoizedState.cache),Rr();break;case 27:case 5:or(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:Es(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ws(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ry(e,n,r):(ws(n),e=qi(e,n,r),e!==null?e.sibling:null);ws(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ea(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return oy(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(de,de.current),o)break;return null;case 22:return n.lanes=0,Wp(e,n,r,n.pendingProps);case 24:Es(n,Ee,e.memoizedState.cache)}return qi(e,n,r)}function ly(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!qf(e,r)&&(n.flags&128)===0)return be=!1,VA(e,n,r);be=(e.flags&131072)!==0}else be=!1,Vt&&(n.flags&1048576)!==0&&zg(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=xr(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=Ur(e,o),n.tag=1,n=iy(null,n,e,o,r)):(n.tag=0,n=Uf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Ct){n.tag=11,n=$p(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Zp(null,n,e,o,r);break t}}throw n=se(e)||e,Error(a(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ur(o,n.pendingProps),iy(e,n,o,h,r);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),Qo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Es(n,Ee,o),o!==f.cache&&ef(n,[Ee],r,!0),Go(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sy(e,n,o,r);break t}else if(o!==h){h=Dn(Error(a(424)),n),Po(h),n=sy(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=Un(e.firstChild),je=n,Vt=!0,vs=null,Mn=!0,r=Wg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Rr(),o===h){n=qi(e,n,r);break t}He(e,n,o,r)}n=n.child}return n;case 26:return $u(e,n),e===null?(r=v_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,e=n.pendingProps,o=dc(St.current).createElement(r),o[_e]=n,o[Ue]=e,Fe(o,r,e),ve(o),n.stateNode=o):n.memoizedState=v_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return or(n),e===null&&Vt&&(o=n.stateNode=p_(n.type,n.pendingProps,St.current),je=n,Mn=!0,h=ee,Vs(n.type)?(Ed=h,ee=Un(o.firstChild)):ee=h),He(e,n,n.pendingProps.children,r),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=ee)&&(o=c1(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,je=n,ee=Un(o.firstChild),Mn=!1,h=!0):h=!1),h||Ts(n)),or(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,wA,null,null,r),fl._currentValue=h),$u(e,n),He(e,n,o,r),n.child;case 6:return e===null&&Vt&&((e=r=ee)&&(r=h1(r,n.pendingProps,Mn),r!==null?(n.stateNode=r,je=n,ee=null,e=!0):e=!1),e||Ts(n)),null;case 13:return ry(e,n,r);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Mr(n,null,o,r):He(e,n,o,r),n.child;case 11:return $p(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Es(n,n.type,o.value),He(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Nr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,r),n.child;case 14:return Zp(e,n,n.type,n.pendingProps,r);case 15:return Jp(e,n,n.type,n.pendingProps,r);case 19:return oy(e,n,r);case 31:return MA(e,n,r);case 22:return Wp(e,n,r,n.pendingProps);case 24:return Nr(n),o=qe(Ee),e===null?(h=rf(),h===null&&(h=Wt,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},of(n),Es(n,Ee,h)):((e.lanes&r)!==0&&(lf(e,n),Qo(n,null,null,r),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Es(n,Ee,o)):(o=f.cache,Es(n,Ee,o),o!==h.cache&&ef(n,[Ee],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Hi(e){e.flags|=4}function Hf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Uy())e.flags|=8192;else throw Or=Uu,af}else e.flags&=-16777217}function uy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(Uy())e.flags|=8192;else throw Or=Uu,af}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Ma|=n)}function Jo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function UA(e,n,r){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Ee),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(ne(n),uy(n,f)):(ne(n),Hf(n,h,null,o,r))):f?f!==e.memoizedState?(Hi(n),ne(n),uy(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Hi(n),ne(n),Hf(n,h,e,o,r)),null;case 27:if(Jr(n),r=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=at.current,Ta(n)?qg(n):(e=p_(h,o,r),n.stateNode=e,Hi(n))}return ne(n),null;case 5:if(Jr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=at.current,Ta(n))qg(n);else{var p=dc(St.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[_e]=n,f[Ue]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Hi(n)}}return ne(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,Ta(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||r_(e.nodeValue,r)),e||Ts(n,!0)}else e=dc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ne(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else r=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),ne(n),null);case 4:return re(),e===null&&hd(n.stateNode.containerInfo),ne(n),null;case 10:return Pi(n.type),ne(n),null;case 19:if($(de),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Lg(r,e),r=r.sibling;return nt(de,de.current&1|2),Vt&&Li(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>ic&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ne(n),null}else 2*We()-o.renderingStartTime>ic&&r!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,r=de.current,nt(de,h?r&1|2:r&1),Vt&&Li(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return _n(n),ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&$(Dr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Pi(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function kA(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Jr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(de),null;case 4:return re(),null;case 10:return Pi(n.type),null;case 22:case 23:return _n(n),ff(),e!==null&&$(Dr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Ee),null;case 25:return null;default:return null}}function cy(e,n){switch($h(n),n.tag){case 3:Pi(Ee),re();break;case 26:case 27:case 5:Jr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:$(de);break;case 10:Pi(n.type);break;case 22:case 23:_n(n),ff(),e!==null&&$(Dr);break;case 24:Pi(Ee)}}function Wo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(T){Yt(n,n.return,T)}}function Rs(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var R=r,z=T;try{z()}catch(G){Yt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Yt(n,n.return,G)}}function hy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{ep(n,r)}catch(o){Yt(e,e.return,o)}}}function fy(e,n,r){r.props=Ur(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Yt(e,n,o)}}function tl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Yt(e,n,h)}}function Ai(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(e,n,h)}else r.current=null}function dy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Yt(e,e.return,h)}}function Ff(e,n,r){try{var o=e.stateNode;s1(o,e.type,r,n),o[Ue]=n}catch(h){Yt(e,e.return,h)}}function my(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||my(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&Vs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,r),e=e.sibling;e!==null;)Qf(e,n,r),e=e.sibling}function Wu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Vs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Wu(e,n,r),e=e.sibling;e!==null;)Wu(e,n,r),e=e.sibling}function gy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,r),n[_e]=e,n[Ue]=r}catch(f){Yt(e,e.return,f)}}var Fi=!1,Se=!1,Kf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Le=null;function LA(e,n){if(e=e.containerInfo,md=Tc,e=Ig(e),Ph(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,T=-1,R=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var F;Y!==r||h!==0&&Y.nodeType!==3||(T=p+h),Y!==f||o!==0&&Y.nodeType!==3||(R=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(F=Y.firstChild)!==null;)j=Y,Y=F;for(;;){if(Y===e)break e;if(j===r&&++z===h&&(T=p),j===f&&++G===o&&(R=p),(F=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=F}r=T===-1||R===-1?null:{start:T,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:e,selectionRange:r},Tc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ot=Ur(r.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Yt(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)_d(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function yy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Qi(e,r),o&4&&Wo(5,r);break;case 1:if(Qi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(r,r.return,p)}else{var h=Ur(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(r,r.return,p)}}o&64&&hy(r),o&512&&tl(r,r.return);break;case 3:if(Qi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ep(e,n)}catch(p){Yt(r,r.return,p)}}break;case 27:n===null&&o&4&&gy(r);case 26:case 5:Qi(e,r),n===null&&o&4&&dy(r),o&512&&tl(r,r.return);break;case 12:Qi(e,r);break;case 31:Qi(e,r),o&4&&Ty(e,r);break;case 13:Qi(e,r),o&4&&Ey(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=QA.bind(null,r),f1(e,r))));break;case 22:if(o=r.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Se,h=Fi;var f=Se;Fi=o,(Se=n)&&!f?Ki(e,r,(r.subtreeFlags&8772)!==0):Qi(e,r),Fi=h,Se=f}break;case 30:break;default:Qi(e,r)}}function _y(e){var n=e.alternate;n!==null&&(e.alternate=null,_y(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,rn=!1;function Gi(e,n,r){for(r=r.child;r!==null;)vy(e,n,r),r=r.sibling}function vy(e,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(zn,r)}catch{}switch(r.tag){case 26:Se||Ai(r,n),Gi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||Ai(r,n);var o=oe,h=rn;Vs(r.type)&&(oe=r.stateNode,rn=!1),Gi(e,n,r),ul(r.stateNode),oe=o,rn=h;break;case 5:Se||Ai(r,n);case 6:if(o=oe,h=rn,oe=null,Gi(e,n,r),oe=o,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:oe!==null&&(rn?(e=oe,h_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ja(e)):h_(oe,r.stateNode));break;case 4:o=oe,h=rn,oe=r.stateNode.containerInfo,rn=!0,Gi(e,n,r),oe=o,rn=h;break;case 0:case 11:case 14:case 15:Rs(2,r,n),Se||Rs(4,r,n),Gi(e,n,r);break;case 1:Se||(Ai(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&fy(r,n,o)),Gi(e,n,r);break;case 21:Gi(e,n,r);break;case 22:Se=(o=Se)||r.memoizedState!==null,Gi(e,n,r),Se=o;break;default:Gi(e,n,r)}}function Ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(r){Yt(n,n.return,r)}}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(r){Yt(n,n.return,r)}}function BA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new py),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new py),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var r=BA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=KA.bind(null,e,o);o.then(h,h)}})}function an(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(Vs(T.type)){oe=T.stateNode,rn=!1;break t}break;case 5:oe=T.stateNode,rn=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(oe===null)throw Error(a(160));vy(f,p,h),oe=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ay(n,e),n=n.sibling}var $n=null;function Ay(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Rs(3,e,e.return),Wo(3,e),Rs(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Se||r===null||Ai(r,r.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=$n;if(an(n,e),on(e),o&512&&(Se||r===null||Ai(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,r),f[_e]=e,ve(f),o=f;break t;case"link":var p=A_("link","href",h).get(o+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;case"meta":if(p=A_("meta","content",h).get(o+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else b_(h,e.type,e.stateNode);else e.stateNode=E_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?b_(h,e.type,e.stateNode):E_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,r.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Se||r===null||Ai(r,r.return)),r!==null&&o&4&&Ff(e,e.memoizedProps,r.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Se||r===null||Ai(r,r.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ot){Yt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Kf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ot){Yt(e,e.return,ot)}}break;case 3:if(pc=null,h=$n,$n=mc(n.containerInfo),an(n,e),$n=h,on(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(ot){Yt(e,e.return,ot)}Kf&&(Kf=!1,by(e));break;case 4:o=$n,$n=mc(e.stateNode.containerInfo),an(n,e),on(e),$n=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=Fi,G=Se;if(Fi=z||h,Se=G||R,an(n,e),Se=G,Fi=z,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Fi||Se||kr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Yt(R,R.return,ot)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Yt(R,R.return,ot)}}}else if(n.tag===18){if(r===null){R=n;try{var F=R.stateNode;h?f_(F,!0):f_(R.stateNode,!1)}catch(ot){Yt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,tc(e,r))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(my(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Gf(e);Wu(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(sn(p,""),r.flags&=-33);var T=Gf(e);Wu(e,T,p);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Gf(e);Qf(e,z,R);break;default:throw Error(a(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function by(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(e,n.alternate,n),n=n.sibling}function kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),kr(n);break;case 1:Ai(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&fy(n,n.return,r),kr(n);break;case 27:ul(n.stateNode);case 26:case 5:Ai(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}e=e.sibling}}function Ki(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,r),Wo(4,f);break;case 1:if(Ki(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)tp(R[h],T)}catch(z){Yt(o,o.return,z)}}r&&p&64&&hy(f),tl(f,f.return);break;case 27:gy(f);case 26:case 5:Ki(h,f,r),r&&o===null&&p&4&&dy(f),tl(f,f.return);break;case 12:Ki(h,f,r);break;case 31:Ki(h,f,r),r&&p&4&&Ty(h,f);break;case 13:Ki(h,f,r),r&&p&4&&Ey(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,r),tl(f,f.return);break;case 30:break;default:Ki(h,f,r)}n=n.sibling}}function Yf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&zo(r))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Zn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,r,o),n=n.sibling}function Sy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,r,o),h&2048&&Wo(9,n);break;case 1:Zn(e,n,r,o);break;case 3:Zn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Zn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else Zn(e,n,r,o);break;case 31:Zn(e,n,r,o);break;case 13:Zn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,r,o):el(e,n):f._visibility&2?Zn(e,n,r,o):(f._visibility|=2,Da(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(p,n);break;case 24:Zn(e,n,r,o),h&2048&&Xf(n.alternate,n);break;default:Zn(e,n,r,o)}}function Da(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=r,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Da(f,p,T,R,h),Wo(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Da(f,p,T,R,h):el(f,p):(G._visibility|=2,Da(f,p,T,R,h)),h&&z&2048&&Yf(p.alternate,p);break;case 24:Da(f,p,T,R,h),h&&z&2048&&Xf(p.alternate,p);break;default:Da(f,p,T,R,h)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:el(r,o),h&2048&&Yf(o.alternate,o);break;case 24:el(r,o),h&2048&&Xf(o.alternate,o);break;default:el(r,o)}n=n.sibling}}var nl=8192;function xa(e,n,r){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)wy(e,n,r),e=e.sibling}function wy(e,n,r){switch(e.tag){case 26:xa(e,n,r),e.flags&nl&&e.memoizedState!==null&&S1(r,$n,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,r);break;case 3:case 4:var o=$n;$n=mc(e.stateNode.containerInfo),xa(e,n,r),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,xa(e,n,r),nl=o):xa(e,n,r));break;default:xa(e,n,r)}}function Cy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,Iy(o,e)}Cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Rs(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):il(e);break;default:il(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,Iy(o,e)}Cy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Iy(e,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:Rs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Le=o;else t:for(r=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(_y(o),o===r){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var PA={getCacheForType:function(e){var n=qe(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(Ee).controller.signal}},zA=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Rt=null,Nt=0,Kt=0,vn=null,Is=!1,Oa=!1,$f=!1,Yi=0,ce=0,Ns=0,Lr=0,Zf=0,Tn=0,Ma=0,sl=null,ln=null,Jf=!1,nc=0,Ny=0,ic=1/0,sc=null,Ds=null,Oe=0,xs=null,Va=null,Xi=0,Wf=0,td=null,Dy=null,rl=0,ed=null;function En(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:Q.T!==null?od():ru()}function xy(){if(Tn===0)if((Nt&536870912)===0||Vt){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Tn=e}else Tn=536870912;return e=yn.current,e!==null&&(e.flags|=32),Tn}function un(e,n,r){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),Os(e,Nt,Tn,!1)),hr(e,r),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(Lr|=r),ce===4&&Os(e,Nt,Tn,!1)),bi(e))}function Oy(e,n,r){if((qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=o?HA(e,n):id(e,n,!0),f=o;do{if(h===0){Oa&&!o&&Os(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!jA(r)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=sl;var R=T.current.memoizedState.isDehydrated;if(R&&(Ua(T,p).flags|=256),p=id(T,p,!1),p!==2){if($f&&!R){T.errorRecoveryDisabledLanes|=f,Lr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ua(e,0),Os(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Os(o,n,Tn,!Is);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-We(),10<h)){if(Os(o,n,Tn,!Is),ri(o,0,!0)!==0)break t;Xi=n,o.timeoutHandle=u_(My.bind(null,o,r,ln,sc,Jf,n,Tn,Lr,Ma,Is,f,"Throttled",-0,0),h);break t}My(o,r,ln,sc,Jf,n,Tn,Lr,Ma,Is,f,null,-0,0)}}break}while(!0);bi(e)}function My(e,n,r,o,h,f,p,T,R,z,G,Y,j,F){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},wy(n,f,Y);var ot=(f&62914560)===f?nc-We():(f&4194048)===f?Ny-We():0;if(ot=w1(Y,ot),ot!==null){Xi=f,e.cancelPendingCommit=ot(jy.bind(null,e,n,f,r,o,h,p,T,R,G,Y,null,j,F)),Os(e,f,p,!z);return}}jy(e,n,f,r,o,h,p,T,R)}function jA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Os(e,n,r,o){n&=~Zf,n&=~Lr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&fr(e,r,n)}function rc(){return(qt&6)===0?(al(0),!1):!0}function nd(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,Bi=Ir=null,_f(e),wa=null,qo=0,e=Rt;for(;e!==null;)cy(e.alternate,e),e=e.return;Rt=null}}function Ua(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,o1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Xi=0,nd(),Wt=e,Rt=r=ki(e.current,null),Nt=n,Kt=0,vn=null,Is=!1,Oa=jn(e,n),$f=!1,Ma=Tn=Zf=Lr=Ns=ce=0,ln=sl=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Yi=n,Cu(),r}function Vy(e,n){bt=null,Q.H=$o,n===Sa||n===Vu?(n=$g(),Kt=3):n===af?(n=$g(),Kt=4):Kt=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Rt===null&&(ce=1,Yu(e,Dn(n,e.current)))}function Uy(){var e=yn.current;return e===null?!0:(Nt&4194048)===Nt?Vn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Vn:!1}function ky(){var e=Q.H;return Q.H=$o,e===null?$o:e}function Ly(){var e=Q.A;return Q.A=PA,e}function ac(){ce=4,Is||(Nt&4194048)!==Nt&&yn.current!==null||(Oa=!0),(Ns&134217727)===0&&(Lr&134217727)===0||Wt===null||Os(Wt,Nt,Tn,!1)}function id(e,n,r){var o=qt;qt|=2;var h=ky(),f=Ly();(Wt!==e||Nt!==n)&&(sc=null,Ua(e,n)),n=!1;var p=ce;t:do try{if(Kt!==0&&Rt!==null){var T=Rt,R=vn;switch(Kt){case 8:nd(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Kt;if(Kt=0,vn=null,ka(e,T,R,z),r&&Oa){p=0;break t}break;default:z=Kt,Kt=0,vn=null,ka(e,T,R,z)}}qA(),p=ce;break}catch(G){Vy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Bi=Ir=null,qt=o,Q.H=h,Q.A=f,Rt===null&&(Wt=null,Nt=0,Cu()),p}function qA(){for(;Rt!==null;)By(Rt)}function HA(e,n){var r=qt;qt|=2;var o=ky(),h=Ly();Wt!==e||Nt!==n?(sc=null,ic=We()+500,Ua(e,n)):Oa=jn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=vn;e:switch(Kt){case 1:Kt=0,vn=null,ka(e,n,f,1);break;case 2:case 9:if(Yg(f)){Kt=0,vn=null,Py(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),bi(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Yg(f)?(Kt=0,vn=null,Py(n)):(Kt=0,vn=null,ka(e,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var T=Rt;if(p?S_(p):T.stateNode.complete){Kt=0,vn=null;var R=T.sibling;if(R!==null)Rt=R;else{var z=T.return;z!==null?(Rt=z,oc(z)):Rt=null}break e}}Kt=0,vn=null,ka(e,n,f,5);break;case 6:Kt=0,vn=null,ka(e,n,f,6);break;case 8:nd(),ce=6;break t;default:throw Error(a(462))}}FA();break}catch(G){Vy(e,G)}while(!0);return Bi=Ir=null,Q.H=o,Q.A=h,qt=r,Rt!==null?0:(Wt=null,Nt=0,Cu(),ce)}function FA(){for(;Rt!==null&&!Oh();)By(Rt)}function By(e){var n=ly(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?oc(e):Rt=n}function Py(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=ny(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=ny(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:_f(n);default:cy(r,n),n=Rt=Lg(n,Yi),n=ly(r,n,Yi)}e.memoizedProps=e.pendingProps,n===null?oc(e):Rt=n}function ka(e,n,r,o){Bi=Ir=null,_f(n),wa=null,qo=0;var h=n.return;try{if(OA(e,h,n,r,Nt)){ce=1,Yu(e,Dn(r,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ce=1,Yu(e,Dn(r,e.current)),Rt=null;return}n.flags&32768?(Vt||o===1?e=!0:Oa||(Nt&536870912)!==0?e=!1:(Is=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){zy(n,Is);return}e=n.return;var r=UA(n.alternate,n,Yi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function zy(e,n){do{var r=kA(e.alternate,e);if(r!==null){r.flags&=32767,Rt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=r}while(e!==null);ce=6,Rt=null}function jy(e,n,r,o,h,f,p,T,R){e.cancelPendingCommit=null;do lc();while(Oe!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,Uh(e,r,f,p,T,R),e===Wt&&(Rt=Wt=null,Nt=0),Va=n,xs=e,Xi=r,Wf=f,td=h,Dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YA(ls,function(){return Qy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=et.p,et.p=2,p=qt,qt|=4;try{LA(e,n,r)}finally{qt=p,et.p=h,Q.T=o}}Oe=1,qy(),Hy(),Fy()}}function qy(){if(Oe===1){Oe=0;var e=xs,n=Va,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{Ay(n,e);var f=gd,p=Ig(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Rg(T.ownerDocument.documentElement,T)){if(R!==null&&Ph(T)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var Y=T.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var F=j.getSelection(),ot=T.textContent.length,mt=Math.min(R.start,ot),Jt=R.end===void 0?mt:Math.min(R.end,ot);!F.extend&&mt>Jt&&(p=Jt,Jt=mt,mt=p);var V=Cg(T,mt),D=Cg(T,Jt);if(V&&D&&(F.rangeCount!==1||F.anchorNode!==V.node||F.anchorOffset!==V.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var B=Y.createRange();B.setStart(V.node,V.offset),F.removeAllRanges(),mt>Jt?(F.addRange(B),F.extend(D.node,D.offset)):(B.setEnd(D.node,D.offset),F.addRange(B))}}}}for(Y=[],F=T;F=F.parentNode;)F.nodeType===1&&Y.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var K=Y[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!md,gd=md=null}finally{qt=h,et.p=o,Q.T=r}}e.current=n,Oe=2}}function Hy(){if(Oe===2){Oe=0;var e=xs,n=Va,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Q.T,Q.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{yy(e,n.alternate,n)}finally{qt=h,et.p=o,Q.T=r}}Oe=3}}function Fy(){if(Oe===4||Oe===3){Oe=0,Jl();var e=xs,n=Va,r=Xi,o=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Va=xs=null,Gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ds=null),Oi(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=et.p,et.p=2,Q.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{Q.T=n,et.p=h}}(Xi&3)!==0&&lc(),bi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===ed?rl++:(rl=0,ed=e):rl=0,al(0)}}function Gy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function lc(){return qy(),Hy(),Fy(),Qy()}function Qy(){if(Oe!==5)return!1;var e=xs,n=Wf;Wf=0;var r=Oi(Xi),o=Q.T,h=et.p;try{et.p=32>r?32:r,Q.T=null,r=td,td=null;var f=xs,p=Xi;if(Oe=0,Va=xs=null,Xi=0,(qt&6)!==0)throw Error(a(331));var T=qt;if(qt|=4,Ry(f.current),Sy(f,f.current,p,r),qt=T,al(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{et.p=h,Q.T=o,Gy(e,n)}}function Ky(e,n,r){n=Dn(r,n),n=Mf(e.stateNode,n,2),e=Ss(e,n,2),e!==null&&(hr(e,2),bi(e))}function Yt(e,n,r){if(e.tag===3)Ky(e,e,r);else for(;n!==null;){if(n.tag===3){Ky(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ds===null||!Ds.has(o))){e=Dn(r,e),r=Yp(2),o=Ss(n,r,2),o!==null&&(Xp(r,o,n,e),hr(o,2),bi(o));break}}n=n.return}}function sd(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new zA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||($f=!0,h.add(r),e=GA.bind(null,e,n,r),n.then(e,e))}function GA(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(Nt&r)===r&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>We()-nc?(qt&2)===0&&Ua(e,0):Zf|=r,Ma===Nt&&(Ma=0)),bi(e)}function Yy(e,n){n===0&&(n=su()),e=wr(e,n),e!==null&&(hr(e,n),bi(e))}function QA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Yy(e,r)}function KA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Yy(e,r)}function YA(e,n){return xe(e,n)}var uc=null,La=null,rd=!1,cc=!1,ad=!1,Ms=0;function bi(e){e!==La&&e.next===null&&(La===null?uc=La=e:La=La.next=e),cc=!0,rd||(rd=!0,$A())}function al(e,n){if(!ad&&cc){ad=!0;do for(var r=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Jy(o,f))}else f=Nt,f=ri(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(r=!0,Jy(o,f));o=o.next}while(r);ad=!1}}function XA(){Xy()}function Xy(){cc=rd=!1;var e=0;Ms!==0&&a1()&&(e=Ms);for(var n=We(),r=null,o=uc;o!==null;){var h=o.next,f=$y(o,n);f===0?(o.next=null,r===null?uc=h:r.next=h,h===null&&(La=r)):(r=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}Oe!==0&&Oe!==5||al(e),Ms!==0&&(Ms=0)}function $y(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-he(f),T=1<<p,R=h[p];R===-1?((T&r)===0||(T&o)!==0)&&(h[p]=Vh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=Wt,r=Nt,r=ri(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&os(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||jn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&os(o),Oi(r)){case 2:case 8:r=po;break;case 32:r=ls;break;case 268435456:r=Wl;break;default:r=ls}return o=Zy.bind(null,e),r=xe(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&os(o),e.callbackPriority=2,e.callbackNode=null,2}function Zy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var o=Nt;return o=ri(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Oy(e,o,n),$y(e,We()),e.callbackNode!=null&&e.callbackNode===r?Zy.bind(null,e):null)}function Jy(e,n){if(lc())return null;Oy(e,n,!0)}function $A(){l1(function(){(qt&6)!==0?xe(go,XA):Xy()})}function od(){if(Ms===0){var e=Aa;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Ms=e}return Ms}function Wy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function t_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function ZA(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Wy((h[Ue]||null).action),p=o.submitter;p&&(n=(n=p[Ue]||null)?Wy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new pi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ms!==0){var R=p?t_(h,p):new FormData(h);Rf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=p?t_(h,p):new FormData(h),Rf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var ud=Hh[ld],JA=ud.toLowerCase(),WA=ud[0].toUpperCase()+ud.slice(1);Xn(JA,"on"+WA)}Xn(xg,"onAnimationEnd"),Xn(Og,"onAnimationIteration"),Xn(Mg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(gA,"onTransitionRun"),Xn(pA,"onTransitionStart"),Xn(yA,"onTransitionCancel"),Xn(Vg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function e_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(T=o[p],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=R}}}}function It(e,n){var r=n[na];r===void 0&&(r=n[na]=new Set);var o=e+"__bubble";r.has(o)||(n_(n,e,2,!1),r.add(o))}function cd(e,n,r){var o=0;n&&(o|=4),n_(r,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[hc]){e[hc]=!0,vo.forEach(function(r){r!=="selectionchange"&&(t1.has(r)||cd(r,!1,e),cd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,cd("selectionchange",!1,n))}}function n_(e,n,r,o){switch(x_(n)){case 2:var h=I1;break;case 8:h=N1;break;default:h=Cd}r=h.bind(null,n,r,e),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function fd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=ui(T),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}T=T.parentNode}}o=o.return}ms(function(){var z=f,G=Cn(r),Y=[];t:{var j=Ug.get(e);if(j!==void 0){var F=pi,ot=e;switch(e){case"keypress":if(vr(r)===0)break t;case"keydown":case"keyup":F=Au;break;case"focusin":ot="focus",F=Er;break;case"focusout":ot="blur",F=Er;break;case"beforeblur":case"afterblur":F=Er;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case xg:case Og:case Mg:F=gu;break;case Vg:F=A;break;case"scroll":case"scrollend":F=xo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ui;break;case"toggle":case"beforetoggle":F=At}var mt=(n&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),V=mt?j!==null?j+"Capture":null:j;mt=[];for(var D=z,B;D!==null;){var K=D;if(B=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||B===null||V===null||(K=Gn(D,V),K!=null&&mt.push(ll(D,K,B))),Jt)break;D=D.return}0<mt.length&&(j=new F(j,ot,null,r,G),Y.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",j&&r!==Io&&(ot=r.relatedTarget||r.fromElement)&&(ui(ot)||ot[oi]))break t;if((F||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ot=r.relatedTarget||r.toElement,F=z,ot=ot?ui(ot):null,ot!==null&&(Jt=c(ot),mt=ot.tag,ot!==Jt||mt!==5&&mt!==27&&mt!==6)&&(ot=null)):(F=null,ot=z),F!==ot)){if(mt=Oo,K="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Ui,K="onPointerLeave",V="onPointerEnter",D="pointer"),Jt=F==null?j:dn(F),B=ot==null?j:dn(ot),j=new mt(K,D+"leave",F,r,G),j.target=Jt,j.relatedTarget=B,K=null,ui(G)===z&&(mt=new mt(V,D+"enter",ot,r,G),mt.target=B,mt.relatedTarget=Jt,K=mt),Jt=K,F&&ot)e:{for(mt=e1,V=F,D=ot,B=0,K=V;K;K=mt(K))B++;K=0;for(var ht=D;ht;ht=mt(ht))K++;for(;0<B-K;)V=mt(V),B--;for(;0<K-B;)D=mt(D),K--;for(;B--;){if(V===D||D!==null&&V===D.alternate){mt=V;break e}V=mt(V),D=mt(D)}mt=null}else mt=null;F!==null&&i_(Y,j,F,mt,!1),ot!==null&&Jt!==null&&i_(Y,Jt,ot,mt,!0)}}t:{if(j=z?dn(z):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var Pt=Tg;else if(_g(j))if(Eg)Pt=fA;else{Pt=cA;var ut=uA}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&aa(z.elementType)&&(Pt=Tg):Pt=hA;if(Pt&&(Pt=Pt(e,z))){vg(Y,Pt,r,G);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&wo(j,"number",j.value)}switch(ut=z?dn(z):window,e){case"focusin":(_g(ut)||ut.contentEditable==="true")&&(ma=ut,zh=z,Lo=null);break;case"focusout":Lo=zh=ma=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Ng(Y,r,G);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":Ng(Y,r,G)}var wt;if(jt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else da?Ar(e,r)&&(Dt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Dt="onCompositionStart");Dt&&(vi&&r.locale!=="ko"&&(da||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&da&&(wt=Do()):(gi=G,No="value"in gi?gi.value:gi.textContent,da=!0)),ut=fc(z,Dt),0<ut.length&&(Dt=new _i(Dt,e,null,r,G),Y.push({event:Dt,listeners:ut}),wt?Dt.data=wt:(wt=fa(r),wt!==null&&(Dt.data=wt)))),(wt=In?rA(e,r):aA(e,r))&&(Dt=fc(z,"onBeforeInput"),0<Dt.length&&(ut=new _i("onBeforeInput","beforeinput",null,r,G),Y.push({event:ut,listeners:Dt}),ut.data=wt)),ZA(Y,e,z,r,G)}e_(Y,n)})}function ll(e,n,r){return{instance:e,listener:n,currentTarget:r}}function fc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,r),h!=null&&o.unshift(ll(e,h,f)),h=Gn(e,n),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function e1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function i_(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var T=r,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=Gn(r,f),z!=null&&p.unshift(ll(r,z,R))):h||(z=Gn(r,f),z!=null&&p.push(ll(r,z,R)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var n1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function s_(e){return(typeof e=="string"?e:""+e).replace(n1,`
`).replace(i1,"")}function r_(e,n){return n=s_(n),s_(e)===n}function Zt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,r,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":It("beforetoggle",e),It("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,sa(e,r,o))}}function dd(e,n,r,o,h,f){switch(r){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ue]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):sa(e,r,o)}}}function Fe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,p,r,null)}}h&&Zt(e,n,"srcSet",r.srcSet,r,null),o&&Zt(e,n,"src",r.src,r,null);return;case"input":It("invalid",e);var T=f=p=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Zt(e,n,o,G,r,null)}}uu(e,f,T,R,z,p,h,!1);return;case"select":It("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:Zt(e,n,h,T,r,null)}n=f,r=p,e.multiple=!!o,n!=null?cs(e,!!o,n,!1):r!=null&&cs(e,!!o,r,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Zt(e,n,p,T,r,null)}hs(e,o,h,f);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,R,o,r,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)It(ol[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,z,o,r,null)}return;default:if(aa(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&dd(e,n,G,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&Zt(e,n,T,o,r,null))}function s1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,R=null,z=null,G=null;for(F in r){var Y=r[F];if(r.hasOwnProperty(F)&&Y!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(F)||Zt(e,n,F,null,o,Y)}}for(var j in o){var F=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(F!=null||Y!=null))switch(j){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":G=F;break;case"value":p=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==Y&&Zt(e,n,j,F,o,Y)}}ra(e,p,T,R,z,G,f,h);return;case"select":F=p=T=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":F=R;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==R&&Zt(e,n,h,f,o,R)}n=T,r=p,o=F,j!=null?cs(e,!!r,j,!1):!!o!=!!r&&(n!=null?cs(e,!!r,n,!0):cs(e,!!r,r?[]:"",!1));return;case"textarea":F=j=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,p,h,o,f)}cu(e,j,F);return;case"option":for(var ot in r)if(j=r[ot],r.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:Zt(e,n,ot,null,o,j)}for(R in o)if(j=o[R],F=r[R],o.hasOwnProperty(R)&&j!==F&&(j!=null||F!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Zt(e,n,R,j,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)j=r[mt],r.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&Zt(e,n,mt,null,o,j);for(z in o)if(j=o[z],F=r[z],o.hasOwnProperty(z)&&j!==F&&(j!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Zt(e,n,z,j,o,F)}return;default:if(aa(n)){for(var Jt in r)j=r[Jt],r.hasOwnProperty(Jt)&&j!==void 0&&!o.hasOwnProperty(Jt)&&dd(e,n,Jt,void 0,o,j);for(G in o)j=o[G],F=r[G],!o.hasOwnProperty(G)||j===F||j===void 0&&F===void 0||dd(e,n,G,j,o,F);return}}for(var V in r)j=r[V],r.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&Zt(e,n,V,null,o,j);for(Y in o)j=o[Y],F=r[Y],!o.hasOwnProperty(Y)||j===F||j==null&&F==null||Zt(e,n,Y,j,o,F)}function a_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function r1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&a_(p)){for(p=0,T=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>T)break;var G=R.transferSize,Y=R.initiatorType;G&&a_(Y)&&(R=R.responseEnd,p+=G*(R<T?1:(T-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,gd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function o_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function a1(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(e){return c_.resolve(null).then(e).catch(u1)}:u_;function u1(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function h_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),ja(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ul(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ul(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[li]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&ul(e.ownerDocument.body);r=h}while(r);ja(n)}function f_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":_d(r),ia(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function c1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function h1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Un(e.nextSibling),e===null))return null;return e}function d_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function f1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function m_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Un(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function g_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function p_(e,n,r){switch(n=dc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var kn=new Map,y_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=et.d;et.d={f:d1,r:m1,D:g1,C:p1,L:y1,m:_1,X:T1,S:v1,M:E1};function d1(){var e=$i.f(),n=rc();return e||n}function m1(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?Vp(n):$i.r(e)}var Ba=typeof document>"u"?null:document;function __(e,n,r){var o=Ba;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),y_.has(h)||(y_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),ve(n),o.head.appendChild(n)))}}function g1(e){$i.D(e),__("dns-prefetch",e,null)}function p1(e,n){$i.C(e,n),__("preconnect",e,n)}function y1(e,n,r){$i.L(e,n,r);var o=Ba;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=za(e)}kn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),Fe(n,"link",e),ve(n),o.head.appendChild(n)))}}function _1(e,n){$i.m(e,n);var r=Ba;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!kn.has(f)&&(e=b({rel:"modulepreload",href:e},n),kn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hl(f)))return}o=r.createElement("link"),Fe(o,"link",e),ve(o),r.head.appendChild(o)}}}function v1(e,n,r){$i.S(e,n,r);var o=Ba;if(o&&e){var h=ci(o).hoistableStyles,f=Pa(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(cl(f)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=kn.get(f))&&Ad(e,r);var R=p=o.createElement("link");ve(R),Fe(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function T1(e,n){$i.X(e,n);var r=Ba;if(r&&e){var o=ci(r).hoistableScripts,h=za(e),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(e=b({src:e,async:!0},n),(n=kn.get(h))&&bd(e,n),f=r.createElement("script"),ve(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function E1(e,n){$i.M(e,n);var r=Ba;if(r&&e){var o=ci(r).hoistableScripts,h=za(e),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&bd(e,n),f=r.createElement("script"),ve(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function v_(e,n,r,o){var h=(h=St.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Pa(r.href),r=ci(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Pa(r.href);var f=ci(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(cl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},kn.set(e,r),f||A1(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(r),r=ci(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pa(e){return'href="'+nn(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function T_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function A1(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",r),ve(n),e.head.appendChild(n))}function za(e){return'[src="'+nn(e)+'"]'}function hl(e){return"script[async]"+e}function E_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(r.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),Fe(o,"style",h),gc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Pa(r.href);var f=e.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=T_(r),(h=kn.get(h))&&Ad(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var p=f;return p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Fe(f,"link",o),n.state.loading|=4,gc(f,r.precedence,e),n.instance=f;case"script":return f=za(r.src),(h=e.querySelector(hl(f)))?(n.instance=h,ve(h),h):(o=r,(h=kn.get(f))&&(o=b({},r),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,r.precedence,e));return n.instance}function gc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function A_(e,n,r){if(pc===null){var o=new Map,h=pc=new Map;h.set(r,o)}else h=pc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[li]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function b_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function b1(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function S1(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Pa(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ve(f);return}f=n.ownerDocument||n,o=T_(o),(h=kn.get(h))&&Ad(o,h),f=f.createElement("link"),ve(f);var p=f;p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Fe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=yc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Sd=0;function w1(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*r1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(C1,e),_c=null,yc.call(e))}function C1(e,n){if(!(n.state.loading&4)){var r=_c.get(e);if(r)var o=r.get(null);else{r=new Map,_c.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function R1(e,n,r,o,h,f,p,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function w_(e,n,r,o,h,f,p,T,R,z,G,Y){return e=new R1(e,n,r,p,R,z,G,Y,T),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},of(f),e}function C_(e){return e?(e=ya,e):ya}function R_(e,n,r,o,h,f){h=C_(h),o.context===null?o.context=h:o.pendingContext=h,o=bs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ss(e,o,n),r!==null&&(un(r,e,n),Fo(r,e,n))}function I_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function wd(e,n){I_(e,n),(e=e.alternate)&&I_(e,n)}function N_(e){if(e.tag===13||e.tag===31){var n=wr(e,67108864);n!==null&&un(n,e,67108864),wd(e,67108864)}}function D_(e){if(e.tag===13||e.tag===31){var n=En();n=dr(n);var r=wr(e,n);r!==null&&un(r,e,n),wd(e,n)}}var Tc=!0;function I1(e,n,r,o){var h=Q.T;Q.T=null;var f=et.p;try{et.p=2,Cd(e,n,r,o)}finally{et.p=f,Q.T=h}}function N1(e,n,r,o){var h=Q.T;Q.T=null;var f=et.p;try{et.p=8,Cd(e,n,r,o)}finally{et.p=f,Q.T=h}}function Cd(e,n,r,o){if(Tc){var h=Rd(o);if(h===null)fd(e,n,o,Ec,r),O_(e,o);else if(x1(h,e,n,r,o))o.stopPropagation();else if(O_(e,o),n&4&&-1<D1.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=si(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var R=1<<31-he(p);T.entanglements[1]|=R,p&=~R}bi(f),(qt&6)===0&&(ic=We()+500,al(0))}}break;case 31:case 13:T=wr(f,2),T!==null&&un(T,f,2),rc(),wd(f,2)}if(f=Rd(o),f===null&&fd(e,n,o,Ec,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(e,n,o,null,r)}}function Rd(e){return e=Cn(e),Id(e)}var Ec=null;function Id(e){if(Ec=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function x_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case go:return 2;case po:return 8;case ls:case Mh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Nd=!1,Us=null,ks=null,Ls=null,dl=new Map,ml=new Map,Bs=[],D1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(e,n){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function gl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&N_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function x1(e,n,r,o,h){switch(n){case"focusin":return Us=gl(Us,e,n,r,o,h),!0;case"dragenter":return ks=gl(ks,e,n,r,o,h),!0;case"mouseover":return Ls=gl(Ls,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,gl(dl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,gl(ml.get(f)||null,e,n,r,o,h)),!0}return!1}function M_(e){var n=ui(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,qn(e.priority,function(){D_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,qn(e.priority,function(){D_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Rd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Io=o,r.target.dispatchEvent(o),Io=null}else return n=wn(r),n!==null&&N_(n),e.blockedOn=r,!1;n.shift()}return!0}function V_(e,n,r){Ac(e)&&r.delete(n)}function O1(){Nd=!1,Us!==null&&Ac(Us)&&(Us=null),ks!==null&&Ac(ks)&&(ks=null),Ls!==null&&Ac(Ls)&&(Ls=null),dl.forEach(V_),ml.forEach(V_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,O1)))}var Sc=null;function U_(e){Sc!==e&&(Sc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Id(o||r)===null)continue;break}var f=wn(r);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function ja(e){function n(R){return bc(R,e)}Us!==null&&bc(Us,e),ks!==null&&bc(ks,e),Ls!==null&&bc(Ls,e),dl.forEach(n),ml.forEach(n);for(var r=0;r<Bs.length;r++){var o=Bs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Bs.length&&(r=Bs[0],r.blockedOn===null);)M_(r),r.blockedOn===null&&Bs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Ue]||null;if(typeof f=="function")p||U_(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ue]||null)T=p.formAction;else if(Id(h)!==null)continue}else T=p.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),U_(r)}}}function k_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}wc.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=En();R_(r,o,e,n,null,null)},wc.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;R_(e.current,2,null,e,null,null),rc(),n[oi]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Bs.length&&n!==0&&n<Bs[r].priority;r++);Bs.splice(r,0,e),r===0&&M_(e)}};var L_=t.version;if(L_!=="19.2.0")throw Error(a(527,L_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var M1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{zn=Cc.inject(M1),Pe=Cc}catch{}}return yl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Fp,f=Gp,p=Qp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=w_(e,1,!1,null,null,r,o,null,h,f,p,k_),e[oi]=n.current,hd(e),new Dd(n)},yl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Fp,p=Gp,T=Qp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=w_(e,1,!0,n,r??null,o,h,R,f,p,T,k_),n.context=C_(null),r=n.current,o=En(),o=dr(o),h=bs(o),h.callback=null,Ss(r,h,o),r=o,n.current.lanes=r,hr(n,r),bi(n),e[oi]=n.current,hd(e),new wc(n)},yl.version="19.2.0",yl}var K_;function H1(){if(K_)return Md.exports;K_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=q1(),Md.exports}var F1=H1();const G1=()=>{};var Y_={};const I0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Q1=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},N0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,E=c>>2,b=(c&3)<<4|g>>4;let w=(g&15)<<2|_>>6,P=_&63;y||(P=64,d||(w=64)),a.push(i[E],i[b],i[w],i[P])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(I0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Q1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||b==null)throw new K1;const w=c<<2|g>>4;if(a.push(w),_!==64){const P=g<<4&240|_>>2;if(a.push(P),b!==64){const H=_<<6&192|b;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class K1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y1=function(s){const t=I0(s);return N0.encodeByteArray(t,!0)},Fc=function(s){return Y1(s).replace(/\./g,"")},D0=function(s){try{return N0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function X1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $1=()=>X1().__FIREBASE_DEFAULTS__,Z1=()=>{if(typeof process>"u"||typeof Y_>"u")return;const s=Y_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},J1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&D0(s[1]);return t&&JSON.parse(t)},ch=()=>{try{return G1()||$1()||Z1()||J1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},x0=s=>ch()?.emulatorHosts?.[s],W1=s=>{const t=x0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},O0=()=>ch()?.config,M0=s=>ch()?.[`_${s}`];class tb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function so(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function V0(s){return(await fetch(s,{credentials:"include"})).ok}function eb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Al={};function nb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?s.emulator.push(t):s.prod.push(t);return s}function ib(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let X_=!1;function U0(s,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Al[s]===t||Al[s]||X_)return;Al[s]=t;function i(w){return`__firebase__banner__${w}`}const a="__firebase__banner",c=nb().prod.length>0;function d(){const w=document.getElementById(a);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function y(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{X_=!0,d()},w}function E(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=ib(a),P=i("text"),H=document.getElementById(P)||document.createElement("span"),J=i("learnmore"),W=document.getElementById(J)||document.createElement("a"),ct=i("preprendIcon"),rt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const lt=w.element;g(lt),E(W,J);const Ct=_();y(rt,ct),lt.append(rt,H,W,Ct),document.body.appendChild(lt)}c?(H.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function rb(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ab(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ob(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function lb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ub(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function cb(){return!rb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hb(){try{return typeof indexedDB=="object"}catch{return!1}}function fb(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const db="FirebaseError";class as extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=db,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?mb(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new as(l,g,a)}}function mb(s,t){return s.replace(gb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const gb=/\{\$([^}]+)}/g;function pb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Fr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if($_(c)&&$_(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function $_(s){return s!==null&&typeof s=="object"}function Bl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function yb(s,t){const i=new _b(s,t);return i.subscribe.bind(i)}class _b{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");vb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ld(){}function Ve(s){return s&&s._delegate?s._delegate:s}class Gr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Pr="[DEFAULT]";class Tb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new tb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ab(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Eb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Eb(s){return s===Pr?void 0:s}function Ab(s){return s.instantiationMode==="EAGER"}class bb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Tb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const Sb={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},wb=xt.INFO,Cb={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},Rb=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=Cb[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Im{constructor(t){this.name=t,this._logLevel=wb,this._logHandler=Rb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Sb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const Ib=(s,t)=>t.some(i=>s instanceof i);let Z_,J_;function Nb(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Db(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k0=new WeakMap,Wd=new WeakMap,L0=new WeakMap,Bd=new WeakMap,Nm=new WeakMap;function xb(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Qs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&k0.set(i,s)}).catch(()=>{}),Nm.set(t,s),t}function Ob(s){if(Wd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Wd.set(s,t)}let tm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Wd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||L0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Mb(s){tm=s(tm)}function Vb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Pd(this),t,...i);return L0.set(a,t.sort?t.sort():[t]),Qs(a)}:Db().includes(s)?function(...t){return s.apply(Pd(this),t),Qs(k0.get(this))}:function(...t){return Qs(s.apply(Pd(this),t))}}function Ub(s){return typeof s=="function"?Vb(s):(s instanceof IDBTransaction&&Ob(s),Ib(s,Nb())?new Proxy(s,tm):s)}function Qs(s){if(s instanceof IDBRequest)return xb(s);if(Bd.has(s))return Bd.get(s);const t=Ub(s);return t!==s&&(Bd.set(s,t),Nm.set(t,s)),t}const Pd=s=>Nm.get(s);function kb(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Qs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Qs(d.result),y.oldVersion,y.newVersion,Qs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Lb=["get","getKey","getAll","getAllKeys","count"],Bb=["put","add","delete","clear"],zd=new Map;function W_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=Bb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Lb.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return zd.set(t,c),c}Mb(s=>({...s,get:(t,i,a)=>W_(t,i)||s.get(t,i,a),has:(t,i)=>!!W_(t,i)||s.has(t,i)}));class Pb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function zb(s){return s.getComponent()?.type==="VERSION"}const em="@firebase/app",tv="0.14.6";const ts=new Im("@firebase/app"),jb="@firebase/app-compat",qb="@firebase/analytics-compat",Hb="@firebase/analytics",Fb="@firebase/app-check-compat",Gb="@firebase/app-check",Qb="@firebase/auth",Kb="@firebase/auth-compat",Yb="@firebase/database",Xb="@firebase/data-connect",$b="@firebase/database-compat",Zb="@firebase/functions",Jb="@firebase/functions-compat",Wb="@firebase/installations",tS="@firebase/installations-compat",eS="@firebase/messaging",nS="@firebase/messaging-compat",iS="@firebase/performance",sS="@firebase/performance-compat",rS="@firebase/remote-config",aS="@firebase/remote-config-compat",oS="@firebase/storage",lS="@firebase/storage-compat",uS="@firebase/firestore",cS="@firebase/ai",hS="@firebase/firestore-compat",fS="firebase",dS="12.6.0";const nm="[DEFAULT]",mS={[em]:"fire-core",[jb]:"fire-core-compat",[Hb]:"fire-analytics",[qb]:"fire-analytics-compat",[Gb]:"fire-app-check",[Fb]:"fire-app-check-compat",[Qb]:"fire-auth",[Kb]:"fire-auth-compat",[Yb]:"fire-rtdb",[Xb]:"fire-data-connect",[$b]:"fire-rtdb-compat",[Zb]:"fire-fn",[Jb]:"fire-fn-compat",[Wb]:"fire-iid",[tS]:"fire-iid-compat",[eS]:"fire-fcm",[nS]:"fire-fcm-compat",[iS]:"fire-perf",[sS]:"fire-perf-compat",[rS]:"fire-rc",[aS]:"fire-rc-compat",[oS]:"fire-gcs",[lS]:"fire-gcs-compat",[uS]:"fire-fst",[hS]:"fire-fst-compat",[cS]:"fire-vertex","fire-js":"fire-js",[fS]:"fire-js-all"};const Gc=new Map,gS=new Map,im=new Map;function ev(s,t){try{s.container.addComponent(t)}catch(i){ts.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Za(s){const t=s.name;if(im.has(t))return ts.debug(`There were multiple attempts to register component ${t}.`),!1;im.set(t,s);for(const i of Gc.values())ev(i,s);for(const i of gS.values())ev(i,s);return!0}function Dm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Bn(s){return s==null?!1:s.settings!==void 0}const pS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Ll("app","Firebase",pS);class yS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const ro=dS;function B0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:nm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Ks.create("bad-app-name",{appName:String(l)});if(i||(i=O0()),!i)throw Ks.create("no-options");const c=Gc.get(l);if(c){if(Fr(i,c.options)&&Fr(a,c.config))return c;throw Ks.create("duplicate-app",{appName:l})}const d=new bb(l);for(const y of im.values())d.addComponent(y);const g=new yS(i,a,d);return Gc.set(l,g),g}function P0(s=nm){const t=Gc.get(s);if(!t&&s===nm&&O0())return B0();if(!t)throw Ks.create("no-app",{appName:s});return t}function Ys(s,t,i){let a=mS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}Za(new Gr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const _S="firebase-heartbeat-database",vS=1,Il="firebase-heartbeat-store";let jd=null;function z0(){return jd||(jd=kb(_S,vS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ks.create("idb-open",{originalErrorMessage:s.message})})),jd}async function TS(s){try{const i=(await z0()).transaction(Il),a=await i.objectStore(Il).get(j0(s));return await i.done,a}catch(t){if(t instanceof as)ts.warn(t.message);else{const i=Ks.create("idb-get",{originalErrorMessage:t?.message});ts.warn(i.message)}}}async function nv(s,t){try{const a=(await z0()).transaction(Il,"readwrite");await a.objectStore(Il).put(t,j0(s)),await a.done}catch(i){if(i instanceof as)ts.warn(i.message);else{const a=Ks.create("idb-set",{originalErrorMessage:i?.message});ts.warn(a.message)}}}function j0(s){return`${s.name}!${s.options.appId}`}const ES=1024,AS=30;class bS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>AS){const l=CS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iv(),{heartbeatsToSend:i,unsentEntries:a}=SS(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ts.warn(t),""}}}function iv(){return new Date().toISOString().substring(0,10)}function SS(s,t=ES){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),sv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),sv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class wS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hb()?fb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await TS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function sv(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function CS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function RS(s){Za(new Gr("platform-logger",t=>new Pb(t),"PRIVATE")),Za(new Gr("heartbeat",t=>new bS(t),"PRIVATE")),Ys(em,tv,s),Ys(em,tv,"esm2020"),Ys("fire-js","")}RS("");var IS="firebase",NS="12.6.0";Ys(IS,NS,"app");function q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DS=q0,H0=new Ll("auth","Firebase",q0());const Qc=new Im("@firebase/auth");function xS(s,...t){Qc.logLevel<=xt.WARN&&Qc.warn(`Auth (${ro}): ${s}`,...t)}function Vc(s,...t){Qc.logLevel<=xt.ERROR&&Qc.error(`Auth (${ro}): ${s}`,...t)}function es(s,...t){throw xm(s,...t)}function wi(s,...t){return xm(s,...t)}function F0(s,t,i){const a={...DS(),[t]:i};return new Ll("auth","Firebase",a).create(t,{appName:s.name})}function Wi(s){return F0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return H0.create(s,...t)}function pt(s,t,...i){if(!s)throw xm(t,...i)}function Zi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Vc(t),new Error(t)}function ns(s,t){s||Zi(t)}function sm(){return typeof self<"u"&&self.location?.href||""}function OS(){return rv()==="http:"||rv()==="https:"}function rv(){return typeof self<"u"&&self.location?.protocol||null}function MS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OS()||ob()||"connection"in navigator)?navigator.onLine:!0}function VS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Pl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=sb()||lb()}get(){return MS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(s,t){ns(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class G0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const US={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LS=new Pl(3e4,6e4);function zl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ao(s,t,i,a,l={}){return Q0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Bl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return ab()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&so(s.emulatorConfig.host)&&(_.credentials="include"),G0.fetch()(await K0(s,s.config.apiHost,i,g),_)})}async function Q0(s,t,i){s._canInitEmulator=!1;const a={...US,...t};try{const l=new BS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Rc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Rc(s,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw F0(s,E,_);es(s,E)}}catch(l){if(l instanceof as)throw l;es(s,"network-request-failed",{message:String(l)})}}async function Mm(s,t,i,a,l={}){const c=await ao(s,t,i,a,l);return"mfaPendingCredential"in c&&es(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function K0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Om(s.config,l):`${s.config.apiScheme}://${l}`;return kS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class BS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(wi(this.auth,"network-request-failed")),LS.get())})}}function Rc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=wi(s,t,a);return l.customData._tokenResponse=i,l}async function PS(s,t){return ao(s,"POST","/v1/accounts:delete",t)}async function Kc(s,t){return ao(s,"POST","/v1/accounts:lookup",t)}function bl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zS(s,t=!1){const i=Ve(s),a=await i.getIdToken(t),l=Vm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:bl(qd(l.auth_time)),issuedAtTime:bl(qd(l.iat)),expirationTime:bl(qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(s){return Number(s)*1e3}function Vm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=D0(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function av(s){const t=Vm(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof as&&jS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function jS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class qS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(s){const t=s.auth,i=await s.getIdToken(),a=await Nl(s,Kc(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Y0(l.providerUserInfo):[],d=FS(s.providerData,c),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=g?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,E)}async function HS(s){const t=Ve(s);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FS(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Y0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function GS(s,t){const i=await Q0(s,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await K0(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&so(s.emulatorConfig.host)&&(y.credentials="include"),G0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function QS(s,t){return ao(s,"POST","/v2/accounts:revokeToken",zl(s,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):av(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=av(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await GS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ka;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function zs(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new qS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new rm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return zS(this,t)}reload(){return HS(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await Nl(this,PS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:P,providerData:H,stsTokenManager:J}=i;pt(b&&J,t,"internal-error");const W=Ka.fromJSON(this.name,J);pt(typeof b=="string",t,"internal-error"),zs(a,t.name),zs(l,t.name),pt(typeof w=="boolean",t,"internal-error"),pt(typeof P=="boolean",t,"internal-error"),zs(c,t.name),zs(d,t.name),zs(g,t.name),zs(y,t.name),zs(_,t.name),zs(E,t.name);const ct=new Wn({uid:b,auth:t,email:l,emailVerified:w,displayName:a,isAnonymous:P,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:_,lastLoginAt:E});return H&&Array.isArray(H)&&(ct.providerData=H.map(rt=>({...rt}))),y&&(ct._redirectEventId=y),ct}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Y0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ka;g.updateFromIdToken(a);const y=new Wn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const ov=new Map;function Ji(s){ns(s instanceof Function,"Expected a class definition");let t=ov.get(s);return t?(ns(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,ov.set(s,t),t)}class X0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}X0.type="NONE";const lv=X0;function Uc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ya{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Uc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ya(Ji(lv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Ji(lv);const d=Uc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const E=await _._get(d);if(E){let b;if(typeof E=="string"){const w=await Kc(t,{idToken:E}).catch(()=>{});if(!w)break;b=await Wn._fromGetAccountInfoResponse(t,w,E)}else b=Wn._fromJSON(t,E);_!==c&&(g=b),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ya(c,t,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ya(c,t,a))}}function uv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(W0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eT(t))return"Blackberry";if(nT(t))return"Webos";if(Z0(t))return"Safari";if((t.includes("chrome/")||J0(t))&&!t.includes("edge/"))return"Chrome";if(tT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function $0(s=Je()){return/firefox\//i.test(s)}function Z0(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function J0(s=Je()){return/crios\//i.test(s)}function W0(s=Je()){return/iemobile/i.test(s)}function tT(s=Je()){return/android/i.test(s)}function eT(s=Je()){return/blackberry/i.test(s)}function nT(s=Je()){return/webos/i.test(s)}function Um(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function KS(s=Je()){return Um(s)&&!!window.navigator?.standalone}function YS(){return ub()&&document.documentMode===10}function iT(s=Je()){return Um(s)||tT(s)||nT(s)||eT(s)||/windows phone/i.test(s)||W0(s)}function sT(s,t=[]){let i;switch(s){case"Browser":i=uv(Je());break;case"Worker":i=`${uv(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${a}`}class XS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function $S(s,t={}){return ao(s,"GET","/v2/passwordPolicy",zl(s,t))}const ZS=6;class JS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ZS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class WS{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new XS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),a=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Bn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(Wi(this));const i=t?Ve(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $S(this),i=new JS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await QS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&xS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jl(s){return Ve(s)}class cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=yb(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tw(s){km=s}function ew(s){return km.loadJS(s)}function nw(){return km.gapiScript}function iw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function sw(s,t){const i=Dm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Fr(c,t??{}))return l;es(l,"already-initialized")}return i.initialize({options:t})}function rw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function aw(s,t,i){const a=jl(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=rT(t),{host:d,port:g}=ow(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Fr(_,a.config.emulator)&&Fr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,so(d)?(V0(`${c}//${d}${y}`),U0("Auth",!0)):lw()}function rT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function ow(s){const t=rT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:hv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:hv(d)}}}function hv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function lw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class aT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Xa(s,t){return Mm(s,"POST","/v1/accounts:signInWithIdp",zl(s,t))}const uw="http://localhost";class Qr extends aT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Qr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Xa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:uw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}class oT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ql extends oT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class js extends ql{constructor(){super("facebook.com")}static credential(t){return Qr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";class qs extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Hs extends ql{constructor(){super("github.com")}static credential(t){return Qr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class Fs extends ql{constructor(){super("twitter.com")}static credential(t,i){return Qr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Fs.credential(i,a)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";async function cw(s,t){return Mm(s,"POST","/v1/accounts:signUp",zl(s,t))}class is{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Wn._fromIdTokenResponse(t,a,l),d=fv(a);return new is({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=fv(a);return new is({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function fv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function hw(s){if(Bn(s.app))return Promise.reject(Wi(s));const t=jl(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new is({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await cw(t,{returnSecureToken:!0}),a=await is._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Xc extends as{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Xc(t,i,a,l)}}function lT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,t,a):c})}async function fw(s,t,i=!1){const a=await Nl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return is._forOperation(s,"link",a)}async function dw(s,t,i=!1){const{auth:a}=s;if(Bn(a.app))return Promise.reject(Wi(a));const l="reauthenticate";try{const c=await Nl(s,lT(a,l,t,s),i);pt(c.idToken,a,"internal-error");const d=Vm(c.idToken);pt(d,a,"internal-error");const{sub:g}=d;return pt(s.uid===g,a,"user-mismatch"),is._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&es(a,"user-mismatch"),c}}async function mw(s,t,i=!1){if(Bn(s.app))return Promise.reject(Wi(s));const a="signIn",l=await lT(s,a,t),c=await is._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function gw(s,t){return Mm(s,"POST","/v1/accounts:signInWithCustomToken",zl(s,t))}async function pw(s,t){if(Bn(s.app))return Promise.reject(Wi(s));const i=jl(s),a=await gw(i,{token:t,returnSecureToken:!0}),l=await is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function yw(s,t,i,a){return Ve(s).onIdTokenChanged(t,i,a)}function _w(s,t,i){return Ve(s).beforeAuthStateChanged(t,i)}function vw(s,t,i,a){return Ve(s).onAuthStateChanged(t,i,a)}const $c="__sak";class uT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tw=1e3,Ew=10;class cT extends uT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);YS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Ew):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}cT.type="LOCAL";const Aw=cT;class hT extends uT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}hT.type="SESSION";const fT=hT;function bw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new hh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await bw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function Lm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class Sw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Lm("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const w=b;if(w.data.eventId===_)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(w.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function ww(s){Ci().location.href=s}function dT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function Cw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rw(){return navigator?.serviceWorker?.controller||null}function Iw(){return dT()?self:null}const mT="firebaseLocalStorageDb",Nw=1,Zc="firebaseLocalStorage",gT="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fh(s,t){return s.transaction([Zc],t?"readwrite":"readonly").objectStore(Zc)}function Dw(){const s=indexedDB.deleteDatabase(mT);return new Hl(s).toPromise()}function am(){const s=indexedDB.open(mT,Nw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Zc,{keyPath:gT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Zc)?t(a):(a.close(),await Dw(),t(await am()))})})}async function dv(s,t,i){const a=fh(s,!0).put({[gT]:t,value:i});return new Hl(a).toPromise()}async function xw(s,t){const i=fh(s,!1).get(t),a=await new Hl(i).toPromise();return a===void 0?null:a.value}function mv(s,t){const i=fh(s,!0).delete(t);return new Hl(i).toPromise()}const Ow=800,Mw=3;class pT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Mw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(Iw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Cw(),!this.activeServiceWorker)return;this.sender=new Sw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Rw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await am();return await dv(t,$c,"1"),await mv(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>dv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>xw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>mv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=fh(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pT.type="LOCAL";const Vw=pT;new Pl(3e4,6e4);function Uw(s,t){return t?Ji(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Bm extends aT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function kw(s){return mw(s.auth,new Bm(s),s.bypassAuthState)}function Lw(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),dw(i,new Bm(s),s.bypassAuthState)}async function Bw(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),fw(i,new Bm(s),s.bypassAuthState)}class yT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kw;case"linkViaPopup":case"linkViaRedirect":return Bw;case"reauthViaPopup":case"reauthViaRedirect":return Lw;default:es(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pw=new Pl(2e3,1e4);class Qa extends yT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Pw.get())};t()}}Qa.currentPopupAction=null;const zw="pendingRedirect",kc=new Map;class jw extends yT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const a=await qw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qw(s,t){const i=Gw(t),a=Fw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Hw(s,t){kc.set(s._key(),t)}function Fw(s){return Ji(s._redirectPersistence)}function Gw(s){return Uc(zw,s.config.apiKey,s.name)}async function Qw(s,t,i=!1){if(Bn(s.app))return Promise.reject(Wi(s));const a=jl(s),l=Uw(a,t),d=await new jw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Kw=600*1e3;class Yw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Xw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!_T(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Kw&&this.cachedEventUids.clear(),this.cachedEventUids.has(gv(t))}saveEventToCache(t){this.cachedEventUids.add(gv(t)),this.lastProcessedEventTime=Date.now()}}function gv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function _T({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Xw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _T(s);default:return!1}}async function $w(s,t={}){return ao(s,"GET","/v1/projects",t)}const Zw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jw=/^https?/;async function Ww(s){if(s.config.emulator)return;const{authorizedDomains:t}=await $w(s);for(const i of t)try{if(tC(i))return}catch{}es(s,"unauthorized-domain")}function tC(s){const t=sm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Jw.test(i))return!1;if(Zw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const eC=new Pl(3e4,6e4);function pv(){const s=Ci().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function nC(s){return new Promise((t,i)=>{function a(){pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pv(),i(wi(s,"network-request-failed"))},timeout:eC.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)a();else{const l=iw("iframefcb");return Ci()[l]=()=>{gapi.load?a():i(wi(s,"network-request-failed"))},ew(`${nw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function iC(s){return Lc=Lc||nC(s),Lc}const sC=new Pl(5e3,15e3),rC="__/auth/iframe",aC="emulator/auth/iframe",oC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uC(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Om(t,aC):`https://${s.config.authDomain}/${rC}`,a={apiKey:t.apiKey,appName:s.name,v:ro},l=lC.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function cC(s){const t=await iC(s),i=Ci().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:uC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=wi(s,"network-request-failed"),g=Ci().setTimeout(()=>{c(d)},sC.get());function y(){Ci().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const hC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fC=500,dC=600,mC="_blank",gC="http://localhost";class yv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pC(s,t,i,a=fC,l=dC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...hC,width:a.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(g=J0(_)?mC:i),$0(_)&&(t=t||gC,y.scrollbars="yes");const E=Object.entries(y).reduce((w,[P,H])=>`${w}${P}=${H},`,"");if(KS(_)&&g!=="_self")return yC(t||"",g),new yv(null);const b=window.open(t||"",g,E);pt(b,s,"popup-blocked");try{b.focus()}catch{}return new yv(b)}function yC(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const _C="__/auth/handler",vC="emulator/auth/handler",TC=encodeURIComponent("fac");async function _v(s,t,i,a,l,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ro,eventId:l};if(t instanceof oT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",pb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))d[E]=b}if(t instanceof ql){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await s._getAppCheckToken(),_=y?`#${TC}=${encodeURIComponent(y)}`:"";return`${EC(s)}?${Bl(g).slice(1)}${_}`}function EC({config:s}){return s.emulator?Om(s,vC):`https://${s.authDomain}/${_C}`}const Hd="webStorageSupport";class AC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fT,this._completeRedirectFn=Qw,this._overrideRedirectResult=Hw}async _openPopup(t,i,a,l){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _v(t,i,a,sm(),l);return pC(t,c,Lm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await _v(t,i,a,sm(),l);return ww(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ns(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await cC(t),a=new Yw(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Hd,{type:Hd},l=>{const c=l?.[0]?.[Hd];c!==void 0&&i(!!c),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ww(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return iT()||Z0()||Um()}}const bC=AC;var vv="@firebase/auth",Tv="1.11.1";class SC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CC(s){Za(new Gr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sT(s)},_=new WS(a,l,c,y);return rw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Za(new Gr("auth-internal",t=>{const i=jl(t.getProvider("auth").getImmediate());return(a=>new SC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(vv,Tv,wC(s)),Ys(vv,Tv,"esm2020")}const RC=300,IC=M0("authIdTokenMaxAge")||RC;let Ev=null;const NC=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>IC)return;const l=i?.token;Ev!==l&&(Ev=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function DC(s=P0()){const t=Dm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=sw(s,{popupRedirectResolver:bC,persistence:[Vw,Aw,fT]}),a=M0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=NC(c.toString());_w(i,d,()=>d(i.currentUser)),yw(i,g=>d(g))}}const l=x0("auth");return l&&aw(i,`http://${l}`),i}function xC(){return document.getElementsByTagName("head")?.[0]??document}tw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=wi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",xC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CC("Browser");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,vT;(function(){var s;function t(I,S){function N(){}N.prototype=S.prototype,I.F=S.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(M,x,k){for(var C=Array(arguments.length-2),se=2;se<arguments.length;se++)C[se-2]=arguments[se];return S.prototype[x].apply(M,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,N){N||(N=0);const M=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)M[x]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(x=0;x<16;++x)M[x]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=I.g[0],N=I.g[1],x=I.g[2];let k=I.g[3],C;C=S+(k^N&(x^k))+M[0]+3614090360&4294967295,S=N+(C<<7&4294967295|C>>>25),C=k+(x^S&(N^x))+M[1]+3905402710&4294967295,k=S+(C<<12&4294967295|C>>>20),C=x+(N^k&(S^N))+M[2]+606105819&4294967295,x=k+(C<<17&4294967295|C>>>15),C=N+(S^x&(k^S))+M[3]+3250441966&4294967295,N=x+(C<<22&4294967295|C>>>10),C=S+(k^N&(x^k))+M[4]+4118548399&4294967295,S=N+(C<<7&4294967295|C>>>25),C=k+(x^S&(N^x))+M[5]+1200080426&4294967295,k=S+(C<<12&4294967295|C>>>20),C=x+(N^k&(S^N))+M[6]+2821735955&4294967295,x=k+(C<<17&4294967295|C>>>15),C=N+(S^x&(k^S))+M[7]+4249261313&4294967295,N=x+(C<<22&4294967295|C>>>10),C=S+(k^N&(x^k))+M[8]+1770035416&4294967295,S=N+(C<<7&4294967295|C>>>25),C=k+(x^S&(N^x))+M[9]+2336552879&4294967295,k=S+(C<<12&4294967295|C>>>20),C=x+(N^k&(S^N))+M[10]+4294925233&4294967295,x=k+(C<<17&4294967295|C>>>15),C=N+(S^x&(k^S))+M[11]+2304563134&4294967295,N=x+(C<<22&4294967295|C>>>10),C=S+(k^N&(x^k))+M[12]+1804603682&4294967295,S=N+(C<<7&4294967295|C>>>25),C=k+(x^S&(N^x))+M[13]+4254626195&4294967295,k=S+(C<<12&4294967295|C>>>20),C=x+(N^k&(S^N))+M[14]+2792965006&4294967295,x=k+(C<<17&4294967295|C>>>15),C=N+(S^x&(k^S))+M[15]+1236535329&4294967295,N=x+(C<<22&4294967295|C>>>10),C=S+(x^k&(N^x))+M[1]+4129170786&4294967295,S=N+(C<<5&4294967295|C>>>27),C=k+(N^x&(S^N))+M[6]+3225465664&4294967295,k=S+(C<<9&4294967295|C>>>23),C=x+(S^N&(k^S))+M[11]+643717713&4294967295,x=k+(C<<14&4294967295|C>>>18),C=N+(k^S&(x^k))+M[0]+3921069994&4294967295,N=x+(C<<20&4294967295|C>>>12),C=S+(x^k&(N^x))+M[5]+3593408605&4294967295,S=N+(C<<5&4294967295|C>>>27),C=k+(N^x&(S^N))+M[10]+38016083&4294967295,k=S+(C<<9&4294967295|C>>>23),C=x+(S^N&(k^S))+M[15]+3634488961&4294967295,x=k+(C<<14&4294967295|C>>>18),C=N+(k^S&(x^k))+M[4]+3889429448&4294967295,N=x+(C<<20&4294967295|C>>>12),C=S+(x^k&(N^x))+M[9]+568446438&4294967295,S=N+(C<<5&4294967295|C>>>27),C=k+(N^x&(S^N))+M[14]+3275163606&4294967295,k=S+(C<<9&4294967295|C>>>23),C=x+(S^N&(k^S))+M[3]+4107603335&4294967295,x=k+(C<<14&4294967295|C>>>18),C=N+(k^S&(x^k))+M[8]+1163531501&4294967295,N=x+(C<<20&4294967295|C>>>12),C=S+(x^k&(N^x))+M[13]+2850285829&4294967295,S=N+(C<<5&4294967295|C>>>27),C=k+(N^x&(S^N))+M[2]+4243563512&4294967295,k=S+(C<<9&4294967295|C>>>23),C=x+(S^N&(k^S))+M[7]+1735328473&4294967295,x=k+(C<<14&4294967295|C>>>18),C=N+(k^S&(x^k))+M[12]+2368359562&4294967295,N=x+(C<<20&4294967295|C>>>12),C=S+(N^x^k)+M[5]+4294588738&4294967295,S=N+(C<<4&4294967295|C>>>28),C=k+(S^N^x)+M[8]+2272392833&4294967295,k=S+(C<<11&4294967295|C>>>21),C=x+(k^S^N)+M[11]+1839030562&4294967295,x=k+(C<<16&4294967295|C>>>16),C=N+(x^k^S)+M[14]+4259657740&4294967295,N=x+(C<<23&4294967295|C>>>9),C=S+(N^x^k)+M[1]+2763975236&4294967295,S=N+(C<<4&4294967295|C>>>28),C=k+(S^N^x)+M[4]+1272893353&4294967295,k=S+(C<<11&4294967295|C>>>21),C=x+(k^S^N)+M[7]+4139469664&4294967295,x=k+(C<<16&4294967295|C>>>16),C=N+(x^k^S)+M[10]+3200236656&4294967295,N=x+(C<<23&4294967295|C>>>9),C=S+(N^x^k)+M[13]+681279174&4294967295,S=N+(C<<4&4294967295|C>>>28),C=k+(S^N^x)+M[0]+3936430074&4294967295,k=S+(C<<11&4294967295|C>>>21),C=x+(k^S^N)+M[3]+3572445317&4294967295,x=k+(C<<16&4294967295|C>>>16),C=N+(x^k^S)+M[6]+76029189&4294967295,N=x+(C<<23&4294967295|C>>>9),C=S+(N^x^k)+M[9]+3654602809&4294967295,S=N+(C<<4&4294967295|C>>>28),C=k+(S^N^x)+M[12]+3873151461&4294967295,k=S+(C<<11&4294967295|C>>>21),C=x+(k^S^N)+M[15]+530742520&4294967295,x=k+(C<<16&4294967295|C>>>16),C=N+(x^k^S)+M[2]+3299628645&4294967295,N=x+(C<<23&4294967295|C>>>9),C=S+(x^(N|~k))+M[0]+4096336452&4294967295,S=N+(C<<6&4294967295|C>>>26),C=k+(N^(S|~x))+M[7]+1126891415&4294967295,k=S+(C<<10&4294967295|C>>>22),C=x+(S^(k|~N))+M[14]+2878612391&4294967295,x=k+(C<<15&4294967295|C>>>17),C=N+(k^(x|~S))+M[5]+4237533241&4294967295,N=x+(C<<21&4294967295|C>>>11),C=S+(x^(N|~k))+M[12]+1700485571&4294967295,S=N+(C<<6&4294967295|C>>>26),C=k+(N^(S|~x))+M[3]+2399980690&4294967295,k=S+(C<<10&4294967295|C>>>22),C=x+(S^(k|~N))+M[10]+4293915773&4294967295,x=k+(C<<15&4294967295|C>>>17),C=N+(k^(x|~S))+M[1]+2240044497&4294967295,N=x+(C<<21&4294967295|C>>>11),C=S+(x^(N|~k))+M[8]+1873313359&4294967295,S=N+(C<<6&4294967295|C>>>26),C=k+(N^(S|~x))+M[15]+4264355552&4294967295,k=S+(C<<10&4294967295|C>>>22),C=x+(S^(k|~N))+M[6]+2734768916&4294967295,x=k+(C<<15&4294967295|C>>>17),C=N+(k^(x|~S))+M[13]+1309151649&4294967295,N=x+(C<<21&4294967295|C>>>11),C=S+(x^(N|~k))+M[4]+4149444226&4294967295,S=N+(C<<6&4294967295|C>>>26),C=k+(N^(S|~x))+M[11]+3174756917&4294967295,k=S+(C<<10&4294967295|C>>>22),C=x+(S^(k|~N))+M[2]+718787259&4294967295,x=k+(C<<15&4294967295|C>>>17),C=N+(k^(x|~S))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const N=S-this.blockSize,M=this.C;let x=this.h,k=0;for(;k<S;){if(x==0)for(;k<=N;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(M[x++]=I.charCodeAt(k++),x==this.blockSize){l(this,M),x=0;break}}else for(;k<S;)if(M[x++]=I[k++],x==this.blockSize){l(this,M),x=0;break}}this.h=x,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)I[S++]=this.g[N]>>>M&255;return I};function c(I,S){var N=g;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=S(I)}function d(I,S){this.h=S;const N=[];let M=!0;for(let x=I.length-1;x>=0;x--){const k=I[x]|0;M&&k==S||(N[x]=k,M=!1)}this.g=N}var g={};function y(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return W(_(-I));const S=[];let N=1;for(let M=0;I>=N;M++)S[M]=I/N|0,N*=4294967296;return new d(S,0)}function E(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return W(E(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(S,8));let M=b;for(let k=0;k<I.length;k+=8){var x=Math.min(8,I.length-k);const C=parseInt(I.substring(k,k+x),S);x<8?(x=_(Math.pow(S,x)),M=M.j(x).add(_(C))):(M=M.j(N),M=M.add(_(C)))}return M}var b=y(0),w=y(1),P=y(16777216);s=d.prototype,s.m=function(){if(J(this))return-W(this).m();let I=0,S=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);I+=(M>=0?M:4294967296+M)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(J(this))return"-"+W(this).toString(I);const S=_(Math.pow(I,6));var N=this;let M="";for(;;){const x=Ct(N,S).g;N=ct(N,x.j(S));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=x,H(N))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function J(I){return I.h==-1}s.l=function(I){return I=ct(this,I),J(I)?-1:H(I)?0:1};function W(I){const S=I.g.length,N=[];for(let M=0;M<S;M++)N[M]=~I.g[M];return new d(N,~I.h).add(w)}s.abs=function(){return J(this)?W(this):this},s.add=function(I){const S=Math.max(this.g.length,I.g.length),N=[];let M=0;for(let x=0;x<=S;x++){let k=M+(this.i(x)&65535)+(I.i(x)&65535),C=(k>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);M=C>>>16,k&=65535,C&=65535,N[x]=C<<16|k}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ct(I,S){return I.add(W(S))}s.j=function(I){if(H(this)||H(I))return b;if(J(this))return J(I)?W(this).j(W(I)):W(W(this).j(I));if(J(I))return W(this.j(W(I)));if(this.l(P)<0&&I.l(P)<0)return _(this.m()*I.m());const S=this.g.length+I.g.length,N=[];for(var M=0;M<2*S;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<I.g.length;x++){const k=this.i(M)>>>16,C=this.i(M)&65535,se=I.i(x)>>>16,Ne=I.i(x)&65535;N[2*M+2*x]+=C*Ne,rt(N,2*M+2*x),N[2*M+2*x+1]+=k*Ne,rt(N,2*M+2*x+1),N[2*M+2*x+1]+=C*se,rt(N,2*M+2*x+1),N[2*M+2*x+2]+=k*se,rt(N,2*M+2*x+2)}for(I=0;I<S;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=S;I<2*S;I++)N[I]=0;return new d(N,0)};function rt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function lt(I,S){this.g=I,this.h=S}function Ct(I,S){if(H(S))throw Error("division by zero");if(H(I))return new lt(b,b);if(J(I))return S=Ct(W(I),S),new lt(W(S.g),W(S.h));if(J(S))return S=Ct(I,W(S)),new lt(W(S.g),S.h);if(I.g.length>30){if(J(I)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var N=w,M=S;M.l(I)<=0;)N=Bt(N),M=Bt(M);var x=Et(N,1),k=Et(M,1);for(M=Et(M,2),N=Et(N,2);!H(M);){var C=k.add(M);C.l(I)<=0&&(x=x.add(N),k=C),M=Et(M,1),N=Et(N,1)}return S=ct(I,x.j(S)),new lt(x,S)}for(x=b;I.l(S)>=0;){for(N=Math.max(1,Math.floor(I.m()/S.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(N),C=k.j(S);J(C)||C.l(I)>0;)N-=M,k=_(N),C=k.j(S);H(k)&&(k=w),x=x.add(k),I=ct(I,C)}return new lt(x,I)}s.B=function(I){return Ct(this,I).h},s.and=function(I){const S=Math.max(this.g.length,I.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)&I.i(M);return new d(N,this.h&I.h)},s.or=function(I){const S=Math.max(this.g.length,I.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)|I.i(M);return new d(N,this.h|I.h)},s.xor=function(I){const S=Math.max(this.g.length,I.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)^I.i(M);return new d(N,this.h^I.h)};function Bt(I){const S=I.g.length+1,N=[];for(let M=0;M<S;M++)N[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(N,I.h)}function Et(I,S){const N=S>>5;S%=32;const M=I.g.length-N,x=[];for(let k=0;k<M;k++)x[k]=S>0?I.i(k+N)>>>S|I.i(k+N+1)<<32-S:I.i(k+N);return new d(x,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,vT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Xs=d}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TT,_l,ET,Bc,om,AT,bT,ST;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break t;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,q){for(var tt=Array(arguments.length-2),At=2;At<arguments.length;At++)tt[At-2]=arguments[At];return m.prototype[L].apply(A,tt)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function H(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let tt=0;tt<q;tt++)u[v+tt]=L[tt]}else u.push(L)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,v){const A=lt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new J(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,Et=!1,I=new rt,S=()=>{const u=Promise.resolve(void 0);Bt=()=>{u.then(N)}};function N(){for(var u;u=ct();){try{u.h.call(u.g)}catch(v){W(v)}var m=lt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Et=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(se,x),se.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),Q=0;function et(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++Q,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let q=0;q<$.length;q++)v=$[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,A,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=St(u,m,A,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,q,!!A,L),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,A){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),De={};function re(u,m,v,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(u,m[q],v,A,L);return null}return v=mo(v),u&&u[Ne]?u.J(m,v,g(A)?!!A.capture:!1,L):or(u,m,v,!1,A,L)}function or(u,m,v,A,L,q){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let At=lr(u);if(At||(u[Ut]=At=new at(u)),v=At.add(m,v,A,tt,q),v.proxy)return v;if(A=Jr(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(ni(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Jr(){function u(v){return m.call(u.src,u.listener,v)}const m=ho;return u}function Wr(u,m,v,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Wr(u,m[q],v,A,L);else A=g(A)?!!A.capture:!!A,v=mo(v),u&&u[Ne]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=St(m,v,A,L),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,A,L)),(v=u>-1?m[u]:null)&&ta(v))}function ta(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])yt(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ni(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=lr(m))?(yt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):dt(u)}}}function ni(u){return u in De?De[u]:De[u]="on"+u}function ho(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ta(u),u=v.call(A,m)}return u}function lr(u){return u=u[Ut],u instanceof at?u:null}var fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(u){return typeof u=="function"?u:(u[fo]||(u[fo]=function(m){return u.handleEvent(m)}),u[fo])}function pe(){M.call(this),this.i=new at(this),this.M=this,this.G=null}b(pe,M),pe.prototype[Ne]=!0,pe.prototype.removeEventListener=function(u,m,v,A){Wr(this,u,m,v,A)};function xe(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(A,u),nt(m,L)}L=!0;let q,tt;if(v)for(tt=v.length-1;tt>=0;tt--)q=m.g=v[tt],L=os(q,A,!0,m)&&L;if(q=m.g=u,L=os(q,A,!0,m)&&L,L=os(q,A,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)q=m.g=v[tt],L=os(q,A,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)dt(v[A]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},pe.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function os(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==v){const At=tt.listener,fe=tt.ha||tt.src;tt.fa&&yt(u.i,tt),L=At.call(fe,A)!==!1&&L}}return L&&!A.defaultPrevented}function Oh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Jl(u){u.g=Oh(()=>{u.g=null,u.i&&(u.i=!1,Jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){M.call(this),this.h=u,this.g={}}b(ur,M);var go=[];function po(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ta(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),po(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,Mh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){x.call(this,"d")}b(Pe,x);function Sn(){x.call(this,"c")}b(Sn,x);var he={},nu=null;function ea(){return nu=nu||new pe}he.Ia="serverreachability";function iu(u){x.call(this,he.Ia,u)}b(iu,x);function ii(u){const m=ea();xe(m,new iu(m))}he.STAT_EVENT="statevent";function cr(u,m){x.call(this,he.STAT_EVENT,u),this.stat=m}b(cr,x);function ye(u){const m=ea();xe(m,new cr(m,u))}he.Ja="timingevent";function si(u,m){x.call(this,he.Ja,u),this.size=m}b(si,x);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Vh(u,m,v,A,L,q){u.info(function(){if(u.g)if(q){var tt="",At=q.split("&");for(let jt=0;jt<At.length;jt++){var fe=At[jt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const In=ae.split("_");tt=In.length>=2&&In[1]=="type"?tt+(ae+"="+fe+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function su(u,m,v,A,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+tt})}function ai(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uh(u,v)+(A?" "+A:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Uh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return ls(q)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function dr(){}b(dr,tu),dr.prototype.g=function(){return new XMLHttpRequest},_o=new dr;function Oi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var _e={},Ue={};function oi(u,m,v){u.M=1,u.A=mr(Te(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),li(u),u.B=Te(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),aa(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Hn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(go[0]=L.toString()),L=go);for(let q=0;q<L.length;q++){const tt=re(v,L[q],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Qn(this.g),fe=this.g.ya(),jt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||At!=4||fe==7||(fe==8||jt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var q=A;break e}}q=null}if(u=q)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,ye(12),dn(this),wn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=ou(this,v),ae==Ue){At==4&&(this.m=4,ye(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==_e){this.m=4,ye(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,ae,null),ci(this,ae);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo(tt),tt.P=!0,ye(11))}}else ai(this.i,this.l,v,null),ci(this,v);At==4&&dn(this),this.o&&!this.K&&(At==4?pu(this.j,this):(this.o=!1,li(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),dn(this),wn(this)}}}catch{}finally{}};function kh(u){if(!au(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const A=m.length,L=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ue:(v=Number(m.substring(v,A)),isNaN(v)?_e:(A+=1,A+v>m.length?Ue:(m=m.slice(A,A+v),u.C=A+v,m)))}qn.prototype.cancel=function(){this.K=!0,dn(this)};function li(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(_(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(ii(),ye(17)),dn(this),this.m=2,wn(this)):ia(this,this.T-u)};function wn(u){u.j.I==0||u.K||pu(u.j,u)}function dn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),ps(v);else break t;Er(v),ye(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(_(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&ha(v),!C(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let jt=L[m];const ae=jt[0];if(!(ae<=v.K))if(v.K=ae,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const In=jt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const vi=jt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Kn=jt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yn=u.g;if(Yn){const Ar=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var q=A.h;q.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Eo(q,q.h),q.h=null))}if(A.G){const fa=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(A.wa=fa,Qt(A.J,A.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=u;if(A.na=vu(A,A.L?A.ba:null,A.W),tt.L){Ao(A.h,tt);var At=tt,fe=A.O;fe&&(At.H=fe),At.D&&(ui(At),li(At)),A.g=tt}else mu(A);v.i.length>0&&yi(v)}else jt[0]!="stop"&&jt[0]!="close"||_i(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?_i(v,7):xo(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}ii(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function To(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vo.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return P(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,q=null;A>=0?(L=u[v].substring(0,A),q=u[v].substring(A+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,us(this,u.u),this.h=u.h,So(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),us(this,m[4]),this.h=di(m[5]||"",!0),So(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gr(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gr(m,ra,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gr(v,v.charAt(0)=="/"?wo:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gr(v,cu)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)us(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let tt=0;tt<L.length;){const At=L[tt++];At=="."?A&&tt==L.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&tt==L.length&&q.push("")):(q.push(At),A=!0)}A=q.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?So(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new mn(u)}function ke(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof hs?(u.i=m,oa(u.i,u.l)):(v||(m=gr(m,cs)),u.i=new hs(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function mr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,uu=/[#\?:]/g,wo=/[#\?]/g,cs=/[#\?@]/g,cu=/#/g;function hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=hs.prototype,s.add=function(u,m){sn(this),this.i=null,u=fs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){sn(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return sn(u),m=fs(u,m),u.g.has(m)}s.forEach=function(u,m){sn(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Ro(u,m){sn(u);let v=[];if(typeof m=="string")Co(u,m)&&(v=v.concat(u.g.get(fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return sn(this),this.i=null,u=fs(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(fs(u,m),P(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Oi(v);v=Ro(this,v);for(let q=0;q<v.length;q++){let tt=L;v[q]!==""&&(tt+="="+Oi(v[q])),u.push(tt)}}return this.i=u.join("&")};function fu(u){const m=new hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(hu(this,A),aa(this,L,v))},u)),u.j=m}function Fn(u,m){const v=new jn;if(d.Image){const A=new Image;A.onload=E(Cn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(Cn,v,"TestLoadImage: error",!1,m,A),A.onabort=E(Cn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(Cn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Io(u,m){const v=new jn,A=new AbortController,L=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Cn(v,"TestPingServer: error",!1,m)})}function Cn(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function ds(){this.g=new Wl}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(mi,tu),mi.prototype.g=function(){return new pr(this.i,this.h)};function pr(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(pr,pe),s=pr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ms(this):Gn(this),this.readyState==3&&la(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ms(this))},s.Na=function(u){this.g&&(this.response=u,ms(this))},s.ga=function(){this.g&&ms(this)};function ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Lt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Rn(v),typeof u=="string"?v!=null&&Oi(v):Qt(u,m,v))}function Xt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xt,pe);var gi=/^https?$/i,No=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=w(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){_r(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(No,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of v)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){_r(this,q)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Do(u),Mi(u)}function Do(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Mi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},s.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let tt=String(u.D).match(lu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),A=!gi.test(tt?tt.toLowerCase():"")}v=A}if(v)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var L=Qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Do(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var v=ru(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Gt(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(u&&u.concurrentRequestLimit),this.Ba=new ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=gs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){ye(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=vu(this,null,this.W),yi(this)};function xo(u){if(ua(u),u.I==3){var m=u.V++,v=Te(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Tr(u,v),m=new qn(u,u.j,m),m.M=2,m.A=mr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}_u(u)}function ps(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function ua(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!To(u.h)&&!u.m){u.m=!0;var m=u.Ea;Bt||S(),Et||(Bt(),Et=!0),I.add(m,u),u.D=0}}function ca(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(_(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),v=Te(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Tr(this,v),q&&(this.R?m="headers="+Oi(Rn(q))+"&"+m:this.u&&yr(v,this.u,q)),Eo(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||To(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const A=Te(u.J);Qt(A,"SID",u.M),Qt(A,"RID",v),Qt(A,"AID",u.K),Tr(u,A),u.u&&u.o&&yr(A,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,v),oi(v,A,m)}function Tr(u,m){u.H&&Lt(u.H,function(v,A){Qt(m,A,v)}),u.l&&Lt({},function(v,A){Qt(m,A,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const fe=["count="+v];At==-1?v>0?(At=L[0].g,fe.push("ofs="+At)):At=0:fe.push("ofs="+At);let jt=!0;for(let ae=0;ae<v;ae++){var q=L[ae].g;const In=L[ae].map;if(q-=At,q<0)At=Math.max(0,L[ae].g-100),jt=!1;else try{q="req"+q+"_"||"";try{var tt=In instanceof Map?In:Object.entries(In);for(const[vi,Kn]of tt){let Yn=Kn;g(Kn)&&(Yn=ls(Kn)),fe.push(q+vi+"="+encodeURIComponent(Yn))}}catch(vi){throw fe.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(In)}}if(jt){tt=fe.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Bt||S(),Et||(Bt(),Et=!0),I.add(m,u),u.A=0}}function Er(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(_(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ps(this),gu(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Tr(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(Te(m)),v.u=null,v.R=!0,na(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ps(this),Er(this),ye(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){ha(u),Mo(u),u.g=null;var A=2}else if(fi(u.h,m))v=m.G,Ao(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=ea(),xe(A,new si(A,v)),yi(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&ca(u,m)||A==2&&Er(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const L=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(A,"https"),mr(A),L?Fn(A.toString(),v):Io(A.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),_u(u),ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=bo(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ja,m),H(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var A=v instanceof mn?Te(v):new mn(v);if(A.g!="")m&&(A.g=m+"."+A.g),us(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new mn(null);A&&ke(q,A),m&&(q.g=m),L&&us(q,L),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&Qt(A,v,m),Qt(A,"VER",u.ka),Tr(u,A),A}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new mi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){pe.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}b(tn,pe),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){xo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ls(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&yi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,tn.Z.N.call(this)};function Au(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Au,Pe);function bu(){Sn.call(this),this.status=1}b(bu,Sn);function Ui(u){this.g=u}b(Ui,Eu),Ui.prototype.ra=function(){xe(this.g,"a")},Ui.prototype.qa=function(u){xe(this.g,new Au(u))},Ui.prototype.pa=function(u){xe(this.g,new bu)},Ui.prototype.oa=function(){xe(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,ST=function(){return new ys},bT=function(){return ea()},AT=he,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Bc=fr,yo.COMPLETE="complete",ET=yo,eu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,_l=eu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,TT=Xt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const bv="@firebase/firestore",Sv="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let oo="12.3.0";const Kr=new Im("@firebase/firestore");function qa(){return Kr.logLevel}function st(s,...t){if(Kr.logLevel<=xt.DEBUG){const i=t.map(Pm);Kr.debug(`Firestore (${oo}): ${s}`,...i)}}function ss(s,...t){if(Kr.logLevel<=xt.ERROR){const i=t.map(Pm);Kr.error(`Firestore (${oo}): ${s}`,...i)}}function Ja(s,...t){if(Kr.logLevel<=xt.WARN){const i=t.map(Pm);Kr.warn(`Firestore (${oo}): ${s}`,...i)}}function Pm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,wT(s,a,i)}function wT(s,t,i){let a=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ss(a),new Error(a)}function Ft(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||wT(t,l,a)}function Tt(s,t){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends as{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $s{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class CT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class OC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class MC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class VC{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $s,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $s)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new CT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class UC{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kC{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new UC(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LC{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new wv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BC(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=BC(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ot(s,t){return s<t?-1:s>t?1:0}function lm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Fd(l)===Fd(c)?Ot(l,c):Fd(l)?1:-1}return Ot(s.length,t.length)}const PC=55296,zC=57343;function Fd(s){const t=s.charCodeAt(0);return t>=PC&&t<=zC}function Wa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const Cv="__name__";class Si{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Si.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const a=Si.isNumericId(t),l=Si.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):lm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xs.fromString(t.substring(4,t.length-2))}}class te extends Si{construct(t,i,a){return new te(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new it(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const jC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Si{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return jC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cv}static keyField(){return new Qe([Cv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new it(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new it(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new it(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(te.fromString(t))}static fromName(t){return new ft(te.fromString(t).popFirst(5))}static empty(){return new ft(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new te(t.slice()))}}function RT(s,t,i){if(!i)throw new it(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function qC(s,t,i,a){if(t===!0&&a===!0)throw new it(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Rv(s){if(!ft.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Iv(s){if(ft.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function IT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function ti(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new it(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(s);throw new it(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Re(s,t){const i={typeString:s};return t&&(i.value=t),i}function Fl(s,t){if(!IT(s))throw new it(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new it(X.INVALID_ARGUMENT,i);return!0}const Nv=-62135596800,Dv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Dv);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Nv)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Nv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ie(0,0))}static max(){return new _t(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function HC(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new Js(l,ft.empty(),t)}function FC(s){return new Js(s.readTime,s.key,Dl)}class Js{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Js(_t.min(),ft.empty(),Dl)}static max(){return new Js(_t.max(),ft.empty(),Dl)}}function GC(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:Ot(s.largestBatchId,t.largestBatchId))}const QC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==QC)throw s;st("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++g,g===c&&a(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function YC(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(s){return s.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const jm=-1;function gh(s){return s==null}function Jc(s){return s===0&&1/s==-1/0}function XC(s){return typeof s=="number"&&Number.isInteger(s)&&!Jc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const NT="";function $C(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=xv(t)),t=ZC(s.get(i),t);return xv(t)}function ZC(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case NT:i+="";break;default:i+=c}}return i}function xv(s){return s+NT+""}function Ov(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function rr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function DT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(t){return new Mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new An([])}unionWith(t){let i=new Me(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new An(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class xT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new xT("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const JC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=JC.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function tr(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const OT="server_timestamp",MT="__type__",VT="__previous_value__",UT="__local_write_time__";function qm(s){return(s?.mapValue?.fields||{})[MT]?.stringValue===OT}function ph(s){const t=s.mapValue.fields[VT];return qm(t)?ph(t):t}function xl(s){const t=Ws(s.mapValue.fields[UT].timestampValue);return new ie(t.seconds,t.nanos)}class WC{constructor(t,i,a,l,c,d,g,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const Wc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}const kT="__type__",tR="__max__",Dc={mapValue:{}},LT="__vector__",th="value";function er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qm(s)?4:nR(s)?9007199254740991:eR(s)?10:11:gt(28295,{value:s})}function xi(s,t){if(s===t)return!0;const i=er(s);if(i!==er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return xl(s).isEqual(xl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ws(l.timestampValue),g=Ws(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return tr(l.bytesValue).isEqual(tr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?Jc(d)===Jc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Wa(s.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Ov(d)!==Ov(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!xi(d[y],g[y])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Ml(s,t){return(s.values||[]).find((i=>xi(i,t)))!==void 0}function to(s,t){if(s===t)return 0;const i=er(s),a=er(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return Vv(s.timestampValue,t.timestampValue);case 4:return Vv(xl(s),xl(t));case 5:return lm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=tr(c),y=tr(d);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const E=Ot(g[_],y[_]);if(E!==0)return E}return Ot(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ot(ge(c.latitude),ge(d.latitude));return g!==0?g:Ot(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Uv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[th]?.arrayValue,E=y[th]?.arrayValue,b=Ot(_?.values?.length||0,E?.values?.length||0);return b!==0?b:Uv(_,E)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let b=0;b<y.length&&b<E.length;++b){const w=lm(y[b],E[b]);if(w!==0)return w;const P=to(g[y[b]],_[E[b]]);if(P!==0)return P}return Ot(y.length,E.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function Vv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const i=Ws(s),a=Ws(t),l=Ot(i.seconds,a.seconds);return l!==0?l:Ot(i.nanos,a.nanos)}function Uv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=to(i[l],a[l]);if(c)return c}return Ot(i.length,a.length)}function eo(s){return um(s)}function um(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Ws(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return tr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=um(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${um(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function Pc(s){switch(er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(s);return t?16+Pc(t):16;case 5:return 2*s.stringValue.length;case 6:return tr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return rr(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function kv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function cm(s){return!!s&&"integerValue"in s}function Hm(s){return!!s&&"arrayValue"in s}function Lv(s){return!!s&&"nullValue"in s}function Bv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function eR(s){return(s?.mapValue?.fields||{})[kT]?.stringValue===LT}function Sl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return rr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Sl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(s.arrayValue.values[i]);return t}return{...s}}function nR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===tR}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Sl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){rr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(Sl(this.value))}}function BT(s){const t=[];return rr(s.fields,((i,a)=>{const l=new Qe([i]);if(zc(a)){const c=BT(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new An(t)}class Ze{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,_t.min(),_t.min(),_t.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,_t.min(),_t.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,_t.min(),_t.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function Pv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=to(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function zv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!xi(s.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function iR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class PT{}class Ce extends PT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new rR(t,i,a):i==="array-contains"?new lR(t,a):i==="in"?new uR(t,a):i==="not-in"?new cR(t,a):i==="array-contains-any"?new hR(t,a):new Ce(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new aR(t,a):new oR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends PT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ei(t,i)}matches(t){return zT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zT(s){return s.op==="and"}function jT(s){return sR(s)&&zT(s)}function sR(s){for(const t of s.filters)if(t instanceof ei)return!1;return!0}function hm(s){if(s instanceof Ce)return s.field.canonicalString()+s.op.toString()+eo(s.value);if(jT(s))return s.filters.map((t=>hm(t))).join(",");{const t=s.filters.map((i=>hm(i))).join(",");return`${s.op}(${t})`}}function qT(s,t){return s instanceof Ce?(function(a,l){return l instanceof Ce&&a.op===l.op&&a.field.isEqual(l.field)&&xi(a.value,l.value)})(s,t):s instanceof ei?(function(a,l){return l instanceof ei&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&qT(d,l.filters[g])),!0):!1})(s,t):void gt(19439)}function HT(s){return s instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(s):s instanceof ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(HT).join(" ,")+"}"})(s):"Filter"}class rR extends Ce{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class aR extends Ce{constructor(t,i){super(t,"in",i),this.keys=FT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class oR extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=FT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function FT(s,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class lR extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Hm(i)&&Ml(i.arrayValue,this.value)}}class uR extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class cR extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class hR extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ml(this.value.arrayValue,a)))}}class fR{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function jv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new fR(s,t,i,a,l,c,d)}function Fm(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>eo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>eo(a))).join(",")),t.Te=i}return t.Te}function Gm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!iR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!qT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!zv(s.startAt,t.startAt)&&zv(s.endAt,t.endAt)}function fm(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Gl{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dR(s,t,i,a,l,c,d,g){return new Gl(s,t,i,a,l,c,d,g)}function Qm(s){return new Gl(s)}function qv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function GT(s){return s.collectionGroup!==null}function wl(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new nh(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new nh(Qe.keyField(),a))}return t.Ie}function Ri(s){const t=Tt(s);return t.Ee||(t.Ee=mR(t,wl(s))),t.Ee}function mR(s,t){if(s.limitType==="F")return jv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nh(l.field,c)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return jv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function dm(s,t){const i=s.filters.concat([t]);return new Gl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function mm(s,t,i){return new Gl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function yh(s,t){return Gm(Ri(s),Ri(t))&&s.limitType===t.limitType}function QT(s){return`${Fm(Ri(s))}|lt:${s.limitType}`}function Ha(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>HT(l))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${a})`})(Ri(s))}; limitType=${s.limitType})`}function _h(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,y){const _=Pv(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,wl(a),l)||a.endAt&&!(function(d,g,y){const _=Pv(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,wl(a),l))})(s,t)}function gR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function KT(s){return(t,i)=>{let a=!1;for(const l of wl(s)){const c=pR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function pR(s,t,i){const a=s.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?to(y,_):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class Xr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){rr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return DT(this.inner)}size(){return this.innerSize}}const yR=new le(ft.comparator);function rs(){return yR}const YT=new le(ft.comparator);function vl(...s){let t=YT;for(const i of s)t=t.insert(i.key,i);return t}function XT(s){let t=YT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function jr(){return Cl()}function $T(){return Cl()}function Cl(){return new Xr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const _R=new le(ft.comparator),vR=new Me(ft.comparator);function Mt(...s){let t=vR;for(const i of s)t=t.add(i);return t}const TR=new Me(Ot);function ER(){return TR}function Km(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function ZT(s){return{integerValue:""+s}}function AR(s,t){return XC(t)?ZT(t):Km(s,t)}class vh{constructor(){this._=void 0}}function bR(s,t,i){return s instanceof Vl?(function(l,c){const d={fields:{[MT]:{stringValue:OT},[UT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&qm(c)&&(c=ph(c)),c&&(d.fields[VT]=c),{mapValue:d}})(i,t):s instanceof Ul?WT(s,t):s instanceof kl?tE(s,t):(function(l,c){const d=JT(l,c),g=Hv(d)+Hv(l.Ae);return cm(d)&&cm(l.Ae)?ZT(g):Km(l.serializer,g)})(s,t)}function SR(s,t,i){return s instanceof Ul?WT(s,t):s instanceof kl?tE(s,t):i}function JT(s,t){return s instanceof ih?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Vl extends vh{}class Ul extends vh{constructor(t){super(),this.elements=t}}function WT(s,t){const i=eE(t);for(const a of s.elements)i.some((l=>xi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class kl extends vh{constructor(t){super(),this.elements=t}}function tE(s,t){let i=eE(t);for(const a of s.elements)i=i.filter((l=>!xi(l,a)));return{arrayValue:{values:i}}}class ih extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Hv(s){return ge(s.integerValue||s.doubleValue)}function eE(s){return Hm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class wR{constructor(t,i){this.field=t,this.transform=i}}function CR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Ul&&l instanceof Ul||a instanceof kl&&l instanceof kl?Wa(a.elements,l.elements,xi):a instanceof ih&&l instanceof ih?xi(a.Ae,l.Ae):a instanceof Vl&&l instanceof Vl})(s.transform,t.transform)}class RR{constructor(t,i){this.version=t,this.transformResults=i}}class fn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new fn}static exists(t){return new fn(void 0,t)}static updateTime(t){return new fn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Th{}function nE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Eh(s.key,fn.none()):new Ql(s.key,s.data,fn.none());{const i=s.data,a=hn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ar(s.key,a,new An(l.toArray()),fn.none())}}function IR(s,t,i){s instanceof Ql?(function(l,c,d){const g=l.value.clone(),y=Gv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof ar?(function(l,c,d){if(!jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Gv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(iE(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(s,t,i,a){return s instanceof Ql?(function(c,d,g,y){if(!jc(c.precondition,d))return g;const _=c.value.clone(),E=Qv(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof ar?(function(c,d,g,y){if(!jc(c.precondition,d))return g;const _=Qv(c.fieldTransforms,y,d),E=d.data;return E.setAll(iE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,g){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function NR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=JT(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function Fv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Wa(a,l,((c,d)=>CR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ql extends Th{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ar extends Th{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function iE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Gv(s,t,i){const a=new Map;Ft(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,SR(d,g,i[l]))}return a}function Qv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,bR(c,d,t))}return a}class Eh extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DR extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&IR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=$T();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=nE(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,a)=>Fv(i,a)))&&Wa(this.baseMutations,t.baseMutations,((i,a)=>Fv(i,a)))}}class Ym{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return _R})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Ym(t,i,a,l)}}class OR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MR{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,kt;function VR(s){switch(s){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function sE(s){if(s===void 0)return ss("GRPC error has no .code"),X.UNKNOWN;switch(s){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:s})}}(kt=we||(we={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function UR(){return new TextEncoder}const kR=new Xs([4294967295,4294967295],0);function Kv(s){const t=UR().encode(s),i=new vT;return i.update(t),new Uint8Array(i.digest())}function Yv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xs([i,a],0),new Xs([l,c],0)]}class Xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(a<0)throw new Tl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Xs.fromNumber(a)));return l.compare(kR)===1&&(l=new Xs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Kv(t),[a,l]=Yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Xm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Kv(t),[a,l]=Yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ah(_t.min(),l,new le(Ot),rs(),Mt())}}class Kl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Kl(a,i,Mt(),Mt(),Mt())}}class qc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class rE{constructor(t,i){this.targetId=t,this.Ce=i}}class aE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Xv{constructor(){this.ve=0,this.Fe=$v(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=$v()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LR{constructor(t){this.Ge=t,this.ze=new Map,this.je=rs(),this.Je=xc(),this.He=xc(),this.Ye=new le(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(fm(c))if(a===0){const d=new ft(c.path);this.et(i,d,Ze.newNoDocument(d,_t.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=tr(a).toUint8Array()}catch(y){if(y instanceof xT)return Ja("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Xm(d,l,c)}catch(y){return Ja(y instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&fm(g.target)){const y=new ft(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ah(t,i,this.Ye,this.je,a);return this.je=rs(),this.Je=xc(),this.He=xc(),this.Ye=new le(Ot),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Xv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Xv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new le(ft.comparator)}function $v(){return new le(ft.comparator)}const BR={asc:"ASCENDING",desc:"DESCENDING"},PR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zR={and:"AND",or:"OR"};class jR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gm(s,t){return s.useProto3Json||gh(t)?t:{value:t}}function sh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function qR(s,t){return sh(s,t.toTimestamp())}function Ii(s){return Ft(!!s,49232),_t.fromTimestamp((function(i){const a=Ws(i);return new ie(a.seconds,a.nanos)})(s))}function $m(s,t){return pm(s,t).canonicalString()}function pm(s,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function lE(s){const t=te.fromString(s);return Ft(dE(t),10190,{key:t.toString()}),t}function ym(s,t){return $m(s.databaseId,t.path)}function Gd(s,t){const i=lE(t);if(i.get(1)!==s.databaseId.projectId)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(cE(i))}function uE(s,t){return $m(s.databaseId,t)}function HR(s){const t=lE(s);return t.length===4?te.emptyPath():cE(t)}function _m(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function cE(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Zv(s,t,i){return{name:ym(s,t),fields:i.value.mapValue.fields}}function FR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Ke.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ke.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const E=_.code===void 0?X.UNKNOWN:sE(_.code);return new it(E,_.message||"")})(d);i=new aE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Gd(s,a.document.name),c=Ii(a.document.updateTime),d=a.document.createTime?Ii(a.document.createTime):_t.min(),g=new hn({mapValue:{fields:a.document.fields}}),y=Ze.newFoundDocument(l,c,d,g),_=a.targetIds||[],E=a.removedTargetIds||[];i=new qc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Gd(s,a.document),c=a.readTime?Ii(a.readTime):_t.min(),d=Ze.newNoDocument(l,c),g=a.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Gd(s,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new MR(l,c),g=a.targetId;i=new rE(g,d)}}return i}function GR(s,t){let i;if(t instanceof Ql)i={update:Zv(s,t.key,t.value)};else if(t instanceof Eh)i={delete:ym(s,t.key)};else if(t instanceof ar)i={update:Zv(s,t.key,t.data),updateMask:t2(t.fieldMask)};else{if(!(t instanceof DR))return gt(16599,{Vt:t.type});i={verify:ym(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Vl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ul)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ih)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:qR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function QR(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ii(l.updateTime):Ii(c);return d.isEqual(_t.min())&&(d=Ii(c)),new RR(d,l.transformResults||[])})(i,t)))):[]}function KR(s,t){return{documents:[uE(s,t.path)]}}function YR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=uE(s,l);const c=(function(_){if(_.length!==0)return fE(ei.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(w){return{field:Fa(w.field),direction:ZR(w.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=gm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function XR(s){let t=HR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(b){const w=hE(b);return w instanceof ei&&jT(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((w=>(function(H){return new nh(Ga(H.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(w)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let w;return w=typeof b=="object"?b.value:b,gh(w)?null:w})(i.limit));let y=null;i.startAt&&(y=(function(b){const w=!!b.before,P=b.values||[];return new eh(P,w)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const w=!b.before,P=b.values||[];return new eh(P,w)})(i.endAt)),dR(t,l,d,c,g,"F",y,_)}function $R(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function hE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ga(i.unaryFilter.field);return Ce.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ce.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ei.create(i.compositeFilter.filters.map((a=>hE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function ZR(s){return BR[s]}function JR(s){return PR[s]}function WR(s){return zR[s]}function Fa(s){return{fieldPath:s.canonicalString()}}function Ga(s){return Qe.fromServerFormat(s.fieldPath)}function fE(s){return s instanceof Ce?(function(i){if(i.op==="=="){if(Bv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(Lv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Bv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(Lv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:JR(i.op),value:i.value}}})(s):s instanceof ei?(function(i){const a=i.getFilters().map((l=>fE(l)));return a.length===1?a[0]:{compositeFilter:{op:WR(i.op),filters:a}}})(s):gt(54877,{filter:s})}function t2(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function dE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Gs{constructor(t,i,a,l,c=_t.min(),d=_t.min(),g=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class e2{constructor(t){this.yt=t}}function n2(s){const t=XR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?mm(t,t.limit,"L"):t}class i2{constructor(){this.Cn=new s2}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Js.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Js.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class s2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(te.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(te.comparator)).toArray()}}const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mE=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(mE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class no{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new no(0)}static cr(){return new no(-1)}}const Wv="LruGarbageCollector",r2=1048576;function t0([s,t],[i,a]){const l=Ot(s,i);return l===0?Ot(t,a):l}class a2{constructor(t){this.Ir=t,this.buffer=new Me(t0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();t0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class o2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Wv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?st(Wv,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Vr(3e5)}))}}class l2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(mh.ce);const a=new a2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Jv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,g=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(_=Date.now(),qa()<=xt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function u2(s,t){return new l2(s,t)}class c2{constructor(){this.changes=new Xr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class h2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class f2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Rl(a.mutation,l,An.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=jr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=vl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=rs();const d=Cl(),g=(function(){return Cl()})();return i.forEach(((y,_)=>{const E=a.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof ar)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Rl(E.mutation,_,E.mutation.getFieldMask(),ie.now())):d.set(_.key,An.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>g.set(_,new h2(E,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Cl();let l=new le(((d,g)=>d-g)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||An.empty();E=g.applyToLocalView(_,E),a.set(y,E);const b=(l.get(g.batchId)||Mt()).add(y);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,E=y.value,b=$T();E.forEach((w=>{if(!c.has(w)){const P=nE(i.get(w),a.get(w));P!==null&&b.set(w,P),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):GT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(jr());let g=Dl,y=c;return d.next((_=>Z.forEach(_,((E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{y=y.insert(E,w)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Mt()))).next((E=>({batchId:g,changes:XT(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=vl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(y=>{const _=(function(b,w){return new Gl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((E=>{E.forEach(((b,w)=>{d=d.insert(b,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,Ze.newInvalidDocument(E)))}));let g=vl();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Rl(E.mutation,_,An.empty(),ie.now()),_h(i,_)&&(g=g.insert(y,_))})),g}))}}class d2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ii(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:n2(l.bundledQuery),readTime:Ii(l.readTime)}})(i)),Z.resolve()}}class m2{constructor(){this.overlays=new le(ft.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=jr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=jr(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=jr(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=jr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>g.set(_,E))),!(g.size()>=l)););return Z.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new OR(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class g2{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Zm{constructor(){this.Qr=new Me(Be.$r),this.Ur=new Me(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Be(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Be(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ft(new te([])),a=new Be(i,t),l=new Be(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new te([])),a=new Be(i,t),l=new Be(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Be(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class p2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Be.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new xR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Be(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Be(i,0),l=new Be(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Ot);return i.forEach((l=>{const c=new Be(l,0),d=new Be(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Be(new ft(c),0);let g=new Me(Ot);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Be(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Be(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class y2{constructor(t){this.ri=t,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=rs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=rs();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||GC(FC(E),a)<=0||(l.has(E.key)||_h(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new _2(this)}getSize(t){return Z.resolve(this.size)}}class _2 extends c2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class v2{constructor(t){this.persistence=t,this.si=new Xr((i=>Fm(i)),Gm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=no.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new no(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class gE{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new g2,this.referenceDelegate=t(this),this.Pi=new v2(this),this.indexManager=new i2,this.remoteDocumentCache=(function(l){return new y2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new e2(i),this.Ii=new d2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new m2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new p2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new T2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class T2 extends KC{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Jm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=ft.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.pi=new Xr((a=>$C(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=u2(this,i)}static mi(t,i){return new rh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Wm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Wm(t,i.fromCache,a,l)}}class E2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class A2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cb()?8:YC(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new E2;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(qa()<=xt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(qa()<=xt.DEBUG&&st("QueryEngine","Query:",Ha(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(qa()<=xt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):Z.resolve())}ys(t,i){if(qv(i))return Z.resolve(null);let a=Ri(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=mm(i,null,"F"),a=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,mm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return qv(i)||l.isEqual(_t.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(qa()<=xt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.vs(t,d,i,HC(l,Dl)).next((g=>g)))}))}Ds(t,i){let a=new Me(KT(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return qa()<=xt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.ps.getDocumentsMatchingQuery(t,i,Js.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",b2=3e8;class S2{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Ot),this.xs=new Xr((c=>Fm(c)),Gm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new f2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function w2(s,t,i,a){return new S2(s,t,i,a)}async function pE(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Mt();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){g.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function C2(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,E){const b=_.batch,w=b.keys();let P=Z.resolve();return w.forEach((H=>{P=P.next((()=>E.getEntry(y,H))).next((J=>{const W=_.docVersions.get(H);Ft(W!==null,48541),J.version.compareTo(W)<0&&(b.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),E.addEntry(J)))}))})),P.next((()=>g.mutationQueue.removeMutationBatch(y,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function yE(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function R2(s,t){const i=Tt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((E,b)=>{const w=l.get(b);if(!w)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,b))));let P=w.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?P=P.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,a)),l=l.insert(b,P),(function(J,W,ct){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=b2?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(w,P,E)&&g.push(i.Pi.updateTargetData(c,P))}));let y=rs(),_=Mt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(I2(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(_t.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function I2(s,t,i){let a=Mt(),l=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=rs();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):st(tg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function N2(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function D2(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Gs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function vm(s,t,i){const a=Tt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!uo(d))throw d;st(tg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function e0(s,t,i){const a=Tt(s);let l=_t.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const b=Tt(y),w=b.xs.get(E);return w!==void 0?Z.resolve(b.Ms.get(w)):b.Pi.getTargetData(_,E)})(a,d,Ri(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Mt()))).next((g=>(x2(a,gR(t),g),{documents:g,Qs:c})))))}function x2(s,t,i){let a=s.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class n0{constructor(){this.activeTargetIds=ER()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class O2{constructor(){this.Mo=new n0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new n0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class M2{Oo(t){}shutdown(){}}const i0="ConnectivityMonitor";class s0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(i0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(i0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function Tm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Qd="RestConnection",V2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=Tm(),g=this.zo(t,i.toUriEncodedString());st(Qd,`Sending RPC '${t}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),E=so(_);return this.Jo(t,g,y,a,E).then((b=>(st(Qd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ja(Qd,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",a),b}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=V2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class k2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class L2 extends U2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=Tm();return new Promise(((g,y)=>{const _=new TT;_.setWithCredentials(!0),_.listenOnce(ET.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Bc.NO_ERROR:const b=_.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case Bc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),y(new it(X.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const w=_.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,w,"response text:",_.getResponseText()),w>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=P?.error;if(H&&H.status&&H.message){const J=(function(ct){const rt=ct.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(rt)>=0?rt:X.UNKNOWN})(H.status);y(new it(J,H.message))}else y(new it(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new it(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);st(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=Tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=ST(),g=bT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");st(Xe,`Creating RPC '${t}' stream ${l}: ${E}`,y);const b=d.createWebChannel(E,y);this.I_(b);let w=!1,P=!1;const H=new k2({Yo:W=>{P?st(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(w||(st(Xe,`Opening RPC '${t}' stream ${l} transport.`),b.open(),w=!0),st(Xe,`RPC '${t}' stream ${l} sending:`,W),b.send(W))},Zo:()=>b.close()}),J=(W,ct,rt)=>{W.listen(ct,(lt=>{try{rt(lt)}catch(Ct){setTimeout((()=>{throw Ct}),0)}}))};return J(b,_l.EventType.OPEN,(()=>{P||(st(Xe,`RPC '${t}' stream ${l} transport opened.`),H.o_())})),J(b,_l.EventType.CLOSE,(()=>{P||(P=!0,st(Xe,`RPC '${t}' stream ${l} transport closed`),H.a_(),this.E_(b))})),J(b,_l.EventType.ERROR,(W=>{P||(P=!0,Ja(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),H.a_(new it(X.UNAVAILABLE,"The operation could not be completed")))})),J(b,_l.EventType.MESSAGE,(W=>{if(!P){const ct=W.data[0];Ft(!!ct,16349);const rt=ct,lt=rt?.error||rt[0]?.error;if(lt){st(Xe,`RPC '${t}' stream ${l} received error:`,lt);const Ct=lt.status;let Bt=(function(S){const N=we[S];if(N!==void 0)return sE(N)})(Ct),Et=lt.message;Bt===void 0&&(Bt=X.INTERNAL,Et="Unknown error status: "+Ct+" with message "+lt.message),P=!0,H.a_(new it(Bt,Et)),b.close()}else st(Xe,`RPC '${t}' stream ${l} received:`,ct),H.u_(ct)}})),J(g,AT.STAT_EVENT,(W=>{W.stat===om.PROXY?st(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===om.NOPROXY&&st(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Kd(){return typeof document<"u"?document:null}function bh(s){return new jR(s,!0)}class _E{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const r0="PersistentStream";class vE{constructor(t,i,a,l,c,d,g,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _E(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new it(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(r0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(r0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B2 extends vE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=FR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ii(d.readTime):_t.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=fm(y)?{documents:KR(c,y)}:{query:YR(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=oE(c,d.resumeToken);const _=gm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=sh(c,d.snapshotVersion.toTimestamp());const _=gm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const a=$R(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=_m(this.serializer),i.removeTarget=t,this.q_(i)}}class P2 extends vE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=QR(t.writeResults,t.commitTime),a=Ii(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=_m(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>GR(this.serializer,a)))};this.q_(i)}}class z2{}class j2 extends z2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,pm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(X.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,pm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class q2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yr="RemoteStore";class H2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{$r(this)&&(st(Yr,"Restarting streams for network reachability change."),await(async function(y){const _=Tt(y);_.Ea.add(4),await Yl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Ra=new q2(a,l)}}async function Sh(s){if($r(s))for(const t of s.da)await t(!0)}async function Yl(s){for(const t of s.da)await t(!1)}function TE(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),sg(i)?ig(i):co(i).O_()&&ng(i,t))}function eg(s,t){const i=Tt(s),a=co(i);i.Ia.delete(t),a.O_()&&EE(i,t),i.Ia.size===0&&(a.O_()?a.L_():$r(i)&&i.Ra.set("Unknown"))}function ng(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}co(s).Y_(t)}function EE(s,t){s.Va.Ue(t),co(s).Z_(t)}function ig(s){s.Va=new LR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),co(s).start(),s.Ra.ua()}function sg(s){return $r(s)&&!co(s).x_()&&s.Ia.size>0}function $r(s){return Tt(s).Ea.size===0}function AE(s){s.Va=void 0}async function F2(s){s.Ra.set("Online")}async function G2(s){s.Ia.forEach(((t,i)=>{ng(s,t)}))}async function Q2(s,t){AE(s),sg(s)?(s.Ra.ha(t),ig(s)):s.Ra.set("Unknown")}async function K2(s,t,i){if(s.Ra.set("Online"),t instanceof aE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(a){st(Yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(s,a)}else if(t instanceof qc?s.Va.Ze(t):t instanceof rE?s.Va.st(t):s.Va.tt(t),!i.isEqual(_t.min()))try{const a=await yE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Ke.EMPTY_BYTE_STRING,E.snapshotVersion)),EE(c,y);const b=new Gs(E.target,y,_,E.sequenceNumber);ng(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){st(Yr,"Failed to raise snapshot:",a),await ah(s,a)}}async function ah(s,t,i){if(!uo(t))throw t;s.Ea.add(1),await Yl(s),s.Ra.set("Offline"),i||(i=()=>yE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Yr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Sh(s)}))}function bE(s,t){return t().catch((i=>ah(s,i,t)))}async function wh(s){const t=Tt(s),i=nr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:jm;for(;Y2(t);)try{const l=await N2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,X2(t,l)}catch(l){await ah(t,l)}SE(t)&&wE(t)}function Y2(s){return $r(s)&&s.Ta.length<10}function X2(s,t){s.Ta.push(t);const i=nr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function SE(s){return $r(s)&&!nr(s).x_()&&s.Ta.length>0}function wE(s){nr(s).start()}async function $2(s){nr(s).ra()}async function Z2(s){const t=nr(s);for(const i of s.Ta)t.ea(i.mutations)}async function J2(s,t,i){const a=s.Ta.shift(),l=Ym.from(a,t,i);await bE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await wh(s)}async function W2(s,t){t&&nr(s).X_&&await(async function(a,l){if((function(d){return VR(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();nr(a).B_(),await bE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(a)}})(s,t),SE(s)&&wE(s)}async function a0(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),st(Yr,"RemoteStore received new credentials");const a=$r(i);i.Ea.add(3),await Yl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function tI(s,t){const i=Tt(s);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Yl(i),i.Ra.set("Unknown"))}function co(s){return s.ma||(s.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new B2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:F2.bind(null,s),t_:G2.bind(null,s),r_:Q2.bind(null,s),H_:K2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),sg(s)?ig(s):s.Ra.set("Unknown")):(await s.ma.stop(),AE(s))}))),s.ma}function nr(s){return s.fa||(s.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new P2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:$2.bind(null,s),r_:W2.bind(null,s),ta:Z2.bind(null,s),na:J2.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await wh(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Yr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class rg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new rg(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(s,t){if(ss("AsyncQueue",`${t}: ${s}`),uo(s))return new it(X.UNAVAILABLE,`${t}: ${s}`);throw s}class $a{static emptySet(t){return new $a(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=vl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof $a)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new $a;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class o0{constructor(){this.ga=new le(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class io{constructor(t,i,a,l,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new io(t,i,$a.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class eI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class nI{constructor(){this.queries=l0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=l0(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new it(X.ABORTED,"Firestore shutting down"))}}function l0(){return new Xr((s=>QT(s)),yh)}async function CE(s,t){const i=Tt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new eI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=ag(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&og(i)}async function RE(s,t){const i=Tt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function iI(s,t){const i=Tt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&og(i)}function sI(s,t,i){const a=Tt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function og(s){s.Ca.forEach((t=>{t.next()}))}var Em,u0;(u0=Em||(Em={})).Ma="default",u0.Cache="cache";class IE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new io(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Em.Cache}}class NE{constructor(t){this.key=t}}class DE{constructor(t){this.key=t}}class rI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=KT(t),this.tu=new $a(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new o0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,b)=>{const w=l.get(E),P=_h(this.query,b)?b:null,H=!!w&&this.mutatedKeys.has(w.key),J=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let W=!1;w&&P?w.data.isEqual(P.data)?H!==J&&(a.track({type:3,doc:P}),W=!0):this.su(w,P)||(a.track({type:2,doc:P}),W=!0,(y&&this.eu(P,y)>0||_&&this.eu(P,_)<0)&&(g=!0)):!w&&P?(a.track({type:0,doc:P}),W=!0):w&&!P&&(a.track({type:1,doc:w}),W=!0,(y||_)&&(g=!0)),W&&(P?(d=d.add(P),c=J?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,b)=>(function(P,H){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:W})}};return J(P)-J(H)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new io(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new DE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new NE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class aI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class oI{constructor(t){this.key=t,this.hu=!1}}class lI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xr((g=>QT(g)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ft.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=no.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uI(s,t,i=!0){const a=kE(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await xE(a,t,i,!0),l}async function cI(s,t){const i=kE(s);await xE(i,t,!0,!1)}async function xE(s,t,i,a){const l=await D2(s.localStore,Ri(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await hI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&TE(s.remoteStore,l),g}async function hI(s,t,i,a,l){s.pu=(b,w,P)=>(async function(J,W,ct,rt){let lt=W.view.ru(ct);lt.Cs&&(lt=await e0(J.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,lt))));const Ct=rt&&rt.targetChanges.get(W.targetId),Bt=rt&&rt.targetMismatches.get(W.targetId)!=null,Et=W.view.applyChanges(lt,J.isPrimaryClient,Ct,Bt);return h0(J,W.targetId,Et.au),Et.snapshot})(s,b,w,P);const c=await e0(s.localStore,t,!0),d=new rI(t,c.Qs),g=d.ru(c.documents),y=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,y);h0(s,i,_.au);const E=new aI(t,i,d);return s.Tu.set(t,E),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function fI(s,t,i){const a=Tt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await vm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&eg(a.remoteStore,l.targetId),Am(a,l.targetId)})).catch(lo)):(Am(a,l.targetId),await vm(a.localStore,l.targetId,!0))}async function dI(s,t){const i=Tt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),eg(i.remoteStore,a.targetId))}async function mI(s,t,i){const a=EI(s);try{const l=await(function(d,g){const y=Tt(d),_=ie.now(),E=g.reduce(((P,H)=>P.add(H.key)),Mt());let b,w;return y.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let H=rs(),J=Mt();return y.Ns.getEntries(P,E).next((W=>{H=W,H.forEach(((ct,rt)=>{rt.isValidDocument()||(J=J.add(ct))}))})).next((()=>y.localDocuments.getOverlayedDocuments(P,H))).next((W=>{b=W;const ct=[];for(const rt of g){const lt=NR(rt,b.get(rt.key).overlayedDocument);lt!=null&&ct.push(new ar(rt.key,lt,BT(lt.value.mapValue),fn.exists(!0)))}return y.mutationQueue.addMutationBatch(P,_,ct,g)})).next((W=>{w=W;const ct=W.applyToLocalDocumentSet(b,J);return y.documentOverlayCache.saveOverlays(P,W.batchId,ct)}))})).then((()=>({batchId:w.batchId,changes:XT(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Ot)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Xl(a,l.changes),await wh(a.remoteStore)}catch(l){const c=ag(l,"Failed to persist write");i.reject(c)}}async function OE(s,t){const i=Tt(s);try{const a=await R2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Xl(i,a,t)}catch(a){await lo(a)}}function c0(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Tt(d);y.onlineState=g;let _=!1;y.queries.forEach(((E,b)=>{for(const w of b.Sa)w.va(g)&&(_=!0)})),_&&og(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function gI(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ft.comparator);d=d.insert(c,Ze.newNoDocument(c,_t.min()));const g=Mt().add(c),y=new Ah(_t.min(),new Map,new le(Ot),d,g);await OE(a,y),a.du=a.du.remove(c),a.Au.delete(t),ug(a)}else await vm(a.localStore,t,!1).then((()=>Am(a,t,i))).catch(lo)}async function pI(s,t){const i=Tt(s),a=t.batch.batchId;try{const l=await C2(i.localStore,t);VE(i,a,null),ME(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xl(i,l)}catch(l){await lo(l)}}async function yI(s,t,i){const a=Tt(s);try{const l=await(function(d,g){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,g).next((b=>(Ft(b!==null,37113),E=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);VE(a,t,i),ME(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xl(a,l)}catch(l){await lo(l)}}function ME(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function VE(s,t,i){const a=Tt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Am(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||UE(s,a)}))}function UE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(eg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),ug(s))}function h0(s,t,i){for(const a of i)a instanceof NE?(s.Ru.addReference(a.key,t),_I(s,a)):a instanceof DE?(st(lg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||UE(s,a.key)):gt(19791,{wu:a})}function _I(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(st(lg,"New document in limbo: "+i),s.Eu.add(a),ug(s))}function ug(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ft(te.fromString(t)),a=s.fu.next();s.Au.set(a,new oI(i)),s.du=s.du.insert(i,a),TE(s.remoteStore,new Gs(Ri(Qm(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Xl(s,t,i){const a=Tt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){l.push(_);const E=Wm.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const E=Tt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(w=>Z.forEach(w.Es,(P=>E.persistence.referenceDelegate.addReference(b,w.targetId,P))).next((()=>Z.forEach(w.ds,(P=>E.persistence.referenceDelegate.removeReference(b,w.targetId,P)))))))))}catch(b){if(!uo(b))throw b;st(tg,"Failed to update sequence numbers: "+b)}for(const b of _){const w=b.targetId;if(!b.fromCache){const P=E.Ms.get(w),H=P.snapshotVersion,J=P.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(w,J)}}})(a.localStore,c))}async function vI(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){st(lg,"User change. New user:",t.toKey());const a=await pE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new it(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xl(i,a.Ls)}}function TI(s,t){const i=Tt(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function kE(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gI.bind(null,t),t.Pu.H_=iI.bind(null,t.eventManager),t.Pu.yu=sI.bind(null,t.eventManager),t}function EI(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yI.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return w2(this.persistence,new A2,t.initialUser,this.serializer)}Cu(t){return new gE(Jm.mi,this.serializer)}Du(t){return new O2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class AI extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new o2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new gE((a=>rh.mi(a,i)),this.serializer)}}class bm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>c0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=vI.bind(null,this.syncEngine),await tI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nI})()}createDatastore(t){const i=bh(t.databaseInfo.databaseId),a=(function(c){return new L2(c)})(t.databaseInfo);return(function(c,d,g,y){return new j2(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new H2(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>c0(this.syncEngine,i,0)),(function(){return s0.v()?new s0:new M2})())}createSyncEngine(t,i){return(function(l,c,d,g,y,_,E){const b=new lI(l,c,d,g,y,_);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);st(Yr,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class LE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ir="FirestoreClient";class bI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ag(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Yd(s,t){s.asyncQueue.verifyOperationInProgress(),st(ir,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await pE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function f0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await SI(s);st(ir,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>a0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>a0(t.remoteStore,l))),s._onlineComponents=t}async function SI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(ir,"Using user provided OfflineComponentProvider");try{await Yd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Yd(s,new oh)}}else st(ir,"Using default OfflineComponentProvider"),await Yd(s,new AI(void 0));return s._offlineComponents}async function BE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(ir,"Using user provided OnlineComponentProvider"),await f0(s,s._uninitializedComponentsProvider._online)):(st(ir,"Using default OnlineComponentProvider"),await f0(s,new bm))),s._onlineComponents}function wI(s){return BE(s).then((t=>t.syncEngine))}async function Sm(s){const t=await BE(s),i=t.eventManager;return i.onListen=uI.bind(null,t.syncEngine),i.onUnlisten=fI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=cI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=dI.bind(null,t.syncEngine),i}function CI(s,t,i={}){const a=new $s;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const E=new LE({next:w=>{E.Nu(),d.enqueueAndForget((()=>RE(c,b))),w.fromCache&&y.source==="server"?_.reject(new it(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(w)},error:w=>_.reject(w)}),b=new IE(g,E,{includeMetadataChanges:!0,qa:!0});return CE(c,b)})(await Sm(s),s.asyncQueue,t,i,a))),a.promise}function PE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const d0=new Map;const zE="firestore.googleapis.com",m0=!0;class g0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zE,this.ssl=m0}else this.host=t.host,this.ssl=t.ssl??m0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<r2)throw new it(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ch{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new OC;switch(a.type){case"firstParty":return new kC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new it(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=d0.get(i);a&&(st("ComponentProvider","Removing Datastore"),d0.delete(i),a.terminate())})(this),Promise.resolve()}}function RI(s,t,i,a={}){s=ti(s,Ch);const l=so(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(V0(`https://${g}`),U0("Firestore",!0)),c.host!==zE&&c.host!==g&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:a};if(!Fr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=$e.MOCK_USER;else{_=eb(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new it(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(b)}s._authCredentials=new MC(new CT(_,E))}}class Zr{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Zr(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,Ie._jsonSchema))return new Ie(t,a||null,new ft(te.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Re("string",Ie._jsonSchemaVersion),referencePath:Re("string")};class Zs extends Zr{constructor(t,i,a){super(t,i,Qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new ft(t))}withConverter(t){return new Zs(this.firestore,t,this._path)}}function Br(s,t,...i){if(s=Ve(s),RT("collection","path",t),s instanceof Ch){const a=te.fromString(t,...i);return Iv(a),new Zs(s,null,a)}{if(!(s instanceof Ie||s instanceof Zs))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(t,...i));return Iv(a),new Zs(s.firestore,null,a)}}function zr(s,t,...i){if(s=Ve(s),arguments.length===1&&(t=zm.newId()),RT("doc","path",t),s instanceof Ch){const a=te.fromString(t,...i);return Rv(a),new Ie(s,null,new ft(a))}{if(!(s instanceof Ie||s instanceof Zs))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(t,...i));return Rv(a),new Ie(s.firestore,s instanceof Zs?s.converter:null,new ft(a))}}const p0="AsyncQueue";class y0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _E(this,"async_queue_retry"),this._c=()=>{const a=Kd();a&&st(p0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new $s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;st(p0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",_0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=rg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:_0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function _0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function v0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class sr extends Ch{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new y0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new y0(t),this._firestoreClient=void 0,await t}}}function II(s,t){const i=typeof s=="object"?s:P0(),a=typeof s=="string"?s:Wc,l=Dm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=W1("firestore");c&&RI(l,...c)}return l}function Rh(s){if(s._terminated)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||NI(s),s._firestoreClient}function NI(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new WC(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,PE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new bI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ke.fromBase64String(t))}catch(i){throw new it(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Re("string",Pn._jsonSchemaVersion),bytes:Re("string")};class $l{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ih{constructor(t){this._methodName=t}}class Ni{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Re("string",Ni._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Di{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Di(t.vectorValues);throw new it(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Re("string",Di._jsonSchemaVersion),vectorValues:Re("object")};const DI=/^__.*__$/;class xI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ar(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}class jE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ar(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function qE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class cg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new cg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return lh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(qE(this.Ac)&&DI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class OI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||bh(t)}Cc(t,i,a,l=!1){return new cg({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nh(s){const t=s._freezeSettings(),i=bh(s._databaseId);return new OI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function HE(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);fg("Data must be an object, but it was:",d,a);const g=QE(a,d);let y,_;if(c.merge)y=new An(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const w=wm(t,b,i);if(!d.contains(w))throw new it(X.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);YE(E,w)||E.push(w)}y=new An(E),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new xI(new hn(g),y,_)}class Dh extends Ih{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}class hg extends Ih{_toFieldTransform(t){return new wR(t.path,new Vl)}isEqual(t){return t instanceof hg}}function FE(s,t,i,a){const l=s.Cc(1,t,i);fg("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();rr(a,((y,_)=>{const E=dg(t,y,i);_=Ve(_);const b=l.yc(E);if(_ instanceof Dh)c.push(E);else{const w=Zl(_,b);w!=null&&(c.push(E),d.set(E,w))}}));const g=new An(c);return new jE(d,g,l.fieldTransforms)}function GE(s,t,i,a,l,c){const d=s.Cc(1,t,i),g=[wm(t,a,i)],y=[l];if(c.length%2!=0)throw new it(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(wm(t,c[w])),y.push(c[w+1]);const _=[],E=hn.empty();for(let w=g.length-1;w>=0;--w)if(!YE(_,g[w])){const P=g[w];let H=y[w];H=Ve(H);const J=d.yc(P);if(H instanceof Dh)_.push(P);else{const W=Zl(H,J);W!=null&&(_.push(P),E.set(P,W))}}const b=new An(_);return new jE(E,b,d.fieldTransforms)}function MI(s,t,i,a=!1){return Zl(i,s.Cc(a?4:3,t))}function Zl(s,t){if(KE(s=Ve(s)))return fg("Unsupported field value:",t,s),QE(s,t);if(s instanceof Ih)return(function(a,l){if(!qE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let y=Zl(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Ve(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return AR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:sh(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(l.serializer,c)}}if(a instanceof Ni)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:oE(l.serializer,a._byteString)};if(a instanceof Ie){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Di)return(function(d,g){return{mapValue:{fields:{[kT]:{stringValue:LT},[th]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Km(g.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${dh(a)}`)})(s,t)}function QE(s,t){const i={};return DT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rr(s,((a,l)=>{const c=Zl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function KE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Ni||s instanceof Pn||s instanceof Ie||s instanceof Ih||s instanceof Di)}function fg(s,t,i){if(!KE(i)||!IT(i)){const a=dh(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function wm(s,t,i){if((t=Ve(t))instanceof $l)return t._internalPath;if(typeof t=="string")return dg(s,t);throw lh("Field path arguments must be of type string or ",s,!1,void 0,i)}const VI=new RegExp("[~\\*/\\[\\]]");function dg(s,t,i){if(t.search(VI)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new $l(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new it(X.INVALID_ARGUMENT,g+s+y)}function YE(s,t){return s.some((i=>i.isEqual(t)))}class XE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field($E("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UI extends XE{data(){return super.data()}}function $E(s,t){return typeof t=="string"?dg(s,t):t instanceof $l?t._internalPath:t._delegate._internalPath}function ZE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class kI extends mg{}function Xd(s,t,...i){let a=[];t instanceof mg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof pg)).length,g=c.filter((y=>y instanceof gg)).length;if(d>1||d>0&&g>0)throw new it(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class gg extends kI{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new gg(t,i,a)}_apply(t){const i=this._parse(t);return JE(t._query,i),new Zr(t.firestore,t.converter,dm(t._query,i))}_parse(t){const i=Nh(t.firestore);return(function(c,d,g,y,_,E,b){let w;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new it(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){E0(b,E);const H=[];for(const J of b)H.push(T0(y,c,J));w={arrayValue:{values:H}}}else w=T0(y,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||E0(b,E),w=MI(g,d,b,E==="in"||E==="not-in");return Ce.create(_,E,w)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class pg extends mg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new pg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)JE(d,y),d=dm(d,y)})(t._query,i),new Zr(t.firestore,t.converter,dm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function T0(s,t,i){if(typeof(i=Ve(i))=="string"){if(i==="")throw new it(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GT(t)&&i.indexOf("/")!==-1)throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(te.fromString(i));if(!ft.isDocumentKey(a))throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return kv(s,new ft(a))}if(i instanceof Ie)return kv(s,i._key);throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function E0(s,t){if(!Array.isArray(s)||s.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JE(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class LI{convertValue(t,i="none"){switch(er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return rr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Di(i)}convertGeoPoint(t){return new Ni(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ph(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(xl(t));default:return null}}convertTimestamp(t){const i=Ws(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=te.fromString(t);Ft(dE(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||ss(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function WE(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class El{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qr extends XE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field($E("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Re("string",qr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Hc extends qr{data(t={}){return super.data(t)}}class Hr{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new El(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new El(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new El(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new El(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:BI(g.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Hr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Hr._jsonSchemaVersion="firestore/querySnapshot/1.0",Hr._jsonSchema={type:Re("string",Hr._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class yg extends LI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function PI(s){s=ti(s,Zr);const t=ti(s.firestore,sr),i=Rh(t),a=new yg(t);return ZE(s._query),CI(i,s._query).then((l=>new Hr(t,a,s,l)))}function A0(s,t,i,...a){s=ti(s,Ie);const l=ti(s.firestore,sr),c=Nh(l);let d;return d=typeof(t=Ve(t))=="string"||t instanceof $l?GE(c,"updateDoc",s._key,t,i,a):FE(c,"updateDoc",s._key,t),xh(l,[d.toMutation(s._key,fn.exists(!0))])}function b0(s){return xh(ti(s.firestore,sr),[new Eh(s._key,fn.none())])}function S0(s,t){const i=ti(s.firestore,sr),a=zr(s),l=WE(s.converter,t);return xh(i,[HE(Nh(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,fn.exists(!1))]).then((()=>a))}function w0(s,...t){s=Ve(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||v0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(v0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Ie)d=ti(s.firestore,sr),g=Qm(s._key.path),c={next:y=>{t[a]&&t[a](zI(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=ti(s,Zr);d=ti(y.firestore,sr),g=y._query;const _=new yg(d);c={next:E=>{t[a]&&t[a](new Hr(d,_,y,E))},error:t[a+1],complete:t[a+2]},ZE(s._query)}return(function(_,E,b,w){const P=new LE(w),H=new IE(E,P,b);return _.asyncQueue.enqueueAndForget((async()=>CE(await Sm(_),H))),()=>{P.Nu(),_.asyncQueue.enqueueAndForget((async()=>RE(await Sm(_),H)))}})(Rh(d),g,l,c)}function xh(s,t){return(function(a,l){const c=new $s;return a.asyncQueue.enqueueAndForget((async()=>mI(await wI(a),l,c))),c.promise})(Rh(s),t)}function zI(s,t,i){const a=i.docs.get(t._key),l=new yg(s);return new qr(s,l,t._key,a,new El(i.hasPendingWrites,i.fromCache),t.converter)}class jI{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Nh(t)}set(t,i,a){this._verifyNotCommitted();const l=$d(t,this._firestore),c=WE(l.converter,i,a),d=HE(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,fn.none())),this}update(t,i,a,...l){this._verifyNotCommitted();const c=$d(t,this._firestore);let d;return d=typeof(i=Ve(i))=="string"||i instanceof $l?GE(this._dataReader,"WriteBatch.update",c._key,i,a,l):FE(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,fn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=$d(t,this._firestore);return this._mutations=this._mutations.concat(new Eh(i._key,fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $d(s,t){if((s=Ve(s)).firestore!==t)throw new it(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Mc(){return new hg("serverTimestamp")}function qI(s){return Rh(s=ti(s,sr)),new jI(s,(t=>xh(s,t)))}(function(t,i=!0){(function(l){oo=l})(ro),Za(new Gr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new sr(new VC(a.getProvider("auth-internal")),new LC(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(_.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ys(bv,Sv,t),Ys(bv,Sv,"esm2020")})();const HI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),C0=s=>{const t=FI(s);return t.charAt(0).toUpperCase()+t.slice(1)},tA=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),GI=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var QI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KI=Ht.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},y)=>Ht.createElement("svg",{ref:y,...QI,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:tA("lucide",l),...!c&&!GI(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,E])=>Ht.createElement(_,E)),...Array.isArray(c)?c:[c]]));const bn=(s,t)=>{const i=Ht.forwardRef(({className:a,...l},c)=>Ht.createElement(KI,{ref:c,iconNode:t,className:tA(`lucide-${HI(C0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=C0(s),i};const YI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],eA=bn("arrow-right",YI);const XI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$I=bn("book-open",XI);const ZI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],JI=bn("calendar",ZI);const WI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tN=bn("circle-alert",WI);const eN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zd=bn("circle-check",eN);const nN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iN=bn("clock",nN);const sN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rN=bn("pen",sN);const aN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cm=bn("plus",aN);const oN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lN=bn("save",oN);const uN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cN=bn("search",uN);const hN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nA=bn("trash-2",hN);const fN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dN=bn("users",fN);const mN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iA=bn("x",mN),gN={apiKey:"AIzaSyYourActualKeyHere...",authDomain:"your-project.firebaseapp.com",projectId:"your-project",storageBucket:"your-project.appspot.com",messagingSenderId:"12345...",appId:"1:12345..."},sA=B0(gN),Jd=DC(sA),Ln=II(sA),Jn="school-scheduler-v1",uh=["Monday","Tuesday","Wednesday","Thursday","Friday"],R0=[1,2,3,4,5,6,7],pN=[{name:"5",divisions:["A","B"]},{name:"6",divisions:["A","B"]},{name:"7",divisions:["A","B"]},{name:"8",divisions:["A","B","C"]},{name:"9",divisions:["A","B","C"]},{name:"10",divisions:["A","B","C"]}],yN=[{name:"RIJI",timetable:{Monday:["10A","8A, 8C","10C","8A, 8B","10B","9A, 9C","9A, 9B"],Tuesday:["10A","8A, 8C","9C","8A, 8B","8C","10B","10A, 10C"],Wednesday:["9A, 9C","","10A, 10C","10B","","","9A, 9B"],Thursday:["9A, 9C","8A, 8C","10B","","8B","9B","10A, 10C"],Friday:["","8A, 8C","9C","","10B","10A, 10C","9A, 9C"]}},{name:"KPS",timetable:{Monday:["8B","","","8B","9B","","10B"],Tuesday:["8B","9A","9A","","9B","9A, 9C","10A, 10C"],Wednesday:["9A, 9C","","10A, 10C","10B","","",""],Thursday:["9A, 9C","9A","10B","","8B","9B","10A, 10C"],Friday:["","","9B","","10B","10A, 10C","9A, 9C"]}},{name:"ANV",timetable:{Monday:["","8A, 8C","7A, 7B","","5A, 5B","","6A, 6B"],Tuesday:["","8A, 8C","6A, 6B","","5A, 5B","",""],Wednesday:["","5A, 5B","","","6A, 6B","7A, 7B",""],Thursday:["","","8A, 8C","7A, 7B","6A, 6B","",""],Friday:["","8A, 8C","7A, 7B","5A, 5B","","",""]}},{name:"KCR",timetable:{Monday:["","9A, 9C","8A, 8C","5A, 5B","7A, 7B","6A, 6B","10A, 10C"],Tuesday:["9A, 9C","8A, 8C","5A, 5B","6A, 6B","6A, 6B","9A, 9C","7A, 7B"],Wednesday:["6A, 6B","10A, 10C","10A, 10C","5A, 5B","5A, 5B","6A, 6B","7A, 7B"],Thursday:["6A, 6B","10A, 10C","10A, 10C","8A, 8C","7A, 7B","5A, 5B",""],Friday:["8A, 8C","7A, 7B","5A, 5B","","10A, 10C","9A, 9C",""]}},{name:"RV",timetable:{Monday:["8A","8B","10A","9C","10B","",""],Tuesday:["8A","","10B","9C","10A","",""],Wednesday:["8A","9C","10A","","8B","10B",""],Thursday:["8A","","10A","10B","9C","","8B"],Friday:["8A","10A","10B","","8B","9C","8B"]}},{name:"SL",timetable:{Monday:["10C","9A","8C","","8A","8A",""],Tuesday:["10C","9B","9B","9A","BC","",""],Wednesday:["10C","","9A","9B","8C","",""],Thursday:["10C","9B","9A","","BC","",""],Friday:["10C","","9A","","9B","8C",""]}},{name:"US",timetable:{Monday:["9A","10A","10A","10C","9B","",""],Tuesday:["","9C","8C","10B","","10A","10B"],Wednesday:["","10A","9C","10B","10C","",""],Thursday:["","8C","9B","10A","","9C","9A"],Friday:["9B","10C","8C","10A","9A","",""]}},{name:"NMS",timetable:{Monday:["","6B","6A","7A","","5B",""],Tuesday:["","7B","5A, 5B","","7A","7B",""],Wednesday:["","6B","5A","8A","6A","8B",""],Thursday:["","8B","7B","8A","5B","6A",""],Friday:["","8B","8A","5A","","6B","7A"]}},{name:"SK",timetable:{Monday:["10B","","9A","8B","","10A",""],Tuesday:["10B","10A","8C","8B","","9A",""],Wednesday:["10B","","9A","8C","8B","","10A"],Thursday:["10B","","8B","8C","9A","","10A"],Friday:["10B","","10A","9A","8C","","10A"]}},{name:"GS",timetable:{Monday:["9C","9B","","","8A","10C","10C"],Tuesday:["","","9B","8A","","10C","9C"],Wednesday:["","9B","","9B","","10C","9C"],Thursday:["9B","8A","","9B","","9B","9C"],Friday:["9C","","8A","9B","","","10C"]}},{name:"PKV",timetable:{Monday:["10B","9C","9B","","9A","8C",""],Tuesday:["10C","10A","9A","","10B","",""],Wednesday:["10C","8C","","9C","9B","",""],Thursday:["10A","","10C","10B","10C","",""],Friday:["","","10A","10C","10C","",""]}},{name:"RM",timetable:{Monday:["9B","","8A","8A","8C","","9C"],Tuesday:["9B","","10C","8B","8A","",""],Wednesday:["10A","8B","8A","","9A","",""],Thursday:["8B","10C","","9C","10A","","10B"],Friday:["8B","9A","","8C","","10B",""]}},{name:"AMG",timetable:{Monday:["9C","10C","","10B","8B","","10A"],Tuesday:["9C","","8A","10B","9B","8C",""],Wednesday:["","BC","8B","10C","10A","",""],Thursday:["10A","9C","9A","10C","8A","9B",""],Friday:["","9C","9C","9A","","10B",""]}},{name:"LCV",timetable:{Monday:["8C","","10B","9C","","10A",""],Tuesday:["8C","10B","","10A","","9C","8A"],Wednesday:["8C","8A","","","10A","10B","9C"],Thursday:["8C","10B","9C","","","10A",""],Friday:["10A","10B","","9C","","8A","8A"]}},{name:"SV",timetable:{Monday:["9B","10C","9A","8B","","",""],Tuesday:["9A","8B","10C","10C","9B","",""],Wednesday:["9B","10B","10B","9B","9A","10C",""],Thursday:["10C","9A","8B","9A","","",""],Friday:["10B","8B","9B","","","",""]}},{name:"SB",timetable:{Monday:["9A","5A","8C","7B","","",""],Tuesday:["8B","7A","6B","8A","","",""],Wednesday:["7B","9C","5B","BA","","",""],Thursday:["6A","5B","5A","7A","","",""],Friday:["9B","8B","6B","BC","6A","",""]}},{name:"SH",timetable:{Monday:["5A","8C","6B","9C","8B","",""],Tuesday:["6A","8B","8B","9A","7A","BC",""],Wednesday:["8C","","8C","5B","8A","",""],Thursday:["7B","8B","","9B","BA","",""],Friday:["6A","","","","","",""]}},{name:"SN",timetable:{Monday:["","","","","","",""],Tuesday:["8B","7A","6B","5B","8A","6A",""],Wednesday:["","","","","","","7B"],Thursday:["5A","6B","8C","","","",""],Friday:["","5B","","6A","","7A","7B"]}},{name:"SM",timetable:{Monday:["7A","7B","7A","","","5A, 5B",""],Tuesday:["7A","6A","7A","","5A, 5B","",""],Wednesday:["6B","5A, 5B","6B","6A","7B","",""],Thursday:["7A","6B","7A","6A","7B","6A",""],Friday:["7B","6B","5A, 5B","","","",""]}},{name:"NS",timetable:{Monday:["7B","5B","5A","7B","7A","6A, 6B",""],Tuesday:["7B","","6A, 6B","7A","5B","","7B"],Wednesday:["5B","7A","","","","","SA"],Thursday:["7B","5B","","","6A, 6B","7A",""],Friday:["7B","5B","","7A","5A","",""]}},{name:"BC",timetable:{Monday:["6B","","7A, 7B","6A","5B","SA",""],Tuesday:["6B","5A","","6B","5B","","6A"],Wednesday:["6B","","6A","5A","5B","7A, 7B",""],Thursday:["6B","","5A","7A, 7B","5B","",""],Friday:["6B","","7A, 7B","6A","5B","","SA"]}},{name:"JB",timetable:{Monday:["6A","","6B","5B","7B","7A",""],Tuesday:["6A","6B","","7A","7B","5A",""],Wednesday:["6A","","7B","6B","5B","7A",""],Thursday:["6A","","7A","6B","7B","5A",""],Friday:["6A","7A","","6B","7B","",""]}},{name:"PRV",timetable:{Monday:["5A","6A","SB","6B","6A","",""],Tuesday:["5A","5B","7B","6A","6B","5B",""],Wednesday:["5A","6A","","7B","5A","6B",""],Thursday:["5A","7A","","5B","","6B",""],Friday:["5A","6B","6A","7A","5B","",""]}},{name:"ASA",timetable:{Monday:["5B","7A","","7B","6A","5A",""],Tuesday:["5B","7A","5A","","7B","6A","7A"],Wednesday:["5B","","7A","","","5A","7B"],Thursday:["5B","5A","6B","","7A","","7B"],Friday:["5B","","6B","","5A","7B","5B"]}}],_N=({classes:s,onAddClass:t,onDeleteClass:i,onUpdateClass:a})=>{const[l,c]=Ht.useState(""),[d,g]=Ht.useState(""),[y,_]=Ht.useState(null),E=H=>{H.preventDefault(),l.trim()&&(t(l),c(""))},b=async(H,J)=>{if(!d.trim())return;const W=[...J||[],d.trim().toUpperCase()].sort();await a(H,W),g("")},w=async(H,J,W)=>{const ct=J.filter(rt=>rt!==W);await a(H,ct)},P=[...s].sort((H,J)=>{const W=parseInt(H.name)||0,ct=parseInt(J.name)||0;return W-ct||H.name.localeCompare(J.name)});return U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-full",children:[U.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col",children:[U.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl",children:[U.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[U.jsx($I,{className:"w-5 h-5 text-blue-600"}),"Class Standards"]}),U.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Add grades (e.g., 8, 9, 10)"})]}),U.jsx("div",{className:"p-4 border-b border-slate-100",children:U.jsxs("form",{onSubmit:E,className:"flex gap-2",children:[U.jsx("input",{type:"text",placeholder:"Add Class (e.g. 8)...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:l,onChange:H=>c(H.target.value)}),U.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:U.jsx(Cm,{className:"w-4 h-4"})})]})}),U.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1 min-h-0",children:P.map(H=>U.jsxs("div",{onClick:()=>_(H.id),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all border ${y===H.id?"bg-blue-50 border-blue-200 ring-1 ring-blue-300":"bg-white border-transparent hover:bg-slate-50"}`,children:[U.jsxs("span",{className:"font-bold text-slate-700",children:["Class ",H.name]}),U.jsx("button",{onClick:J=>{J.stopPropagation(),i(H.id)},className:"text-slate-400 hover:text-red-500 p-1",children:U.jsx(nA,{className:"w-4 h-4"})})]},H.id))})]}),U.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col",children:[U.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl",children:[U.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Divisions"}),U.jsx("p",{className:"text-xs text-slate-500 mt-1",children:y?`Managing divisions for Class ${s.find(H=>H.id===y)?.name}`:"Select a class on the left to manage divisions"})]}),y?U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"p-4 border-b border-slate-100",children:U.jsxs("div",{className:"flex gap-2",children:[U.jsx("input",{type:"text",placeholder:"Add Div (e.g. A)...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none uppercase",value:d,onChange:H=>g(H.target.value),maxLength:2}),U.jsx("button",{onClick:()=>b(y,s.find(H=>H.id===y)?.divisions),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:U.jsx(Cm,{className:"w-4 h-4"})})]})}),U.jsx("div",{className:"p-4 flex-1 overflow-y-auto min-h-0",children:U.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.find(H=>H.id===y)?.divisions?.map((H,J)=>U.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-100 text-slate-700 font-bold border border-slate-200",children:[H,U.jsx("button",{onClick:()=>w(y,s.find(W=>W.id===y)?.divisions,H),className:"w-4 h-4 rounded-full bg-slate-300 text-white hover:bg-red-500 flex items-center justify-center",children:U.jsx(iA,{className:"w-3 h-3"})})]},J)),!s.find(H=>H.id===y)?.divisions?.length&&U.jsx("p",{className:"text-sm text-slate-400 italic",children:"No divisions added yet."})]})})]}):U.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:U.jsx(eA,{className:"w-8 h-8 opacity-20"})})]})]})},vN=({teachers:s,onSelectTeacher:t,onDeleteTeacher:i,onAddTeacher:a})=>{const[l,c]=Ht.useState(""),[d,g]=Ht.useState(""),y=E=>{E.preventDefault(),l.trim()&&(a(l),c(""))},_=s.filter(E=>E.name.toLowerCase().includes(d.toLowerCase())).sort((E,b)=>E.name.localeCompare(b.name));return U.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 h-full flex flex-col",children:[U.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl",children:U.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[U.jsx(dN,{className:"w-5 h-5 text-blue-600"}),"Staff Directory"]})}),U.jsxs("div",{className:"p-4 border-b border-slate-100",children:[U.jsxs("form",{onSubmit:y,className:"flex gap-2 mb-3",children:[U.jsx("input",{type:"text",placeholder:"Add Teacher...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:l,onChange:E=>c(E.target.value)}),U.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-1",children:U.jsx(Cm,{className:"w-4 h-4"})})]}),U.jsxs("div",{className:"relative",children:[U.jsx(cN,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),U.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-9 pr-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-blue-400",value:d,onChange:E=>g(E.target.value)})]})]}),U.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1 min-h-0",children:_.length===0?U.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No teachers found."}):_.map(E=>U.jsxs("div",{onClick:()=>t(E),className:"group flex items-center justify-between p-3 rounded-lg hover:bg-blue-50 cursor-pointer border border-transparent hover:border-blue-100 transition-all",children:[U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm font-bold",children:E.name.charAt(0).toUpperCase()}),U.jsx("span",{className:"font-medium text-slate-700 group-hover:text-blue-700",children:E.name})]}),U.jsx("button",{onClick:b=>{b.stopPropagation(),i(E.id)},className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-md transition-all z-10",title:"Delete Teacher",children:U.jsx(nA,{className:"w-4 h-4"})})]},E.id))})]})},TN=({value:s,definedClasses:t,onClose:i,onSave:a})=>{const[l,c]=Ht.useState(new Set),[d,g]=Ht.useState("");Ht.useEffect(()=>{const E=new Set;if(s){s.split(",").map(P=>P.trim().toUpperCase()).forEach(P=>{t.forEach(H=>{(H.divisions||[]).forEach(J=>{const W=`${H.name}${J}`.toUpperCase();P.includes(W)&&E.add(W)})})});let w=s;t.forEach(P=>{(P.divisions||[]).forEach(H=>{const J=`${P.name}${H}`,W=new RegExp(`${J}[, ]*`,"gi");w=w.replace(W,"")})}),g(w.replace(/^[,\s]+|[,\s]+$/g,""))}c(E)},[s,t]);const y=E=>{const b=new Set(l);b.has(E)?b.delete(E):b.add(E),c(b)},_=()=>{let E=Array.from(l).sort().join(", ");d&&(E=E?`${E} ${d}`:d),a(E)};return U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4",children:U.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md flex flex-col max-h-[90vh]",children:[U.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[U.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Select Classes & Subject"}),U.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-100 rounded-full",children:U.jsx(iA,{className:"w-5 h-5"})})]}),U.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[t.map(E=>U.jsxs("div",{children:[U.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 border-b border-slate-100 pb-1",children:["Standard ",E.name]}),U.jsx("div",{className:"flex flex-wrap gap-2",children:(E.divisions||[]).length>0?E.divisions.map(b=>{const w=`${E.name}${b}`.toUpperCase(),P=l.has(w);return U.jsx("button",{onClick:()=>y(w),className:`
                          px-4 py-2 rounded-lg text-sm font-bold border transition-all
                          ${P?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:border-blue-300 hover:bg-slate-50"}
                        `,children:w},b)}):U.jsx("span",{className:"text-xs text-slate-400 italic",children:"No divisions"})})]},E.id)),U.jsxs("div",{children:[U.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"Subject / Note"}),U.jsx("input",{type:"text",placeholder:"e.g. Math, Eng, Library...",className:"w-full p-2 border border-slate-300 rounded-lg text-sm",value:d,onChange:E=>g(E.target.value)})]})]}),U.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50 rounded-b-xl flex justify-end gap-2",children:[U.jsx("button",{onClick:i,className:"px-4 py-2 text-slate-600 font-medium text-sm hover:bg-slate-200 rounded-lg",children:"Cancel"}),U.jsx("button",{onClick:_,className:"px-6 py-2 bg-blue-600 text-white font-medium text-sm rounded-lg hover:bg-blue-700 shadow-sm",children:"Done"})]})]})})},EN=({teacher:s,onUpdateTimetable:t,onClose:i,definedClasses:a})=>{const[l,c]=Ht.useState(s.timetable||{}),[d,g]=Ht.useState(!1),[y,_]=Ht.useState(null);Ht.useEffect(()=>{const w=s.timetable||{};uh.forEach(P=>{w[P]||(w[P]=Array(7).fill(""))}),c(w)},[s]);const E=(w,P,H)=>{const J={...l};J[w]||(J[w]=Array(7).fill("")),J[w][P]=H,c(J),_(null)},b=async()=>{g(!0),await t(s.id,l),g(!1)};return U.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 h-full flex flex-col relative",children:[U.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50 rounded-t-xl",children:[U.jsxs("div",{children:[U.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Master Timetable"}),U.jsxs("p",{className:"text-sm text-slate-500",children:["Editing: ",U.jsx("span",{className:"font-medium text-blue-600",children:s.name})]})]}),U.jsxs("div",{className:"flex gap-2",children:[U.jsx("button",{onClick:i,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg text-sm font-medium",children:"Close"}),U.jsx("button",{onClick:b,disabled:d,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm",children:d?"Saving...":U.jsxs(U.Fragment,{children:[U.jsx(lN,{className:"w-4 h-4"})," Save Changes"]})})]})]}),U.jsx("div",{className:"flex-1 overflow-auto p-4 min-h-0",children:U.jsxs("div",{className:"min-w-[800px]",children:[U.jsxs("div",{className:"grid grid-cols-[100px_repeat(7,1fr)] gap-1 mb-2",children:[U.jsx("div",{className:"font-bold text-slate-400 text-xs uppercase tracking-wider text-center self-end pb-2",children:"Day"}),R0.map(w=>U.jsxs("div",{className:"text-center font-bold text-slate-600 bg-slate-100 py-2 rounded-md text-sm",children:["Pd ",w]},w))]}),uh.map(w=>U.jsxs("div",{className:"grid grid-cols-[100px_repeat(7,1fr)] gap-1 mb-2 items-stretch",children:[U.jsx("div",{className:"font-bold text-slate-700 text-sm flex items-center justify-center bg-slate-50 rounded-md border border-slate-100",children:w.substring(0,3)}),R0.map((P,H)=>{const J=l[w]&&l[w][H]||"";return U.jsxs("div",{onClick:()=>_({day:w,idx:H,value:J}),className:`
                      relative w-full h-16 p-1 text-xs text-center border rounded-md cursor-pointer transition-all flex items-center justify-center group
                      ${J?"bg-blue-50 border-blue-200 text-blue-800 font-bold hover:bg-blue-100":"bg-white border-slate-200 text-slate-300 hover:border-blue-300 hover:bg-slate-50"}
                    `,children:[U.jsx("span",{className:"line-clamp-3 leading-tight px-1",children:J||"-"}),U.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 text-blue-400",children:U.jsx(rN,{className:"w-3 h-3"})})]},`${w}-${P}`)})]},w))]})}),y&&U.jsx(TN,{value:y.value,definedClasses:a,onClose:()=>_(null),onSave:w=>E(y.day,y.idx,w)})]})},AN=({teachers:s,definedClasses:t})=>{const[i,a]=Ht.useState("Monday"),[l,c]=Ht.useState([]),d=b=>{c(w=>w.includes(b)?w.filter(P=>P!==b):[...w,b])},g=Ht.useMemo(()=>{const b=new Set;return t.forEach(w=>{(w.divisions||[]).forEach(P=>{b.add(`${w.name}${P}`.toUpperCase())})}),b},[t]),y=b=>{if(!b)return[];const w=b.toUpperCase(),P=[];for(const H of g)w.includes(H)&&P.push(H);return P},_=(b,w)=>{if(!b.timetable||!w||w.length===0)return!1;for(const P of uh){const H=b.timetable[P];if(H)for(const J of H){if(!J)continue;if(y(J).some(ct=>w.includes(ct)))return!0}}return!1},E=Ht.useMemo(()=>{if(l.length===0)return[];const b=[];return l.forEach(w=>{const P=s.find(H=>H.id===w);!P||!P.timetable||!P.timetable[i]||P.timetable[i].forEach((H,J)=>{if(J<7&&H&&H.trim()!==""){const W=y(H),ct=s.filter(rt=>{if(rt.id===w||l.includes(rt.id))return!1;const Ct=rt.timetable?.[i]?.[J];return(!Ct||Ct.trim()==="")&&W.length>0?_(rt,W):!1});b.push({period:J+1,classInfo:H,targetCodes:W,absentTeacherName:P.name,replacements:ct})}})}),b.sort((w,P)=>w.period-P.period)},[i,l,s,g]);return U.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 h-full flex flex-col overflow-hidden",children:[U.jsxs("div",{className:"p-5 bg-slate-800 text-white",children:[U.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[U.jsx(iN,{className:"w-6 h-6 text-blue-400"}),"Substitution Generator"]}),U.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Strict Mode: Substitutes must teach the target class."})]}),U.jsxs("div",{className:"grid grid-cols-12 h-full overflow-hidden",children:[U.jsxs("div",{className:"col-span-4 bg-slate-50 border-r border-slate-200 p-4 overflow-y-auto",children:[U.jsxs("div",{className:"mb-6",children:[U.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Select Day"}),U.jsx("select",{value:i,onChange:b=>a(b.target.value),className:"w-full p-2 border border-slate-300 rounded-lg bg-white font-medium text-slate-700",children:uh.map(b=>U.jsx("option",{value:b,children:b},b))})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Mark Absent Staff"}),U.jsx("div",{className:"space-y-2",children:s.map(b=>U.jsxs("label",{className:`
                  flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all
                  ${l.includes(b.id)?"bg-red-50 border-red-200 shadow-sm":"bg-white border-slate-200 hover:border-blue-300"}
                `,children:[U.jsx("div",{className:`
                    w-5 h-5 rounded border flex items-center justify-center
                    ${l.includes(b.id)?"bg-red-500 border-red-500":"border-slate-300 bg-white"}
                  `,children:l.includes(b.id)&&U.jsx(Zd,{className:"w-3.5 h-3.5 text-white"})}),U.jsx("input",{type:"checkbox",className:"hidden",checked:l.includes(b.id),onChange:()=>d(b.id)}),U.jsx("span",{className:`font-medium text-sm ${l.includes(b.id)?"text-red-700":"text-slate-700"}`,children:b.name})]},b.id))})]})]}),U.jsx("div",{className:"col-span-8 p-6 overflow-y-auto bg-white",children:l.length===0?U.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[U.jsx(Zd,{className:"w-16 h-16 mb-4 text-slate-200"}),U.jsx("p",{className:"text-lg font-medium",children:"No teachers marked absent."})]}):E.length===0?U.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-green-600",children:[U.jsx(Zd,{className:"w-16 h-16 mb-4"}),U.jsx("p",{className:"text-lg font-bold",children:"No Substitutions Needed"}),U.jsx("p",{className:"text-slate-500 text-sm",children:"Absent teachers have no classes today."})]}):U.jsxs("div",{className:"space-y-6",children:[U.jsx("div",{className:"flex justify-between items-end border-b pb-4 mb-4",children:U.jsxs("div",{children:[U.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Substitution Plan"}),U.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["For ",U.jsx("span",{className:"font-medium text-blue-600",children:i})]})]})}),E.map((b,w)=>U.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden",children:[U.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-100 flex justify-between items-center",children:[U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsxs("span",{className:"bg-slate-800 text-white text-xs font-bold px-2 py-1 rounded",children:["PERIOD ",b.period]}),U.jsx("span",{className:"font-bold text-slate-700",children:b.classInfo})]}),U.jsxs("span",{className:"text-xs font-medium text-red-500 bg-red-50 px-2 py-1 rounded-full border border-red-100",children:["Absent: ",b.absentTeacherName]})]}),U.jsxs("div",{className:"p-4",children:[U.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Substitutes"}),b.replacements.length>0?U.jsx("div",{className:"flex flex-wrap gap-2",children:b.replacements.map(P=>U.jsxs("div",{className:"bg-green-50 text-green-700 border border-green-200 px-3 py-1.5 rounded-md text-sm font-bold flex items-center gap-2 shadow-sm",children:[U.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),P.name]},P.id))}):U.jsxs("div",{className:"bg-red-50 text-red-600 border border-red-100 px-3 py-2 rounded-md text-sm italic flex items-center gap-2",children:[U.jsx(tN,{className:"w-4 h-4"}),"No subject teacher available for this period."]})]})]},w))]})})]})]})};function bN(){const[s,t]=Ht.useState(null),[i,a]=Ht.useState([]),[l,c]=Ht.useState([]),[d,g]=Ht.useState(!0),[y,_]=Ht.useState("manage"),[E,b]=Ht.useState(null);Ht.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await pw(Jd,__initial_auth_token):await hw(Jd)}catch(Ct){console.error("Auth failed",Ct)}})();const lt=vw(Jd,Ct=>{t(Ct),Ct||g(!1)});return()=>lt()},[]),Ht.useEffect(()=>{s&&!d&&(async()=>{if(s)try{const lt=Xd(Br(Ln,"artifacts",Jn,"public","data","teachers"));if((await PI(lt)).empty){console.log("Seeding database...");const Bt=qI(Ln);pN.forEach(Et=>{const I=zr(Br(Ln,"artifacts",Jn,"public","data","classes"));Bt.set(I,{...Et,createdAt:Mc()})}),yN.forEach(Et=>{const I=zr(Br(Ln,"artifacts",Jn,"public","data","teachers"));Bt.set(I,{...Et,createdAt:Mc()})}),await Bt.commit(),console.log("Database seeded successfully")}}catch(lt){console.error("Auto-seed error",lt)}})()},[s,d]),Ht.useEffect(()=>{if(!s)return;const rt=Xd(Br(Ln,"artifacts",Jn,"public","data","teachers")),lt=w0(rt,Et=>{const I=Et.docs.map(S=>({id:S.id,...S.data()}));a(I),(l.length>0||Et.empty)&&g(!1)}),Ct=Xd(Br(Ln,"artifacts",Jn,"public","data","classes")),Bt=w0(Ct,Et=>{const I=Et.docs.map(S=>({id:S.id,...S.data()}));c(I),g(!1)});return()=>{lt(),Bt()}},[s]);const w=async rt=>{s&&await S0(Br(Ln,"artifacts",Jn,"public","data","teachers"),{name:rt,timetable:{},createdAt:Mc()})},P=async(rt,lt)=>{s&&await A0(zr(Ln,"artifacts",Jn,"public","data","teachers",rt),{timetable:lt})},H=async rt=>{s&&confirm("Delete teacher?")&&(await b0(zr(Ln,"artifacts",Jn,"public","data","teachers",rt)),E?.id===rt&&b(null))},J=async rt=>{if(s){if(l.some(lt=>lt.name===rt))return alert("Class exists");await S0(Br(Ln,"artifacts",Jn,"public","data","classes"),{name:rt,divisions:[],createdAt:Mc()})}},W=async(rt,lt)=>{s&&await A0(zr(Ln,"artifacts",Jn,"public","data","classes",rt),{divisions:lt})},ct=async rt=>{s&&confirm("Delete this class standard?")&&await b0(zr(Ln,"artifacts",Jn,"public","data","classes",rt))};return d?U.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50 text-slate-400",children:U.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):U.jsxs("div",{className:"min-h-screen bg-slate-100 text-slate-800 font-sans flex flex-col",children:[U.jsx("header",{className:"bg-slate-800 text-white shadow-md z-10",children:U.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("div",{className:"bg-blue-600 p-1.5 rounded text-white",children:U.jsx(JI,{className:"w-5 h-5"})}),U.jsx("h1",{className:"font-bold text-xl tracking-tight",children:"SchoolScheduler"})]}),U.jsxs("div",{className:"flex bg-slate-700 rounded-lg p-1 gap-1 items-center",children:[U.jsx("button",{onClick:()=>{_("classes"),b(null)},className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${y==="classes"?"bg-white text-slate-800 shadow":"text-slate-300 hover:bg-slate-600"}`,children:"Class Directory"}),U.jsx("button",{onClick:()=>{_("manage"),b(null)},className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${y==="manage"?"bg-white text-slate-800 shadow":"text-slate-300 hover:bg-slate-600"}`,children:"Timetables"}),U.jsx("button",{onClick:()=>_("substitute"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${y==="substitute"?"bg-white text-slate-800 shadow":"text-slate-300 hover:bg-slate-600"}`,children:"Generate Subs"})]})]})}),U.jsx("main",{className:"flex-1 p-4 overflow-hidden",children:U.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)]",children:[y==="classes"&&U.jsx("div",{className:"h-full max-w-4xl mx-auto",children:U.jsx(_N,{classes:l,onAddClass:J,onUpdateClass:W,onDeleteClass:ct})}),y==="manage"&&U.jsxs("div",{className:"grid grid-cols-12 gap-4 h-full",children:[U.jsx("div",{className:"col-span-3 h-full",children:U.jsx(vN,{teachers:i,onSelectTeacher:b,onDeleteTeacher:H,onAddTeacher:w})}),U.jsx("div",{className:"col-span-9 h-full",children:E?U.jsx(EN,{teacher:E,definedClasses:l,onUpdateTimetable:P,onClose:()=>b(null)}):U.jsxs("div",{className:"h-full bg-white rounded-xl border border-slate-200 border-dashed flex flex-col items-center justify-center text-slate-400 p-8 text-center",children:[U.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:U.jsx(eA,{className:"w-8 h-8 text-slate-300"})}),U.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-1",children:"Select a teacher to edit"}),U.jsx("p",{className:"max-w-sm text-sm opacity-75 mb-4",children:"Click a name from the list on the left."})]})})]}),y==="substitute"&&U.jsx(AN,{teachers:i,definedClasses:l})]})})]})}F1.createRoot(document.getElementById("root")).render(U.jsx(Ht.StrictMode,{children:U.jsx(bN,{})}));
