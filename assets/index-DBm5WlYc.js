(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var xd={exports:{}},yo={};var B_;function P1(){if(B_)return yo;B_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return yo.Fragment=t,yo.jsx=i,yo.jsxs=i,yo}var P_;function z1(){return P_||(P_=1,xd.exports=P1()),xd.exports}var V=z1(),Od={exports:{}},Et={};var z_;function j1(){if(z_)return Et;z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),C=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,W={};function ot(M,$,nt){this.props=M,this.context=$,this.refs=W,this.updater=nt||H}ot.prototype.isReactComponent={},ot.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},ot.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function mt(){}mt.prototype=ot.prototype;function pt(M,$,nt){this.props=M,this.context=$,this.refs=W,this.updater=nt||H}var Ut=pt.prototype=new mt;Ut.constructor=pt,J(Ut,ot.prototype),Ut.isPureReactComponent=!0;var dt=Array.isArray;function ht(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(M,$,nt){var rt=nt.ref;return{$$typeof:s,type:M,key:$,ref:rt!==void 0?rt:null,props:nt}}function O(M,$){return w(M.type,$,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return $[nt]})}var R=/\/+/g;function se(M,$){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):$.toString(36)}function Ne(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ht,ht):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,$,nt,rt,vt){var wt=typeof M;(wt==="undefined"||wt==="boolean")&&(M=null);var kt=!1;if(M===null)kt=!0;else switch(wt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(M.$$typeof){case s:case t:kt=!0;break;case E:return kt=M._init,Q(kt(M._payload),$,nt,rt,vt)}}if(kt)return vt=vt(M),kt=rt===""?"."+se(M,0):rt,dt(vt)?(nt="",kt!=null&&(nt=kt.replace(R,"$&/")+"/"),Q(vt,$,nt,"",function(ur){return ur})):vt!=null&&(D(vt)&&(vt=O(vt,nt+(vt.key==null||M&&M.key===vt.key?"":(""+vt.key).replace(R,"$&/")+"/")+kt)),$.push(vt)),1;kt=0;var De=rt===""?".":rt+":";if(dt(M))for(var re=0;re<M.length;re++)rt=M[re],wt=De+se(rt,re),kt+=Q(rt,$,nt,wt,vt);else if(re=B(M),typeof re=="function")for(M=re.call(M),re=0;!(rt=M.next()).done;)rt=rt.value,wt=De+se(rt,re++),kt+=Q(rt,$,nt,wt,vt);else if(wt==="object"){if(typeof M.then=="function")return Q(Ne(M),$,nt,rt,vt);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return kt}function et(M,$,nt){if(M==null)return M;var rt=[],vt=0;return Q(M,rt,"","",function(wt){return $.call(nt,wt,vt++)}),rt}function ft(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var Bt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Gt={map:et,forEach:function(M,$,nt){et(M,function(){$.apply(this,arguments)},nt)},count:function(M){var $=0;return et(M,function(){$++}),$},toArray:function(M){return et(M,function($){return $})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=b,Et.Children=Gt,Et.Component=ot,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=pt,Et.StrictMode=a,Et.Suspense=y,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,$,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=J({},M.props),vt=M.key;if($!=null)for(wt in $.key!==void 0&&(vt=""+$.key),$)!S.call($,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&$.ref===void 0||(rt[wt]=$[wt]);var wt=arguments.length-2;if(wt===1)rt.children=nt;else if(1<wt){for(var kt=Array(wt),De=0;De<wt;De++)kt[De]=arguments[De+2];rt.children=kt}return w(M.type,vt,rt)},Et.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Et.createElement=function(M,$,nt){var rt,vt={},wt=null;if($!=null)for(rt in $.key!==void 0&&(wt=""+$.key),$)S.call($,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=$[rt]);var kt=arguments.length-2;if(kt===1)vt.children=nt;else if(1<kt){for(var De=Array(kt),re=0;re<kt;re++)De[re]=arguments[re+2];vt.children=De}if(M&&M.defaultProps)for(rt in kt=M.defaultProps,kt)vt[rt]===void 0&&(vt[rt]=kt[rt]);return w(M,wt,vt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:g,render:M}},Et.isValidElement=D,Et.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ft}},Et.memo=function(M,$){return{$$typeof:_,type:M,compare:$===void 0?null:$}},Et.startTransition=function(M){var $=N.T,nt={};N.T=nt;try{var rt=M(),vt=N.S;vt!==null&&vt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(ht,Bt)}catch(wt){Bt(wt)}finally{$!==null&&nt.types!==null&&($.types=nt.types),N.T=$}},Et.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Et.use=function(M){return N.H.use(M)},Et.useActionState=function(M,$,nt){return N.H.useActionState(M,$,nt)},Et.useCallback=function(M,$){return N.H.useCallback(M,$)},Et.useContext=function(M){return N.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,$){return N.H.useDeferredValue(M,$)},Et.useEffect=function(M,$){return N.H.useEffect(M,$)},Et.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Et.useId=function(){return N.H.useId()},Et.useImperativeHandle=function(M,$,nt){return N.H.useImperativeHandle(M,$,nt)},Et.useInsertionEffect=function(M,$){return N.H.useInsertionEffect(M,$)},Et.useLayoutEffect=function(M,$){return N.H.useLayoutEffect(M,$)},Et.useMemo=function(M,$){return N.H.useMemo(M,$)},Et.useOptimistic=function(M,$){return N.H.useOptimistic(M,$)},Et.useReducer=function(M,$,nt){return N.H.useReducer(M,$,nt)},Et.useRef=function(M){return N.H.useRef(M)},Et.useState=function(M){return N.H.useState(M)},Et.useSyncExternalStore=function(M,$,nt){return N.H.useSyncExternalStore(M,$,nt)},Et.useTransition=function(){return N.H.useTransition()},Et.version="19.2.0",Et}var j_;function Rm(){return j_||(j_=1,Od.exports=j1()),Od.exports}var jt=Rm(),Md={exports:{}},_o={},Vd={exports:{}},Ud={};var q_;function q1(){return q_||(q_=1,(function(s){function t(Q,et){var ft=Q.length;Q.push(et);t:for(;0<ft;){var Bt=ft-1>>>1,Gt=Q[Bt];if(0<o(Gt,et))Q[Bt]=et,Q[ft]=Gt,ft=Bt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var et=Q[0],ft=Q.pop();if(ft!==et){Q[0]=ft;t:for(var Bt=0,Gt=Q.length,M=Gt>>>1;Bt<M;){var $=2*(Bt+1)-1,nt=Q[$],rt=$+1,vt=Q[rt];if(0>o(nt,ft))rt<Gt&&0>o(vt,nt)?(Q[Bt]=vt,Q[rt]=ft,Bt=rt):(Q[Bt]=nt,Q[$]=ft,Bt=$);else if(rt<Gt&&0>o(vt,ft))Q[Bt]=vt,Q[rt]=ft,Bt=rt;else break t}}return et}function o(Q,et){var ft=Q.sortIndex-et.sortIndex;return ft!==0?ft:Q.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],E=1,b=null,C=3,B=!1,H=!1,J=!1,W=!1,ot=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Ut(Q){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=Q)a(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(_)}}function dt(Q){if(J=!1,Ut(Q),!H)if(i(y)!==null)H=!0,ht||(ht=!0,k());else{var et=i(_);et!==null&&Ne(dt,et.startTime-Q)}}var ht=!1,N=-1,S=5,w=-1;function O(){return W?!0:!(s.unstable_now()-w<S)}function D(){if(W=!1,ht){var Q=s.unstable_now();w=Q;var et=!0;try{t:{H=!1,J&&(J=!1,mt(N),N=-1),B=!0;var ft=C;try{e:{for(Ut(Q),b=i(y);b!==null&&!(b.expirationTime>Q&&O());){var Bt=b.callback;if(typeof Bt=="function"){b.callback=null,C=b.priorityLevel;var Gt=Bt(b.expirationTime<=Q);if(Q=s.unstable_now(),typeof Gt=="function"){b.callback=Gt,Ut(Q),et=!0;break e}b===i(y)&&a(y),Ut(Q)}else a(y);b=i(y)}if(b!==null)et=!0;else{var M=i(_);M!==null&&Ne(dt,M.startTime-Q),et=!1}}break t}finally{b=null,C=ft,B=!1}et=void 0}}finally{et?k():ht=!1}}}var k;if(typeof pt=="function")k=function(){pt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=D,k=function(){se.postMessage(null)}}else k=function(){ot(D,0)};function Ne(Q,et){N=ot(function(){Q(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var et=3;break;default:et=C}var ft=C;C=et;try{return Q()}finally{C=ft}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(Q,et){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=C;C=Q;try{return et()}finally{C=ft}},s.unstable_scheduleCallback=function(Q,et,ft){var Bt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Bt+ft:Bt):ft=Bt,Q){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ft+Gt,Q={id:E++,callback:et,priorityLevel:Q,startTime:ft,expirationTime:Gt,sortIndex:-1},ft>Bt?(Q.sortIndex=ft,t(_,Q),i(y)===null&&Q===i(_)&&(J?(mt(N),N=-1):J=!0,Ne(dt,ft-Bt))):(Q.sortIndex=Gt,t(y,Q),H||B||(H=!0,ht||(ht=!0,k()))),Q},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(Q){var et=C;return function(){var ft=C;C=et;try{return Q.apply(this,arguments)}finally{C=ft}}}})(Ud)),Ud}var H_;function H1(){return H_||(H_=1,Vd.exports=q1()),Vd.exports}var kd={exports:{}},Ye={};var F_;function F1(){if(F_)return Ye;F_=1;var s=Rm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:y,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},Ye.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,b=g(E,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:B}):E==="script"&&a.d.X(y,{crossOrigin:b,integrity:C,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,b=g(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ye.requestFormReset=function(y){a.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var G_;function G1(){if(G_)return kd.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=F1(),kd.exports}var Q_;function Q1(){if(Q_)return _o;Q_=1;var s=H1(),t=Rm(),i=G1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,l=f;break}if(T===l){p=!0,l=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,l=h;break}if(T===l){p=!0,l=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ot:return"Profiler";case W:return"StrictMode";case dt:return"Suspense";case ht:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case pt:return e.displayName||"Context";case mt:return(e._context.displayName||"Context")+".Consumer";case Ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var Ne=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Bt=[],Gt=-1;function M(e){return{current:e}}function $(e){0>Gt||(e.current=Bt[Gt],Bt[Gt]=null,Gt--)}function nt(e,n){Gt++,Bt[Gt]=e.current,e.current=n}var rt=M(null),vt=M(null),wt=M(null),kt=M(null);function De(e,n){switch(nt(wt,n),nt(vt,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?l_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=l_(n),e=o_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(rt),nt(rt,e)}function re(){$(rt),$(vt),$(wt)}function ur(e){e.memoizedState!==null&&nt(kt,e);var n=rt.current,r=o_(n,e.type);n!==r&&(nt(vt,e),nt(rt,r))}function Jr(e){vt.current===e&&($(rt),$(vt)),kt.current===e&&($(kt),fo._currentValue=ft)}var Wr,ta;function ni(e){if(Wr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",ta=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+ta}var fl=!1;function cr(e,n){if(!e||fl)return"";fl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(F){var j=F}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(F){j=F}e.call(Y.prototype)}}else{try{throw Error()}catch(F){j=F}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var I=p.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var G=`
`+I[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{fl=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ni(r):""}function dl(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return cr(e.type,!1);case 11:return cr(e.type.render,!1);case 1:return cr(e.type,!0);case 31:return ni("Activity");default:return""}}function ml(e){try{var n="",r=null;do n+=dl(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,us=s.unstable_cancelCallback,Oh=s.unstable_shouldYield,Wo=s.unstable_requestPaint,tn=s.unstable_now,hr=s.unstable_getCurrentPriorityLevel,gl=s.unstable_ImmediatePriority,pl=s.unstable_UserBlockingPriority,cs=s.unstable_NormalPriority,Mh=s.unstable_LowPriority,tu=s.unstable_IdlePriority,eu=s.log,nu=s.unstable_setDisableYieldValue,jn=null,Pe=null;function Cn(e){if(typeof eu=="function"&&nu(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(jn,e)}catch{}}var he=Math.clz32?Math.clz32:su,iu=Math.log,ea=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(iu(e)/ea|0)|0}var ii=256,fr=262144,ye=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=si(l):(p&=T,p!==0?h=si(p):r||(r=T&~e,r!==0&&(h=si(r))))):(T=l&~f,T!==0?h=si(T):p!==0?h=si(p):r||(r=l&~e,r!==0&&(h=si(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ai(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function dr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uh(e,n,r,l,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-he(r),Y=1<<G;T[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var F=j[G];F!==null&&(F.lane&=-536870913)}r&=~Y}l!==0&&mr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function mr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-he(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function yl(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-he(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function _l(e,n){var r=n&-n;return r=(r&42)!==0?1:gr(r),(r&(e.suspendedLanes|n))!==0?0:r}function gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:x_(e.type))}function Hn(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var Fn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Fn,Ue="__reactProps$"+Fn,li="__reactContainer$"+Fn,na="__reactEvents$"+Fn,kh="__reactListeners$"+Fn,lu="__reactHandles$"+Fn,ou="__reactResources$"+Fn,oi="__reactMarker$"+Fn;function ia(e){delete e[_e],delete e[Ue],delete e[na],delete e[kh],delete e[lu]}function ui(e){var n=e[_e];if(n)return n;for(var r=e.parentNode;r;){if(n=r[li]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=g_(e);e!==null;){if(r=e[_e])return r;e=g_(e)}return n}e=r,r=e.parentNode}return null}function Rn(e){if(e=e[_e]||e[li]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ci(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[oi]=!0}var vl=new Set,Tl={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(Tl[e]=n,e=0;e<n.length;e++)vl.add(n[e])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},bl={};function uu(e){return pe.call(bl,e)?!0:pe.call(Al,e)?!1:El.test(e)?bl[e]=!0:(Al[e]=!0,!1)}function sa(e,n,r){if(uu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function yn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Te(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sl(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=hs(e)?"checked":"value";e._valueTracker=Sl(e,n,""+e[n])}}function pr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=hs(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yr=/[\n"\\]/g;function sn(e){return e.replace(yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,r,l,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?wl(e,p,ke(n)):r!=null?wl(e,p,ke(r)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ke(T):e.removeAttribute("name")}function cu(e,n,r,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}r=r!=null?""+ke(r):"",n=n!=null?""+ke(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qt(e)}function wl(e,n,r){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function fs(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,r){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ke(r):""}function ds(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Ne(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=ke(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Qt(e)}function rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Rl(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Cl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Cl(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return ms.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Il=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,mi=null;function _r(e){var n=Rn(e);if(n&&(e=n.stateNode)){var r=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[Ue]||null;if(!h)throw Error(a(90));ra(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&pr(l)}break t;case"textarea":hu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&fs(e,!!r.multiple,n,!1)}}}var oa=!1;function ps(e,n,r){if(oa)return e(n,r);oa=!0;try{var l=e(n);return l}finally{if(oa=!1,(gs!==null||mi!==null)&&(ac(),gs&&(n=gs,e=mi,mi=gs=null,_r(n),e)))for(n=0;n<e.length;n++)_r(e[n])}}function Qn(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Ue]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Nn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){vr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{vr=!1}var gi=null,Nl=null,Tr=null;function Dl(){if(Tr)return Tr;var e,n=Nl,r=n.length,l,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Tr=h.slice(e,1<l?1-l:void 0)}function Er(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Kn(){return!1}function ze(e){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Kn,this.isPropagationStopped=Kn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=ze(Ui),ys=b({},Ui,{view:0,detail:0}),xl=ze(ys),_s,ua,yi,ca=b({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(_s=e.screenX-yi.screenX,ua=e.screenY-yi.screenY):ua=_s=0,yi=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Ol=ze(ca),Ar=b({},ca,{dataTransfer:0}),mu=ze(Ar),gu=b({},ys,{relatedTarget:0}),br=ze(gu),Ml=b({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=ze(Ml),ha=b({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=ze(ha),_u=b({},Ui,{data:0}),_i=ze(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function vs(){return Au}var en=b({},ys,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=ze(en),Su=b({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=ze(Su),u=b({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),m=ze(u),v=b({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=ze(v),L=b({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ze(L),tt=b({},Ui,{newState:0,oldState:0}),bt=ze(tt),fe=[9,13,27,32],qt=Nn&&"CompositionEvent"in window,ae=null;Nn&&"documentMode"in document&&(ae=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ae,vi=Nn&&(!qt||ae&&8<ae&&11>=ae),Yn=" ",Xn=!1;function Sr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function uA(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Xn=!0,Yn);case"textInput":return e=n.data,e===Yn&&Xn?null:e;default:return null}}function cA(e,n){if(da)return e==="compositionend"||!qt&&Sr(e,n)?(e=Dl(),Tr=Nl=gi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var hA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!hA[e.type]:n==="textarea"}function vg(e,n,r,l){gs?mi?mi.push(l):mi=[l]:gs=l,n=dc(n,"onChange"),0<n.length&&(r=new pi("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Vl=null,Ul=null;function fA(e){e_(e,0)}function wu(e){var n=pn(e);if(pr(n))return e}function Tg(e,n){if(e==="change")return n}var Eg=!1;if(Nn){var Lh;if(Nn){var Bh="oninput"in document;if(!Bh){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Bh=typeof Ag.oninput=="function"}Lh=Bh}else Lh=!1;Eg=Lh&&(!document.documentMode||9<document.documentMode)}function bg(){Vl&&(Vl.detachEvent("onpropertychange",Sg),Ul=Vl=null)}function Sg(e){if(e.propertyName==="value"&&wu(Ul)){var n=[];vg(n,Ul,e,In(e)),ps(fA,n)}}function dA(e,n,r){e==="focusin"?(bg(),Vl=n,Ul=r,Vl.attachEvent("onpropertychange",Sg)):e==="focusout"&&bg()}function mA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Ul)}function gA(e,n){if(e==="click")return wu(n)}function pA(e,n){if(e==="input"||e==="change")return wu(n)}function yA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:yA;function kl(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!pe.call(n,h)||!_n(e[h],n[h]))return!1}return!0}function wg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cg(e,n){var r=wg(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=wg(r)}}function Rg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=di(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var _A=Nn&&"documentMode"in document&&11>=document.documentMode,ma=null,zh=null,Ll=null,jh=!1;function Ng(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jh||ma==null||ma!==di(l)||(l=ma,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ll&&kl(Ll,l)||(Ll=l,l=dc(zh,"onSelect"),0<l.length&&(n=new pi("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=ma)))}function wr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ga={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},qh={},Dg={};Nn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Cr(e){if(qh[e])return qh[e];if(!ga[e])return e;var n=ga[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Dg)return qh[e]=n[r];return e}var xg=Cr("animationend"),Og=Cr("animationiteration"),Mg=Cr("animationstart"),vA=Cr("transitionrun"),TA=Cr("transitionstart"),EA=Cr("transitioncancel"),Vg=Cr("transitionend"),Ug=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function $n(e,n){Ug.set(e,n),hi(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],pa=0,Fh=0;function Ru(){for(var e=pa,n=Fh=pa=0;n<e;){var r=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&kg(r,h,f)}}function Iu(e,n,r,l){xn[pa++]=e,xn[pa++]=n,xn[pa++]=r,xn[pa++]=l,Fh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Gh(e,n,r,l){return Iu(e,n,r,l),Nu(e)}function Rr(e,n){return Iu(e,null,null,n),Nu(e)}function kg(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(r),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Nu(e){if(50<ro)throw ro=0,ed=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function AA(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,n,r,l){return new AA(e,n,r,l)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var r=e.alternate;return r===null?(r=vn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Lg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,r,l,h,f){var p=0;if(l=e,typeof e=="function")Qh(e)&&(p=1);else if(typeof e=="string")p=R1(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=vn(31,r,n,h),e.elementType=w,e.lanes=f,e;case J:return Ir(r.children,h,f,n);case W:p=8,h|=24;break;case ot:return e=vn(12,r,n,h|2),e.elementType=ot,e.lanes=f,e;case dt:return e=vn(13,r,n,h),e.elementType=dt,e.lanes=f,e;case ht:return e=vn(19,r,n,h),e.elementType=ht,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:p=10;break t;case mt:p=9;break t;case Ut:p=11;break t;case N:p=14;break t;case S:p=16,l=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=vn(p,r,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Ir(e,n,r,l){return e=vn(7,e,l,n),e.lanes=r,e}function Kh(e,n,r){return e=vn(6,e,null,n),e.lanes=r,e}function Bg(e){var n=vn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,r){return n=vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pg=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var r=Pg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ml(n)},Pg.set(e,n),n)}return{value:e,source:n,stack:ml(n)}}var _a=[],va=0,xu=null,Bl=0,Mn=[],Vn=0,Ts=null,Ti=1,Ei="";function Bi(e,n){_a[va++]=Bl,_a[va++]=xu,xu=e,Bl=n}function zg(e,n,r){Mn[Vn++]=Ti,Mn[Vn++]=Ei,Mn[Vn++]=Ts,Ts=e;var l=Ti;e=Ei;var h=32-he(l)-1;l&=~(1<<h),r+=1;var f=32-he(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ti=1<<32-he(n)+h|r<<h|l,Ei=f+e}else Ti=1<<f|r<<h|l,Ei=e}function Xh(e){e.return!==null&&(Bi(e,1),zg(e,1,0))}function $h(e){for(;e===xu;)xu=_a[--va],_a[va]=null,Bl=_a[--va],_a[va]=null;for(;e===Ts;)Ts=Mn[--Vn],Mn[Vn]=null,Ei=Mn[--Vn],Mn[Vn]=null,Ti=Mn[--Vn],Mn[Vn]=null}function jg(e,n){Mn[Vn++]=Ti,Mn[Vn++]=Ei,Mn[Vn++]=Ts,Ti=n.id,Ei=n.overflow,Ts=e}var je=null,ee=null,Vt=!1,Es=null,Un=!1,Zh=Error(a(519));function As(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(On(n,e)),Zh}function qg(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[_e]=e,n[Ue]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<lo.length;r++)It(lo[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),cu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ds(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||r_(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||As(e,!0)}function Hg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:je=je.return}}function Ta(e){if(e!==je)return!1;if(!Vt)return Hg(e),Vt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||pd(e.type,e.memoizedProps)),r=!r),r&&ee&&As(e),Hg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=m_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=m_(e)}else n===27?(n=ee,ks(e.type)?(e=Ed,Ed=null,ee=e):ee=n):ee=je?Ln(e.stateNode.nextSibling):null;return!0}function Nr(){ee=je=null,Vt=!1}function Jh(){var e=Es;return e!==null&&(un===null?un=e:un.push.apply(un,e),Es=null),e}function Pl(e){Es===null?Es=[e]:Es.push(e)}var Wh=M(null),Dr=null,Pi=null;function bs(e,n,r){nt(Wh,n._currentValue),n._currentValue=r}function zi(e){e._currentValue=Wh.current,$(Wh)}function tf(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function ef(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),tf(f.return,r,e),l||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),tf(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ea(e,n,r,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;_n(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===kt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fo):e=[fo])}h=h.return}e!==null&&ef(n,e,r,l),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xr(e){Dr=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Fg(Dr,e)}function Mu(e,n){return Dr===null&&xr(e),Fg(e,n)}function Fg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Pi===null){if(e===null)throw Error(a(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return r}var bA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},SA=s.unstable_scheduleCallback,wA=s.unstable_NormalPriority,Ee={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new bA,data:new Map,refCount:0}}function zl(e){e.refCount--,e.refCount===0&&SA(wA,function(){e.controller.abort()})}var jl=null,sf=0,Aa=0,ba=null;function CA(e,n){if(jl===null){var r=jl=[];sf=0,Aa=ld(),ba={status:"pending",value:void 0,then:function(l){r.push(l)}}}return sf++,n.then(Gg,Gg),n}function Gg(){if(--sf===0&&jl!==null){ba!==null&&(ba.status="fulfilled");var e=jl;jl=null,Aa=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function RA(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Qg=Q.S;Q.S=function(e,n){Ny=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&CA(e,n),Qg!==null&&Qg(e,n)};var Or=M(null);function rf(){var e=Or.current;return e!==null?e:Wt.pooledCache}function Vu(e,n){n===null?nt(Or,Or.current):nt(Or,n.pool)}function Kg(){var e=rf();return e===null?null:{parent:Ee._currentValue,pool:e}}var Sa=Error(a(460)),af=Error(a(474)),Uu=Error(a(542)),ku={then:function(){}};function Yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Gn,Gn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zg(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zg(e),e}throw Vr=n,Sa}}function Mr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Vr=r,Sa):r}}var Vr=null;function $g(){if(Vr===null)throw Error(a(459));var e=Vr;return Vr=null,e}function Zg(e){if(e===Sa||e===Uu)throw Error(a(483))}var wa=null,ql=0;function Lu(e){var n=ql;return ql+=1,wa===null&&(wa=[]),Xg(wa,e,n)}function Hl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Bu(e,n){throw n.$$typeof===C?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jg(e){function n(U,x){if(e){var P=U.deletions;P===null?(U.deletions=[x],U.flags|=16):P.push(x)}}function r(U,x){if(!e)return null;for(;x!==null;)n(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function h(U,x){return U=Li(U,x),U.index=0,U.sibling=null,U}function f(U,x,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<x?(U.flags|=67108866,x):P):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function T(U,x,P,K){return x===null||x.tag!==6?(x=Kh(P,U.mode,K),x.return=U,x):(x=h(x,P),x.return=U,x)}function I(U,x,P,K){var ut=P.type;return ut===J?G(U,x,P.props.children,K,P.key):x!==null&&(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Mr(ut)===x.type)?(x=h(x,P.props),Hl(x,P),x.return=U,x):(x=Du(P.type,P.key,P.props,null,U.mode,K),Hl(x,P),x.return=U,x)}function z(U,x,P,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=Yh(P,U.mode,K),x.return=U,x):(x=h(x,P.children||[]),x.return=U,x)}function G(U,x,P,K,ut){return x===null||x.tag!==7?(x=Ir(P,U.mode,K,ut),x.return=U,x):(x=h(x,P),x.return=U,x)}function Y(U,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Kh(""+x,U.mode,P),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case B:return P=Du(x.type,x.key,x.props,null,U.mode,P),Hl(P,x),P.return=U,P;case H:return x=Yh(x,U.mode,P),x.return=U,x;case S:return x=Mr(x),Y(U,x,P)}if(Ne(x)||k(x))return x=Ir(x,U.mode,P,null),x.return=U,x;if(typeof x.then=="function")return Y(U,Lu(x),P);if(x.$$typeof===pt)return Y(U,Mu(U,x),P);Bu(U,x)}return null}function j(U,x,P,K){var ut=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:T(U,x,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===ut?I(U,x,P,K):null;case H:return P.key===ut?z(U,x,P,K):null;case S:return P=Mr(P),j(U,x,P,K)}if(Ne(P)||k(P))return ut!==null?null:G(U,x,P,K,null);if(typeof P.then=="function")return j(U,x,Lu(P),K);if(P.$$typeof===pt)return j(U,x,Mu(U,P),K);Bu(U,P)}return null}function F(U,x,P,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(P)||null,T(x,U,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return U=U.get(K.key===null?P:K.key)||null,I(x,U,K,ut);case H:return U=U.get(K.key===null?P:K.key)||null,z(x,U,K,ut);case S:return K=Mr(K),F(U,x,P,K,ut)}if(Ne(K)||k(K))return U=U.get(P)||null,G(x,U,K,ut,null);if(typeof K.then=="function")return F(U,x,P,Lu(K),ut);if(K.$$typeof===pt)return F(U,x,P,Mu(x,K),ut);Bu(x,K)}return null}function at(U,x,P,K){for(var ut=null,Pt=null,lt=x,Ct=x=0,Dt=null;lt!==null&&Ct<P.length;Ct++){lt.index>Ct?(Dt=lt,lt=null):Dt=lt.sibling;var zt=j(U,lt,P[Ct],K);if(zt===null){lt===null&&(lt=Dt);break}e&&lt&&zt.alternate===null&&n(U,lt),x=f(zt,x,Ct),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt,lt=Dt}if(Ct===P.length)return r(U,lt),Vt&&Bi(U,Ct),ut;if(lt===null){for(;Ct<P.length;Ct++)lt=Y(U,P[Ct],K),lt!==null&&(x=f(lt,x,Ct),Pt===null?ut=lt:Pt.sibling=lt,Pt=lt);return Vt&&Bi(U,Ct),ut}for(lt=l(lt);Ct<P.length;Ct++)Dt=F(lt,U,Ct,P[Ct],K),Dt!==null&&(e&&Dt.alternate!==null&&lt.delete(Dt.key===null?Ct:Dt.key),x=f(Dt,x,Ct),Pt===null?ut=Dt:Pt.sibling=Dt,Pt=Dt);return e&&lt.forEach(function(js){return n(U,js)}),Vt&&Bi(U,Ct),ut}function gt(U,x,P,K){if(P==null)throw Error(a(151));for(var ut=null,Pt=null,lt=x,Ct=x=0,Dt=null,zt=P.next();lt!==null&&!zt.done;Ct++,zt=P.next()){lt.index>Ct?(Dt=lt,lt=null):Dt=lt.sibling;var js=j(U,lt,zt.value,K);if(js===null){lt===null&&(lt=Dt);break}e&&lt&&js.alternate===null&&n(U,lt),x=f(js,x,Ct),Pt===null?ut=js:Pt.sibling=js,Pt=js,lt=Dt}if(zt.done)return r(U,lt),Vt&&Bi(U,Ct),ut;if(lt===null){for(;!zt.done;Ct++,zt=P.next())zt=Y(U,zt.value,K),zt!==null&&(x=f(zt,x,Ct),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return Vt&&Bi(U,Ct),ut}for(lt=l(lt);!zt.done;Ct++,zt=P.next())zt=F(lt,U,Ct,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&lt.delete(zt.key===null?Ct:zt.key),x=f(zt,x,Ct),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return e&&lt.forEach(function(B1){return n(U,B1)}),Vt&&Bi(U,Ct),ut}function Jt(U,x,P,K){if(typeof P=="object"&&P!==null&&P.type===J&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:t:{for(var ut=P.key;x!==null;){if(x.key===ut){if(ut=P.type,ut===J){if(x.tag===7){r(U,x.sibling),K=h(x,P.props.children),K.return=U,U=K;break t}}else if(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Mr(ut)===x.type){r(U,x.sibling),K=h(x,P.props),Hl(K,P),K.return=U,U=K;break t}r(U,x);break}else n(U,x);x=x.sibling}P.type===J?(K=Ir(P.props.children,U.mode,K,P.key),K.return=U,U=K):(K=Du(P.type,P.key,P.props,null,U.mode,K),Hl(K,P),K.return=U,U=K)}return p(U);case H:t:{for(ut=P.key;x!==null;){if(x.key===ut)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){r(U,x.sibling),K=h(x,P.children||[]),K.return=U,U=K;break t}else{r(U,x);break}else n(U,x);x=x.sibling}K=Yh(P,U.mode,K),K.return=U,U=K}return p(U);case S:return P=Mr(P),Jt(U,x,P,K)}if(Ne(P))return at(U,x,P,K);if(k(P)){if(ut=k(P),typeof ut!="function")throw Error(a(150));return P=ut.call(P),gt(U,x,P,K)}if(typeof P.then=="function")return Jt(U,x,Lu(P),K);if(P.$$typeof===pt)return Jt(U,x,Mu(U,P),K);Bu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(r(U,x.sibling),K=h(x,P),K.return=U,U=K):(r(U,x),K=Kh(P,U.mode,K),K.return=U,U=K),p(U)):r(U,x)}return function(U,x,P,K){try{ql=0;var ut=Jt(U,x,P,K);return wa=null,ut}catch(lt){if(lt===Sa||lt===Uu)throw lt;var Pt=vn(29,lt,null,U.mode);return Pt.lanes=K,Pt.return=U,Pt}finally{}}}var Ur=Jg(!0),Wg=Jg(!1),Ss=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Nu(e),kg(e,null,r),n}return Iu(e,l,n,r),Nu(e)}function Fl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,yl(e,r)}}function uf(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var cf=!1;function Gl(){if(cf){var e=ba;if(e!==null)throw e}}function Ql(e,n,r,l){cf=!1;var h=e.updateQueue;Ss=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==p&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;p=0,G=z=I=null,T=f;do{var j=T.lane&-536870913,F=j!==T.lane;if(F?(Nt&j)===j:(l&j)===j){j!==0&&j===Aa&&(cf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=e,gt=T;j=n;var Jt=r;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){Y=at.call(Jt,Y,j);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,j=typeof at=="function"?at.call(Jt,Y,j):at,j==null)break t;Y=b({},Y,j);break t;case 2:Ss=!0}}j=T.callback,j!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=F,I=Y):G=G.next=F,p|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),xs|=p,e.lanes=p,e.memoizedState=Y}}function tp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ep(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)tp(r[e],n)}var Ca=M(null),Pu=M(0);function np(e,n){e=Xi,nt(Pu,e),nt(Ca,n),Xi=e|n.baseLanes}function hf(){nt(Pu,Xi),nt(Ca,Ca.current)}function ff(){Xi=Pu.current,$(Ca),$(Pu)}var Tn=M(null),kn=null;function Rs(e){var n=e.alternate;nt(de,de.current&1),nt(Tn,e),kn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(kn=e)}function df(e){nt(de,de.current),nt(Tn,e),kn===null&&(kn=e)}function ip(e){e.tag===22?(nt(de,de.current),nt(Tn,e),kn===null&&(kn=e)):Is()}function Is(){nt(de,de.current),nt(Tn,Tn.current)}function En(e){$(Tn),kn===e&&(kn=null),$(de)}var de=M(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||vd(r)||Td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,St=null,$t=null,Ae=null,ju=!1,Ra=!1,kr=!1,qu=0,Kl=0,Ia=null,IA=0;function ue(){throw Error(a(321))}function mf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!_n(e[r],n[r]))return!1;return!0}function gf(e,n,r,l,h,f){return ji=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?zp:Df,kr=!1,f=r(l,h),kr=!1,Ra&&(f=rp(n,r,l,h)),sp(e),f}function sp(e){Q.H=$l;var n=$t!==null&&$t.next!==null;if(ji=0,Ae=$t=St=null,ju=!1,Kl=0,Ia=null,n)throw Error(a(300));e===null||be||(e=e.dependencies,e!==null&&Ou(e)&&(be=!0))}function rp(e,n,r,l){St=e;var h=0;do{if(Ra&&(Ia=null),Kl=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=jp,f=n(r,l)}while(Ra);return f}function NA(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Yl(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(St.flags|=1024),n}function pf(){var e=qu!==0;return qu=0,e}function yf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function _f(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}ji=0,Ae=$t=St=null,Ra=!1,Kl=qu=0,Ia=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if($t===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,$t=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(e){var n=Kl;return Kl+=1,Ia===null&&(Ia=[]),e=Xg(Ia,e,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?zp:Df),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yl(e);if(e.$$typeof===pt)return qe(e)}throw Error(a(438,String(e)))}function vf(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=O;return n.index++,r}function qi(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=me();return Tf(n,$t,e)}function Tf(e,n,r){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,I=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Nt&Y)===Y:(ji&Y)===Y){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Aa&&(G=!0);else if((ji&j)===j){z=z.next,j===Aa&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=Y,p=f):I=I.next=Y,St.lanes|=j,xs|=j;Y=z.action,kr&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=j,p=f):I=I.next=j,St.lanes|=Y,xs|=Y;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=T,!_n(f,e.memoizedState)&&(be=!0,G&&(r=ba,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ef(e){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);_n(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ap(e,n,r){var l=St,h=me(),f=Vt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!_n(($t||h).memoizedState,r);if(p&&(h.memoizedState=r,be=!0),h=h.queue,Sf(up.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Na(9,{destroy:void 0},op.bind(null,l,h,r,n),null),Wt===null)throw Error(a(349));f||(ji&127)!==0||lp(l,n,r)}return r}function lp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Hu(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function op(e,n,r,l){n.value=r,n.getSnapshot=l,cp(n)&&hp(e)}function up(e,n,r){return r(function(){cp(n)&&hp(e)})}function cp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!_n(e,r)}catch{return!0}}function hp(e){var n=Rr(e,2);n!==null&&cn(n,e,2)}function Af(e){var n=nn();if(typeof e=="function"){var r=e;if(e=r(),kr){Cn(!0);try{r()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function fp(e,n,r,l){return e.baseState=r,Tf(e,$t,typeof l=="function"?l:qi)}function DA(e,n,r,l,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};Q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,dp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function dp(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=Q.T,p={};Q.T=p;try{var T=r(h,l),I=Q.S;I!==null&&I(p,T),mp(e,n,T)}catch(z){bf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),Q.T=f}}else try{f=r(h,l),mp(e,n,f)}catch(z){bf(e,n,z)}}function mp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){gp(e,n,l)},function(l){return bf(e,n,l)}):gp(e,n,r)}function gp(e,n,r){n.status="fulfilled",n.value=r,pp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,dp(e,r)))}function bf(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,pp(n),n=n.next;while(n!==l)}e.action=null}function pp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function yp(e,n){return n}function _p(e,n){if(Vt){var r=Wt.formState;if(r!==null){t:{var l=St;if(Vt){if(ee){e:{for(var h=ee,f=Un;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Ln(h.nextSibling),l=h.data==="F!";break t}}As(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:n},r.queue=l,r=Lp.bind(null,St,l),l.dispatch=r,l=Af(!1),f=Nf.bind(null,St,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=DA.bind(null,St,h,f,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function vp(e){var n=me();return Tp(n,$t,e)}function Tp(e,n,r){if(n=Tf(e,n,yp)[0],e=Gu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Yl(n)}catch(p){throw p===Sa?Uu:p}else l=n;n=me();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Na(9,{destroy:void 0},xA.bind(null,h,r),null)),[l,f,e]}function xA(e,n){e.action=n}function Ep(e){var n=me(),r=$t;if(r!==null)return Tp(n,r,e);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Na(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=Hu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function Ap(){return me().memoizedState}function Qu(e,n,r,l){var h=nn();St.flags|=e,h.memoizedState=Na(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ku(e,n,r,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;$t!==null&&l!==null&&mf(l,$t.memoizedState.deps)?h.memoizedState=Na(n,f,r,l):(St.flags|=e,h.memoizedState=Na(1|n,f,r,l))}function bp(e,n){Qu(8390656,8,e,n)}function Sf(e,n){Ku(2048,8,e,n)}function OA(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Hu(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Sp(e){var n=me().memoizedState;return OA({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function wp(e,n){return Ku(4,2,e,n)}function Cp(e,n){return Ku(4,4,e,n)}function Rp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ip(e,n,r){r=r!=null?r.concat([e]):null,Ku(4,4,Rp.bind(null,n,e),r)}function wf(){}function Np(e,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&mf(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Dp(e,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&mf(n,l[1]))return l[0];if(l=e(),kr){Cn(!0);try{e()}finally{Cn(!1)}}return r.memoizedState=[l,n],l}function Cf(e,n,r){return r===void 0||(ji&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=xy(),St.lanes|=e,xs|=e,r)}function xp(e,n,r,l){return _n(r,n)?r:Ca.current!==null?(e=Cf(e,r,l),_n(e,n)||(be=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(Nt&261930)===0?(be=!0,e.memoizedState=r):(e=xy(),St.lanes|=e,xs|=e,n)}function Op(e,n,r,l,h){var f=et.p;et.p=f!==0&&8>f?f:8;var p=Q.T,T={};Q.T=T,Nf(e,!1,n,r);try{var I=h(),z=Q.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=RA(I,l);Xl(e,n,G,Sn(e))}else Xl(e,n,l,Sn(e))}catch(Y){Xl(e,n,{then:function(){},status:"rejected",reason:Y},Sn())}finally{et.p=f,p!==null&&T.types!==null&&(p.types=T.types),Q.T=p}}function MA(){}function Rf(e,n,r,l){if(e.tag!==5)throw Error(a(476));var h=Mp(e).queue;Op(e,h,n,ft,r===null?MA:function(){return Vp(e),r(l)})}function Mp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Vp(e){var n=Mp(e);n.next===null&&(n=e.alternate.memoizedState),Xl(e,n.next.queue,{},Sn())}function If(){return qe(fo)}function Up(){return me().memoizedState}function kp(){return me().memoizedState}function VA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Sn();e=ws(r);var l=Cs(n,e,r);l!==null&&(cn(l,n,r),Fl(l,n,r)),n={cache:nf()},e.payload=n;return}n=n.return}}function UA(e,n,r){var l=Sn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Bp(n,r):(r=Gh(e,n,r,l),r!==null&&(cn(r,e,l),Pp(r,n,l)))}function Lp(e,n,r){var l=Sn();Xl(e,n,r,l)}function Xl(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Bp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,_n(T,p))return Iu(e,n,h,0),Wt===null&&Ru(),!1}catch{}finally{}if(r=Gh(e,n,h,l),r!==null)return cn(r,e,l),Pp(r,n,l),!0}return!1}function Nf(e,n,r,l){if(l={lane:2,revertLane:ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=Gh(e,r,l,2),n!==null&&cn(n,e,2)}function Yu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Bp(e,n){Ra=ju=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Pp(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,yl(e,r)}}var $l={readContext:qe,use:Fu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};$l.useEffectEvent=ue;var zp={readContext:qe,use:Fu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:bp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Qu(4194308,4,Rp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var r=nn();n=n===void 0?null:n;var l=e();if(kr){Cn(!0);try{e()}finally{Cn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=nn();if(r!==void 0){var h=r(n);if(kr){Cn(!0);try{r(n)}finally{Cn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=UA.bind(null,St,e),[l.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,r=Lp.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:wf,useDeferredValue:function(e,n){var r=nn();return Cf(r,e,n)},useTransition:function(){var e=Af(!1);return e=Op.bind(null,St,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=St,h=nn();if(Vt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(Nt&127)!==0||lp(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,bp(up.bind(null,l,f,e),[e]),l.flags|=2048,Na(9,{destroy:void 0},op.bind(null,l,f,r,n),null),r},useId:function(){var e=nn(),n=Wt.identifierPrefix;if(Vt){var r=Ei,l=Ti;r=(l&~(1<<32-he(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=IA++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:If,useFormState:_p,useActionState:_p,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Nf.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return nn().memoizedState=VA.bind(null,St)},useEffectEvent:function(e){var n=nn(),r={impl:e};return n.memoizedState=r,function(){if((Ht&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Df={readContext:qe,use:Fu,useCallback:Np,useContext:qe,useEffect:Sf,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Cp,useMemo:Dp,useReducer:Gu,useRef:Ap,useState:function(){return Gu(qi)},useDebugValue:wf,useDeferredValue:function(e,n){var r=me();return xp(r,$t.memoizedState,e,n)},useTransition:function(){var e=Gu(qi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Yl(e),n]},useSyncExternalStore:ap,useId:Up,useHostTransitionStatus:If,useFormState:vp,useActionState:vp,useOptimistic:function(e,n){var r=me();return fp(r,$t,e,n)},useMemoCache:vf,useCacheRefresh:kp};Df.useEffectEvent=Sp;var jp={readContext:qe,use:Fu,useCallback:Np,useContext:qe,useEffect:Sf,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Cp,useMemo:Dp,useReducer:Ef,useRef:Ap,useState:function(){return Ef(qi)},useDebugValue:wf,useDeferredValue:function(e,n){var r=me();return $t===null?Cf(r,e,n):xp(r,$t.memoizedState,e,n)},useTransition:function(){var e=Ef(qi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Yl(e),n]},useSyncExternalStore:ap,useId:Up,useHostTransitionStatus:If,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var r=me();return $t!==null?fp(r,$t,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:vf,useCacheRefresh:kp};jp.useEffectEvent=Sp;function xf(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Of={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Sn(),h=ws(l);h.payload=n,r!=null&&(h.callback=r),n=Cs(e,h,l),n!==null&&(cn(n,e,l),Fl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Sn(),h=ws(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Cs(e,h,l),n!==null&&(cn(n,e,l),Fl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Sn(),l=ws(r);l.tag=2,n!=null&&(l.callback=n),n=Cs(e,l,r),n!==null&&(cn(n,e,r),Fl(n,e,r))}};function qp(e,n,r,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!kl(r,l)||!kl(h,f):!0}function Hp(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function Lr(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Fp(e){Cu(e)}function Gp(e){console.error(e)}function Qp(e){Cu(e)}function Xu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Kp(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,r){return r=ws(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(e,n)},r}function Yp(e){return e=ws(e),e.tag=3,e}function Xp(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Kp(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Kp(n,r,l),typeof h!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function kA(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ea(n,r,h,!0),r=Tn.current,r!==null){switch(r.tag){case 31:case 13:return kn===null?lc():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),sd(e,l,h)),!1;case 22:return r.flags|=65536,l===ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),sd(e,l,h)),!1}throw Error(a(435,r.tag))}return sd(e,l,h),lc(),!1}if(Vt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zh&&(e=Error(a(422),{cause:l}),Pl(On(e,r)))):(l!==Zh&&(n=Error(a(423),{cause:l}),Pl(On(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=On(l,r),h=Mf(e.stateNode,l,h),uf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:l});if(f=On(f,r),so===null?so=[f]:so.push(f),ce!==4&&(ce=2),n===null)return!0;l=On(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Mf(r.stateNode,l,e),uf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Os===null||!Os.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Yp(h),Xp(h,e,r,l),uf(r,h),!1}r=r.return}while(r!==null);return!1}var Vf=Error(a(461)),be=!1;function He(e,n,r,l){n.child=e===null?Wg(n,null,r,l):Ur(n,e.child,r,l)}function $p(e,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return xr(n),l=gf(e,n,r,p,f,h),T=pf(),e!==null&&!be?(yf(e,n,h),Hi(e,n,h)):(Vt&&T&&Xh(n),n.flags|=1,He(e,n,l,h),n.child)}function Zp(e,n,r,l,h){if(e===null){var f=r.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Jp(e,n,f,l,h)):(e=Du(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!qf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:kl,r(p,l)&&e.ref===n.ref)return Hi(e,n,h)}return n.flags|=1,e=Li(f,l),e.ref=n.ref,e.return=n,n.child=e}function Jp(e,n,r,l,h){if(e!==null){var f=e.memoizedProps;if(kl(f,l)&&e.ref===n.ref)if(be=!1,n.pendingProps=l=f,qf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Hi(e,n,h)}return Uf(e,n,r,l,h)}function Wp(e,n,r,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ty(e,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?np(n,f):hf(),ip(n);else return l=n.lanes=536870912,ty(e,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Vu(n,f.cachePool),np(n,f),Is(),n.memoizedState=null):(e!==null&&Vu(n,null),hf(),Is());return He(e,n,h,r),n.child}function Zl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(e,n,r,l,h){var f=rf();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Vu(n,null),hf(),ip(n),e!==null&&Ea(e,n,l,!0),n.childLanes=h,null}function $u(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ey(e,n,r){return Ur(n,e.child,null,r),e=$u(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function LA(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(l.mode==="hidden")return e=$u(n,l),n.lanes=536870912,Zl(null,e);if(df(n),(e=ee)?(e=d_(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},r=Bg(e),r.return=n,n.child=r,je=n,ee=null)):e=null,e===null)throw As(n);return n.lanes=536870912,null}return $u(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=ey(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(be||Ea(e,n,r,!1),h=(r&e.childLanes)!==0,be||h){if(l=Wt,l!==null&&(p=_l(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Rr(e,p),cn(l,e,p),Vf;lc(),n=ey(e,n,r)}else e=f.treeContext,ee=Ln(p.nextSibling),je=n,Vt=!0,Es=null,Un=!1,e!==null&&jg(n,e),n=$u(n,l),n.flags|=4096;return n}return e=Li(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Uf(e,n,r,l,h){return xr(n),r=gf(e,n,r,l,void 0,h),l=pf(),e!==null&&!be?(yf(e,n,h),Hi(e,n,h)):(Vt&&l&&Xh(n),n.flags|=1,He(e,n,r,h),n.child)}function ny(e,n,r,l,h,f){return xr(n),n.updateQueue=null,r=rp(n,l,r,h),sp(e),l=pf(),e!==null&&!be?(yf(e,n,f),Hi(e,n,f)):(Vt&&l&&Xh(n),n.flags|=1,He(e,n,r,f),n.child)}function iy(e,n,r,l,h){if(xr(n),n.stateNode===null){var f=ya,p=r.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?qe(p):ya,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(xf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Of.enqueueReplaceState(f,f.state,null),Ql(n,l,f,h),Gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=Lr(r,T);f.props=I;var z=f.context,G=r.contextType;p=ya,typeof G=="object"&&G!==null&&(p=qe(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Hp(n,f,l,p),Ss=!1;var j=n.memoizedState;f.state=j,Ql(n,l,f,h),Gl(),z=n.memoizedState,T||j!==z||Ss?(typeof Y=="function"&&(xf(n,r,Y,l),z=n.memoizedState),(I=Ss||qp(n,r,I,l,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,of(e,n),p=n.memoizedProps,G=Lr(r,p),f.props=G,Y=n.pendingProps,j=f.context,z=r.contextType,I=ya,typeof z=="object"&&z!==null&&(I=qe(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==I)&&Hp(n,f,l,I),Ss=!1,j=n.memoizedState,f.state=j,Ql(n,l,f,h),Gl();var F=n.memoizedState;p!==Y||j!==F||Ss||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof T=="function"&&(xf(n,r,T,l),F=n.memoizedState),(G=Ss||qp(n,r,G,l,j,F,I)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=I,l=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ur(n,e.child,null,h),n.child=Ur(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Hi(e,n,h),e}function sy(e,n,r,l){return Nr(),n.flags|=256,He(e,n,r,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:Kg()}}function Bf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=bn),e}function ry(e,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Rs(n):Is(),(e=ee)?(e=d_(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},r=Bg(e),r.return=n,n.child=r,je=n,ee=null)):e=null,e===null)throw As(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Is(),h=n.mode,T=Ju({mode:"hidden",children:T},h),l=Ir(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Lf(r),l.childLanes=Bf(e,p,r),n.memoizedState=kf,Zl(null,l)):(Rs(n),Pf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(Rs(n),n.flags&=-257,n=zf(e,n,r)):n.memoizedState!==null?(Is(),n.child=e.child,n.flags|=128,n=null):(Is(),T=l.fallback,h=n.mode,l=Ju({mode:"visible",children:l.children},h),T=Ir(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Ur(n,e.child,null,r),l=n.child,l.memoizedState=Lf(r),l.childLanes=Bf(e,p,r),n.memoizedState=kf,n=Zl(null,l));else if(Rs(n),Td(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Pl({value:l,source:null,stack:null}),n=zf(e,n,r)}else if(be||Ea(e,n,r,!1),p=(r&e.childLanes)!==0,be||p){if(p=Wt,p!==null&&(l=_l(p,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Rr(e,l),cn(p,e,l),Vf;vd(T)||lc(),n=zf(e,n,r)}else vd(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ee=Ln(T.nextSibling),je=n,Vt=!0,Es=null,Un=!1,e!==null&&jg(n,e),n=Pf(n,l.children),n.flags|=4096);return n}return h?(Is(),T=l.fallback,h=n.mode,I=e.child,z=I.sibling,l=Li(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=Li(z,T):(T=Ir(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Zl(null,l),l=n.child,T=e.child.memoizedState,T===null?T=Lf(r):(h=T.cachePool,h!==null?(I=Ee._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Kg(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Bf(e,p,r),n.memoizedState=kf,Zl(e.child,l)):(Rs(n),r=e.child,e=r.sibling,r=Li(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Pf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=vn(22,e,null,n),e.lanes=0,e}function zf(e,n,r){return Ur(n,e.child,null,r),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ay(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),tf(e.return,n,r)}function jf(e,n,r,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function ly(e,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=de.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,nt(de,p),He(e,n,l,r),l=Vt?Bl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,r,n);else if(e.tag===19)ay(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&zu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),jf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}jf(n,!0,r,null,f,l);break;case"together":jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Hi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ea(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Li(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Li(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function BA(e,n,r){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),bs(n,Ee,e.memoizedState.cache),Nr();break;case 27:case 5:ur(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ry(e,n,r):(Rs(n),e=Hi(e,n,r),e!==null?e.sibling:null);Rs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ea(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ly(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(de,de.current),l)break;return null;case 22:return n.lanes=0,Wp(e,n,r,n.pendingProps);case 24:bs(n,Ee,e.memoizedState.cache)}return Hi(e,n,r)}function oy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!qf(e,r)&&(n.flags&128)===0)return be=!1,BA(e,n,r);be=(e.flags&131072)!==0}else be=!1,Vt&&(n.flags&1048576)!==0&&zg(n,Bl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Mr(n.elementType),n.type=e,typeof e=="function")Qh(e)?(l=Lr(e,l),n.tag=1,n=iy(null,n,e,l,r)):(n.tag=0,n=Uf(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===Ut){n.tag=11,n=$p(null,n,e,l,r);break t}else if(h===N){n.tag=14,n=Zp(null,n,e,l,r);break t}}throw n=se(e)||e,Error(a(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Lr(l,n.pendingProps),iy(e,n,l,h,r);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),Ql(n,l,null,r);var p=n.memoizedState;if(l=p.cache,bs(n,Ee,l),l!==f.cache&&ef(n,[Ee],r,!0),Gl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sy(e,n,l,r);break t}else if(l!==h){h=On(Error(a(424)),n),Pl(h),n=sy(e,n,l,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=Ln(e.firstChild),je=n,Vt=!0,Es=null,Un=!0,r=Wg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Nr(),l===h){n=Hi(e,n,r);break t}He(e,n,l,r)}n=n.child}return n;case 26:return Zu(e,n),e===null?(r=v_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,e=n.pendingProps,l=mc(wt.current).createElement(r),l[_e]=n,l[Ue]=e,Fe(l,r,e),ve(l),n.stateNode=l):n.memoizedState=v_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ur(n),e===null&&Vt&&(l=n.stateNode=p_(n.type,n.pendingProps,wt.current),je=n,Un=!0,h=ee,ks(n.type)?(Ed=h,ee=Ln(l.firstChild)):ee=h),He(e,n,n.pendingProps.children,r),Zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=l=ee)&&(l=m1(l,n.type,n.pendingProps,Un),l!==null?(n.stateNode=l,je=n,ee=Ln(l.firstChild),Un=!1,h=!0):h=!1),h||As(n)),ur(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,pd(h,f)?l=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,NA,null,null,r),fo._currentValue=h),Zu(e,n),He(e,n,l,r),n.child;case 6:return e===null&&Vt&&((e=r=ee)&&(r=g1(r,n.pendingProps,Un),r!==null?(n.stateNode=r,je=n,ee=null,e=!0):e=!1),e||As(n)),null;case 13:return ry(e,n,r);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ur(n,null,l,r):He(e,n,l,r),n.child;case 11:return $p(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,bs(n,n.type,l.value),He(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,xr(n),h=qe(h),l=l(h),n.flags|=1,He(e,n,l,r),n.child;case 14:return Zp(e,n,n.type,n.pendingProps,r);case 15:return Jp(e,n,n.type,n.pendingProps,r);case 19:return ly(e,n,r);case 31:return LA(e,n,r);case 22:return Wp(e,n,r,n.pendingProps);case 24:return xr(n),l=qe(Ee),e===null?(h=rf(),h===null&&(h=Wt,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},lf(n),bs(n,Ee,h)):((e.lanes&r)!==0&&(of(e,n),Ql(n,null,null,r),Gl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),bs(n,Ee,l)):(l=f.cache,bs(n,Ee,l),l!==h.cache&&ef(n,[Ee],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Fi(e){e.flags|=4}function Hf(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Uy())e.flags|=8192;else throw Vr=ku,af}else e.flags&=-16777217}function uy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(Uy())e.flags|=8192;else throw Vr=ku,af}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Ma|=n)}function Jl(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function PA(e,n,r){var l=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(Ee),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Fi(n),f!==null?(ne(n),uy(n,f)):(ne(n),Hf(n,h,null,l,r))):f?f!==e.memoizedState?(Fi(n),ne(n),uy(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Fi(n),ne(n),Hf(n,h,e,l,r)),null;case 27:if(Jr(n),r=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=rt.current,Ta(n)?qg(n):(e=p_(h,l,r),n.stateNode=e,Fi(n))}return ne(n),null;case 5:if(Jr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=rt.current,Ta(n))qg(n);else{var p=mc(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[_e]=n,f[Ue]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Fi(n)}}return ne(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Fi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,Ta(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||r_(e.nodeValue,r)),e||As(n,!0)}else e=mc(e).createTextNode(l),e[_e]=n,n.stateNode=e}return ne(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=Ta(n),r!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else r=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),ne(n),null);case 4:return re(),e===null&&hd(n.stateNode.containerInfo),ne(n),null;case 10:return zi(n.type),ne(n),null;case 19:if($(de),l=n.memoizedState,l===null)return ne(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Jl(l,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,Jl(l,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Lg(r,e),r=r.sibling;return nt(de,de.current&1|2),Vt&&Bi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&tn()>sc&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),Jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Vt)return ne(n),null}else 2*tn()-l.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,r=de.current,nt(de,h?r&1|2:r&1),Vt&&Bi(n,l.treeForkCount),e):(ne(n),null);case 22:case 23:return En(n),ff(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&$(Or),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),zi(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function zA(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Jr(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(a(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(de),null;case 4:return re(),null;case 10:return zi(n.type),null;case 22:case 23:return En(n),ff(),e!==null&&$(Or),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Ee),null;case 25:return null;default:return null}}function cy(e,n){switch($h(n),n.tag){case 3:zi(Ee),re();break;case 26:case 27:case 5:Jr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:$(de);break;case 10:zi(n.type);break;case 22:case 23:En(n),ff(),e!==null&&$(Or);break;case 24:zi(Ee)}}function Wl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(T){Yt(n,n.return,T)}}function Ns(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var I=r,z=T;try{z()}catch(G){Yt(h,I,G)}}}l=l.next}while(l!==f)}}catch(G){Yt(n,n.return,G)}}function hy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{ep(n,r)}catch(l){Yt(e,e.return,l)}}}function fy(e,n,r){r.props=Lr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(e,n,l)}}function to(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){Yt(e,n,h)}}function Ai(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(e,n,h)}else r.current=null}function dy(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Yt(e,e.return,h)}}function Ff(e,n,r){try{var l=e.stateNode;o1(l,e.type,r,n),l[Ue]=n}catch(h){Yt(e,e.return,h)}}function my(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||my(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Gn));else if(l!==4&&(l===27&&ks(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,r),e=e.sibling;e!==null;)Qf(e,n,r),e=e.sibling}function tc(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&ks(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(tc(e,n,r),e=e.sibling;e!==null;)tc(e,n,r),e=e.sibling}function gy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,l,r),n[_e]=e,n[Ue]=r}catch(f){Yt(e,e.return,f)}}var Gi=!1,Se=!1,Kf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Le=null;function jA(e,n){if(e=e.containerInfo,md=Ec,e=Ig(e),Ph(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,T=-1,I=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var F;Y!==r||h!==0&&Y.nodeType!==3||(T=p+h),Y!==f||l!==0&&Y.nodeType!==3||(I=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(F=Y.firstChild)!==null;)j=Y,Y=F;for(;;){if(Y===e)break e;if(j===r&&++z===h&&(T=p),j===f&&++G===l&&(I=p),(F=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=F}r=T===-1||I===-1?null:{start:T,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:e,selectionRange:r},Ec=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var at=Lr(r.type,h);e=l.getSnapshotBeforeUpdate(at,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Yt(r,r.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)_d(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function yy(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ki(e,r),l&4&&Wl(5,r);break;case 1:if(Ki(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(r,r.return,p)}else{var h=Lr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(r,r.return,p)}}l&64&&hy(r),l&512&&to(r,r.return);break;case 3:if(Ki(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ep(e,n)}catch(p){Yt(r,r.return,p)}}break;case 27:n===null&&l&4&&gy(r);case 26:case 5:Ki(e,r),n===null&&l&4&&dy(r),l&512&&to(r,r.return);break;case 12:Ki(e,r);break;case 31:Ki(e,r),l&4&&Ty(e,r);break;case 13:Ki(e,r),l&4&&Ey(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=$A.bind(null,r),p1(e,r))));break;case 22:if(l=r.memoizedState!==null||Gi,!l){n=n!==null&&n.memoizedState!==null||Se,h=Gi;var f=Se;Gi=l,(Se=n)&&!f?Yi(e,r,(r.subtreeFlags&8772)!==0):Ki(e,r),Gi=h,Se=f}break;case 30:break;default:Ki(e,r)}}function _y(e){var n=e.alternate;n!==null&&(e.alternate=null,_y(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,an=!1;function Qi(e,n,r){for(r=r.child;r!==null;)vy(e,n,r),r=r.sibling}function vy(e,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(jn,r)}catch{}switch(r.tag){case 26:Se||Ai(r,n),Qi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||Ai(r,n);var l=le,h=an;ks(r.type)&&(le=r.stateNode,an=!1),Qi(e,n,r),uo(r.stateNode),le=l,an=h;break;case 5:Se||Ai(r,n);case 6:if(l=le,h=an,le=null,Qi(e,n,r),le=l,an=h,le!==null)if(an)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{le.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:le!==null&&(an?(e=le,h_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ja(e)):h_(le,r.stateNode));break;case 4:l=le,h=an,le=r.stateNode.containerInfo,an=!0,Qi(e,n,r),le=l,an=h;break;case 0:case 11:case 14:case 15:Ns(2,r,n),Se||Ns(4,r,n),Qi(e,n,r);break;case 1:Se||(Ai(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&fy(r,n,l)),Qi(e,n,r);break;case 21:Qi(e,n,r);break;case 22:Se=(l=Se)||r.memoizedState!==null,Qi(e,n,r),Se=l;break;default:Qi(e,n,r)}}function Ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(r){Yt(n,n.return,r)}}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(r){Yt(n,n.return,r)}}function qA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new py),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new py),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var r=qA(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=ZA.bind(null,e,l);l.then(h,h)}})}function ln(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(ks(T.type)){le=T.stateNode,an=!1;break t}break;case 5:le=T.stateNode,an=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(le===null)throw Error(a(160));vy(f,p,h),le=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ay(n,e),n=n.sibling}var Zn=null;function Ay(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),on(e),l&4&&(Ns(3,e,e.return),Wl(3,e),Ns(5,e,e.return));break;case 1:ln(n,e),on(e),l&512&&(Se||r===null||Ai(r,r.return)),l&64&&Gi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Zn;if(ln(n,e),on(e),l&512&&(Se||r===null||Ai(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[oi]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,l,r),f[_e]=e,ve(f),l=f;break t;case"link":var p=A_("link","href",h).get(l+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(l),Fe(f,l,r),h.head.appendChild(f);break;case"meta":if(p=A_("meta","content",h).get(l+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break e}}f=h.createElement(l),Fe(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=e,ve(f),l=f}e.stateNode=l}else b_(h,e.type,e.stateNode);else e.stateNode=E_(h,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?b_(h,e.type,e.stateNode):E_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,r.memoizedProps)}break;case 27:ln(n,e),on(e),l&512&&(Se||r===null||Ai(r,r.return)),r!==null&&l&4&&Ff(e,e.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,e),on(e),l&512&&(Se||r===null||Ai(r,r.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(at){Yt(e,e.return,at)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,r!==null?r.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(ln(n,e),on(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(at){Yt(e,e.return,at)}}break;case 3:if(yc=null,h=Zn,Zn=gc(n.containerInfo),ln(n,e),Zn=h,on(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(at){Yt(e,e.return,at)}Kf&&(Kf=!1,by(e));break;case 4:l=Zn,Zn=gc(e.stateNode.containerInfo),ln(n,e),on(e),Zn=l;break;case 12:ln(n,e),on(e);break;case 31:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ec(e,l)));break;case 13:ln(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ec(e,l)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=Gi,G=Se;if(Gi=z||h,Se=G||I,ln(n,e),Se=G,Gi=z,on(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Gi||Se||Br(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=I.stateNode;var Y=I.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Yt(I,I.return,at)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(at){Yt(I,I.return,at)}}}else if(n.tag===18){if(r===null){I=n;try{var F=I.stateNode;h?f_(F,!0):f_(I.stateNode,!1)}catch(at){Yt(I,I.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ec(e,r))));break;case 19:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ec(e,l)));break;case 30:break;case 21:break;default:ln(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(my(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Gf(e);tc(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(rn(p,""),r.flags&=-33);var T=Gf(e);tc(e,T,p);break;case 3:case 4:var I=r.stateNode.containerInfo,z=Gf(e);Qf(e,z,I);break;default:throw Error(a(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function by(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(e,n.alternate,n),n=n.sibling}function Br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ns(4,n,n.return),Br(n);break;case 1:Ai(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&fy(n,n.return,r),Br(n);break;case 27:uo(n.stateNode);case 26:case 5:Ai(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}e=e.sibling}}function Yi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,r),Wl(4,f);break;case 1:if(Yi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)tp(I[h],T)}catch(z){Yt(l,l.return,z)}}r&&p&64&&hy(f),to(f,f.return);break;case 27:gy(f);case 26:case 5:Yi(h,f,r),r&&l===null&&p&4&&dy(f),to(f,f.return);break;case 12:Yi(h,f,r);break;case 31:Yi(h,f,r),r&&p&4&&Ty(h,f);break;case 13:Yi(h,f,r),r&&p&4&&Ey(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,r),to(f,f.return);break;case 30:break;default:Yi(h,f,r)}n=n.sibling}}function Yf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&zl(r))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zl(e))}function Jn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,r,l),n=n.sibling}function Sy(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n,r,l),h&2048&&Wl(9,n);break;case 1:Jn(e,n,r,l);break;case 3:Jn(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zl(e)));break;case 12:if(h&2048){Jn(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else Jn(e,n,r,l);break;case 31:Jn(e,n,r,l);break;case 13:Jn(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(e,n,r,l):eo(e,n):f._visibility&2?Jn(e,n,r,l):(f._visibility|=2,Da(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(p,n);break;case 24:Jn(e,n,r,l),h&2048&&Xf(n.alternate,n);break;default:Jn(e,n,r,l)}}function Da(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=r,I=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Da(f,p,T,I,h),Wl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Da(f,p,T,I,h):eo(f,p):(G._visibility|=2,Da(f,p,T,I,h)),h&&z&2048&&Yf(p.alternate,p);break;case 24:Da(f,p,T,I,h),h&&z&2048&&Xf(p.alternate,p);break;default:Da(f,p,T,I,h)}n=n.sibling}}function eo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:eo(r,l),h&2048&&Yf(l.alternate,l);break;case 24:eo(r,l),h&2048&&Xf(l.alternate,l);break;default:eo(r,l)}n=n.sibling}}var no=8192;function xa(e,n,r){if(e.subtreeFlags&no)for(e=e.child;e!==null;)wy(e,n,r),e=e.sibling}function wy(e,n,r){switch(e.tag){case 26:xa(e,n,r),e.flags&no&&e.memoizedState!==null&&I1(r,Zn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,r);break;case 3:case 4:var l=Zn;Zn=gc(e.stateNode.containerInfo),xa(e,n,r),Zn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=no,no=16777216,xa(e,n,r),no=l):xa(e,n,r));break;default:xa(e,n,r)}}function Cy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function io(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Le=l,Iy(l,e)}Cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:io(e),e.flags&2048&&Ns(9,e,e.return);break;case 3:io(e);break;case 12:io(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):io(e);break;default:io(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Le=l,Iy(l,e)}Cy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ns(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Iy(e,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:Ns(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Le=l;else t:for(r=e;Le!==null;){l=Le;var h=l.sibling,f=l.return;if(_y(l),l===r){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var HA={getCacheForType:function(e){var n=qe(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(Ee).controller.signal}},FA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,Rt=null,Nt=0,Kt=0,An=null,Ds=!1,Oa=!1,$f=!1,Xi=0,ce=0,xs=0,Pr=0,Zf=0,bn=0,Ma=0,so=null,un=null,Jf=!1,ic=0,Ny=0,sc=1/0,rc=null,Os=null,Oe=0,Ms=null,Va=null,$i=0,Wf=0,td=null,Dy=null,ro=0,ed=null;function Sn(){return(Ht&2)!==0&&Nt!==0?Nt&-Nt:Q.T!==null?ld():au()}function xy(){if(bn===0)if((Nt&536870912)===0||Vt){var e=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),bn=e}else bn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),bn}function cn(e,n,r){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),Vs(e,Nt,bn,!1)),dr(e,r),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(Pr|=r),ce===4&&Vs(e,Nt,bn,!1)),bi(e))}function Oy(e,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||qn(e,n),h=l?KA(e,n):id(e,n,!0),f=l;do{if(h===0){Oa&&!l&&Vs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!GA(r)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=so;var I=T.current.memoizedState.isDehydrated;if(I&&(Ua(T,p).flags|=256),p=id(T,p,!1),p!==2){if($f&&!I){T.errorRecoveryDisabledLanes|=f,Pr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ua(e,0),Vs(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Vs(l,n,bn,!Ds);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-tn(),10<h)){if(Vs(l,n,bn,!Ds),ri(l,0,!0)!==0)break t;$i=n,l.timeoutHandle=u_(My.bind(null,l,r,un,rc,Jf,n,bn,Pr,Ma,Ds,f,"Throttled",-0,0),h);break t}My(l,r,un,rc,Jf,n,bn,Pr,Ma,Ds,f,null,-0,0)}}break}while(!0);bi(e)}function My(e,n,r,l,h,f,p,T,I,z,G,Y,j,F){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},wy(n,f,Y);var at=(f&62914560)===f?ic-tn():(f&4194048)===f?Ny-tn():0;if(at=N1(Y,at),at!==null){$i=f,e.cancelPendingCommit=at(jy.bind(null,e,n,f,r,l,h,p,T,I,G,Y,null,j,F)),Vs(e,f,p,!z);return}}jy(e,n,f,r,l,h,p,T,I)}function GA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vs(e,n,r,l){n&=~Zf,n&=~Pr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&mr(e,r,n)}function ac(){return(Ht&6)===0?(ao(0),!1):!0}function nd(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,Pi=Dr=null,_f(e),wa=null,ql=0,e=Rt;for(;e!==null;)cy(e.alternate,e),e=e.return;Rt=null}}function Ua(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,h1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),$i=0,nd(),Wt=e,Rt=r=Li(e.current,null),Nt=n,Kt=0,An=null,Ds=!1,Oa=qn(e,n),$f=!1,Ma=bn=Zf=Pr=xs=ce=0,un=so=null,Jf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-he(l),f=1<<h;n|=e[h],l&=~f}return Xi=n,Ru(),r}function Vy(e,n){St=null,Q.H=$l,n===Sa||n===Uu?(n=$g(),Kt=3):n===af?(n=$g(),Kt=4):Kt=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Rt===null&&(ce=1,Xu(e,On(n,e.current)))}function Uy(){var e=Tn.current;return e===null?!0:(Nt&4194048)===Nt?kn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===kn:!1}function ky(){var e=Q.H;return Q.H=$l,e===null?$l:e}function Ly(){var e=Q.A;return Q.A=HA,e}function lc(){ce=4,Ds||(Nt&4194048)!==Nt&&Tn.current!==null||(Oa=!0),(xs&134217727)===0&&(Pr&134217727)===0||Wt===null||Vs(Wt,Nt,bn,!1)}function id(e,n,r){var l=Ht;Ht|=2;var h=ky(),f=Ly();(Wt!==e||Nt!==n)&&(rc=null,Ua(e,n)),n=!1;var p=ce;t:do try{if(Kt!==0&&Rt!==null){var T=Rt,I=An;switch(Kt){case 8:nd(),p=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var z=Kt;if(Kt=0,An=null,ka(e,T,I,z),r&&Oa){p=0;break t}break;default:z=Kt,Kt=0,An=null,ka(e,T,I,z)}}QA(),p=ce;break}catch(G){Vy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Pi=Dr=null,Ht=l,Q.H=h,Q.A=f,Rt===null&&(Wt=null,Nt=0,Ru()),p}function QA(){for(;Rt!==null;)By(Rt)}function KA(e,n){var r=Ht;Ht|=2;var l=ky(),h=Ly();Wt!==e||Nt!==n?(rc=null,sc=tn()+500,Ua(e,n)):Oa=qn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=An;e:switch(Kt){case 1:Kt=0,An=null,ka(e,n,f,1);break;case 2:case 9:if(Yg(f)){Kt=0,An=null,Py(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),bi(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Yg(f)?(Kt=0,An=null,Py(n)):(Kt=0,An=null,ka(e,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var T=Rt;if(p?S_(p):T.stateNode.complete){Kt=0,An=null;var I=T.sibling;if(I!==null)Rt=I;else{var z=T.return;z!==null?(Rt=z,oc(z)):Rt=null}break e}}Kt=0,An=null,ka(e,n,f,5);break;case 6:Kt=0,An=null,ka(e,n,f,6);break;case 8:nd(),ce=6;break t;default:throw Error(a(462))}}YA();break}catch(G){Vy(e,G)}while(!0);return Pi=Dr=null,Q.H=l,Q.A=h,Ht=r,Rt!==null?0:(Wt=null,Nt=0,Ru(),ce)}function YA(){for(;Rt!==null&&!Oh();)By(Rt)}function By(e){var n=oy(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?oc(e):Rt=n}function Py(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=ny(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=ny(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:_f(n);default:cy(r,n),n=Rt=Lg(n,Xi),n=oy(r,n,Xi)}e.memoizedProps=e.pendingProps,n===null?oc(e):Rt=n}function ka(e,n,r,l){Pi=Dr=null,_f(n),wa=null,ql=0;var h=n.return;try{if(kA(e,h,n,r,Nt)){ce=1,Xu(e,On(r,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ce=1,Xu(e,On(r,e.current)),Rt=null;return}n.flags&32768?(Vt||l===1?e=!0:Oa||(Nt&536870912)!==0?e=!1:(Ds=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),zy(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){zy(n,Ds);return}e=n.return;var r=PA(n.alternate,n,Xi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function zy(e,n){do{var r=zA(e.alternate,e);if(r!==null){r.flags&=32767,Rt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=r}while(e!==null);ce=6,Rt=null}function jy(e,n,r,l,h,f,p,T,I){e.cancelPendingCommit=null;do uc();while(Oe!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,Uh(e,r,f,p,T,I),e===Wt&&(Rt=Wt=null,Nt=0),Va=n,Ms=e,$i=r,Wf=f,td=h,Dy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,JA(cs,function(){return Qy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=et.p,et.p=2,p=Ht,Ht|=4;try{jA(e,n,r)}finally{Ht=p,et.p=h,Q.T=l}}Oe=1,qy(),Hy(),Fy()}}function qy(){if(Oe===1){Oe=0;var e=Ms,n=Va,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null;var l=et.p;et.p=2;var h=Ht;Ht|=4;try{Ay(n,e);var f=gd,p=Ig(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Rg(T.ownerDocument.documentElement,T)){if(I!==null&&Ph(T)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var Y=T.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var F=j.getSelection(),at=T.textContent.length,gt=Math.min(I.start,at),Jt=I.end===void 0?gt:Math.min(I.end,at);!F.extend&&gt>Jt&&(p=Jt,Jt=gt,gt=p);var U=Cg(T,gt),x=Cg(T,Jt);if(U&&x&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==x.node||F.focusOffset!==x.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),F.removeAllRanges(),gt>Jt?(F.addRange(P),F.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),F.addRange(P))}}}}for(Y=[],F=T;F=F.parentNode;)F.nodeType===1&&Y.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var K=Y[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ec=!!md,gd=md=null}finally{Ht=h,et.p=l,Q.T=r}}e.current=n,Oe=2}}function Hy(){if(Oe===2){Oe=0;var e=Ms,n=Va,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Q.T,Q.T=null;var l=et.p;et.p=2;var h=Ht;Ht|=4;try{yy(e,n.alternate,n)}finally{Ht=h,et.p=l,Q.T=r}}Oe=3}}function Fy(){if(Oe===4||Oe===3){Oe=0,Wo();var e=Ms,n=Va,r=$i,l=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Va=Ms=null,Gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Os=null),Mi(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,h=et.p,et.p=2,Q.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{Q.T=n,et.p=h}}($i&3)!==0&&uc(),bi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===ed?ro++:(ro=0,ed=e):ro=0,ao(0)}}function Gy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zl(n)))}function uc(){return qy(),Hy(),Fy(),Qy()}function Qy(){if(Oe!==5)return!1;var e=Ms,n=Wf;Wf=0;var r=Mi($i),l=Q.T,h=et.p;try{et.p=32>r?32:r,Q.T=null,r=td,td=null;var f=Ms,p=$i;if(Oe=0,Va=Ms=null,$i=0,(Ht&6)!==0)throw Error(a(331));var T=Ht;if(Ht|=4,Ry(f.current),Sy(f,f.current,p,r),Ht=T,ao(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{et.p=h,Q.T=l,Gy(e,n)}}function Ky(e,n,r){n=On(r,n),n=Mf(e.stateNode,n,2),e=Cs(e,n,2),e!==null&&(dr(e,2),bi(e))}function Yt(e,n,r){if(e.tag===3)Ky(e,e,r);else for(;n!==null;){if(n.tag===3){Ky(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Os===null||!Os.has(l))){e=On(r,e),r=Yp(2),l=Cs(n,r,2),l!==null&&(Xp(r,l,n,e),dr(l,2),bi(l));break}}n=n.return}}function sd(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new FA;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||($f=!0,h.add(r),e=XA.bind(null,e,n,r),n.then(e,e))}function XA(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(Nt&r)===r&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>tn()-ic?(Ht&2)===0&&Ua(e,0):Zf|=r,Ma===Nt&&(Ma=0)),bi(e)}function Yy(e,n){n===0&&(n=ru()),e=Rr(e,n),e!==null&&(dr(e,n),bi(e))}function $A(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Yy(e,r)}function ZA(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Yy(e,r)}function JA(e,n){return xe(e,n)}var cc=null,La=null,rd=!1,hc=!1,ad=!1,Us=0;function bi(e){e!==La&&e.next===null&&(La===null?cc=La=e:La=La.next=e),hc=!0,rd||(rd=!0,t1())}function ao(e,n){if(!ad&&hc){ad=!0;do for(var r=!1,l=cc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Jy(l,f))}else f=Nt,f=ri(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||qn(l,f)||(r=!0,Jy(l,f));l=l.next}while(r);ad=!1}}function WA(){Xy()}function Xy(){hc=rd=!1;var e=0;Us!==0&&c1()&&(e=Us);for(var n=tn(),r=null,l=cc;l!==null;){var h=l.next,f=$y(l,n);f===0?(l.next=null,r===null?cc=h:r.next=h,h===null&&(La=r)):(r=l,(e!==0||(f&3)!==0)&&(hc=!0)),l=h}Oe!==0&&Oe!==5||ao(e),Us!==0&&(Us=0)}function $y(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-he(f),T=1<<p,I=h[p];I===-1?((T&r)===0||(T&l)!==0)&&(h[p]=Vh(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=Wt,r=Nt,r=ri(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&us(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||qn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&us(l),Mi(r)){case 2:case 8:r=pl;break;case 32:r=cs;break;case 268435456:r=tu;break;default:r=cs}return l=Zy.bind(null,e),r=xe(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&us(l),e.callbackPriority=2,e.callbackNode=null,2}function Zy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(uc()&&e.callbackNode!==r)return null;var l=Nt;return l=ri(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Oy(e,l,n),$y(e,tn()),e.callbackNode!=null&&e.callbackNode===r?Zy.bind(null,e):null)}function Jy(e,n){if(uc())return null;Oy(e,n,!0)}function t1(){f1(function(){(Ht&6)!==0?xe(gl,WA):Xy()})}function ld(){if(Us===0){var e=Aa;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Us=e}return Us}function Wy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function t_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function e1(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Wy((h[Ue]||null).action),p=l.submitter;p&&(n=(n=p[Ue]||null)?Wy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new pi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var I=p?t_(h,p):new FormData(h);Rf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=p?t_(h,p):new FormData(h),Rf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var od=0;od<Hh.length;od++){var ud=Hh[od],n1=ud.toLowerCase(),i1=ud[0].toUpperCase()+ud.slice(1);$n(n1,"on"+i1)}$n(xg,"onAnimationEnd"),$n(Og,"onAnimationIteration"),$n(Mg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(vA,"onTransitionRun"),$n(TA,"onTransitionStart"),$n(EA,"onTransitionCancel"),$n(Vg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function e_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(T=l[p],I=T.instance,z=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=I}}}}function It(e,n){var r=n[na];r===void 0&&(r=n[na]=new Set);var l=e+"__bubble";r.has(l)||(n_(n,e,2,!1),r.add(l))}function cd(e,n,r){var l=0;n&&(l|=4),n_(r,e,l,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[fc]){e[fc]=!0,vl.forEach(function(r){r!=="selectionchange"&&(s1.has(r)||cd(r,!1,e),cd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,cd("selectionchange",!1,n))}}function n_(e,n,r,l){switch(x_(n)){case 2:var h=O1;break;case 8:h=M1;break;default:h=Cd}r=h.bind(null,n,r,e),h=void 0,!vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function fd(e,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=ui(T),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue t}T=T.parentNode}}l=l.return}ps(function(){var z=f,G=In(r),Y=[];t:{var j=Ug.get(e);if(j!==void 0){var F=pi,at=e;switch(e){case"keypress":if(Er(r)===0)break t;case"keydown":case"keyup":F=bu;break;case"focusin":at="focus",F=br;break;case"focusout":at="blur",F=br;break;case"beforeblur":case"afterblur":F=br;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case xg:case Og:case Mg:F=pu;break;case Vg:F=A;break;case"scroll":case"scrollend":F=xl;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ki;break;case"toggle":case"beforetoggle":F=bt}var gt=(n&4)!==0,Jt=!gt&&(e==="scroll"||e==="scrollend"),U=gt?j!==null?j+"Capture":null:j;gt=[];for(var x=z,P;x!==null;){var K=x;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||U===null||(K=Qn(x,U),K!=null&&gt.push(oo(x,K,P))),Jt)break;x=x.return}0<gt.length&&(j=new F(j,at,null,r,G),Y.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",j&&r!==Il&&(at=r.relatedTarget||r.fromElement)&&(ui(at)||at[li]))break t;if((F||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,F?(at=r.relatedTarget||r.toElement,F=z,at=at?ui(at):null,at!==null&&(Jt=c(at),gt=at.tag,at!==Jt||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(F=null,at=z),F!==at)){if(gt=Ol,K="onMouseLeave",U="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(gt=ki,K="onPointerLeave",U="onPointerEnter",x="pointer"),Jt=F==null?j:pn(F),P=at==null?j:pn(at),j=new gt(K,x+"leave",F,r,G),j.target=Jt,j.relatedTarget=P,K=null,ui(G)===z&&(gt=new gt(U,x+"enter",at,r,G),gt.target=P,gt.relatedTarget=Jt,K=gt),Jt=K,F&&at)e:{for(gt=r1,U=F,x=at,P=0,K=U;K;K=gt(K))P++;K=0;for(var ut=x;ut;ut=gt(ut))K++;for(;0<P-K;)U=gt(U),P--;for(;0<K-P;)x=gt(x),K--;for(;P--;){if(U===x||x!==null&&U===x.alternate){gt=U;break e}U=gt(U),x=gt(x)}gt=null}else gt=null;F!==null&&i_(Y,j,F,gt,!1),at!==null&&Jt!==null&&i_(Y,Jt,at,gt,!0)}}t:{if(j=z?pn(z):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var Pt=Tg;else if(_g(j))if(Eg)Pt=pA;else{Pt=mA;var lt=dA}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&aa(z.elementType)&&(Pt=Tg):Pt=gA;if(Pt&&(Pt=Pt(e,z))){vg(Y,Pt,r,G);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&wl(j,"number",j.value)}switch(lt=z?pn(z):window,e){case"focusin":(_g(lt)||lt.contentEditable==="true")&&(ma=lt,zh=z,Ll=null);break;case"focusout":Ll=zh=ma=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Ng(Y,r,G);break;case"selectionchange":if(_A)break;case"keydown":case"keyup":Ng(Y,r,G)}var Ct;if(qt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else da?Sr(e,r)&&(Dt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Dt="onCompositionStart");Dt&&(vi&&r.locale!=="ko"&&(da||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&da&&(Ct=Dl()):(gi=G,Nl="value"in gi?gi.value:gi.textContent,da=!0)),lt=dc(z,Dt),0<lt.length&&(Dt=new _i(Dt,e,null,r,G),Y.push({event:Dt,listeners:lt}),Ct?Dt.data=Ct:(Ct=fa(r),Ct!==null&&(Dt.data=Ct)))),(Ct=Dn?uA(e,r):cA(e,r))&&(Dt=dc(z,"onBeforeInput"),0<Dt.length&&(lt=new _i("onBeforeInput","beforeinput",null,r,G),Y.push({event:lt,listeners:Dt}),lt.data=Ct)),e1(Y,e,z,r,G)}e_(Y,n)})}function oo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function dc(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,r),h!=null&&l.unshift(oo(e,h,f)),h=Qn(e,n),h!=null&&l.push(oo(e,h,f))),e.tag===3)return l;e=e.return}return[]}function r1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function i_(e,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var T=r,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=Qn(r,f),z!=null&&p.unshift(oo(r,z,I))):h||(z=Qn(r,f),z!=null&&p.push(oo(r,z,I)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var a1=/\r\n?/g,l1=/\u0000|\uFFFD/g;function s_(e){return(typeof e=="string"?e:""+e).replace(a1,`
`).replace(l1,"")}function r_(e,n){return n=s_(n),s_(e)===n}function Zt(e,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(e,""+l);break;case"className":yn(e,"class",l);break;case"tabIndex":yn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,r,l);break;case"style":Rl(e,l,f);break;case"data":if(n!=="object"){yn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=la(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=la(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Gn);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=la(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":It("beforetoggle",e),It("toggle",e),sa(e,"popover",l);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,sa(e,r,l))}}function dd(e,n,r,l,h,f){switch(r){case"style":Rl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ue]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):sa(e,r,l)}}}function Fe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,p,r,null)}}h&&Zt(e,n,"srcSet",r.srcSet,r,null),l&&Zt(e,n,"src",r.src,r,null);return;case"input":It("invalid",e);var T=f=p=h=null,I=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Zt(e,n,l,G,r,null)}}cu(e,f,T,I,z,p,h,!1);return;case"select":It("invalid",e),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:Zt(e,n,h,T,r,null)}n=f,r=p,e.multiple=!!l,n!=null?fs(e,!!l,n,!1):r!=null&&fs(e,!!l,r,!0);return;case"textarea":It("invalid",e),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Zt(e,n,p,T,r,null)}ds(e,l,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(e,n,I,l,r,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<lo.length;l++)It(lo[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,z,l,r,null)}return;default:if(aa(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&dd(e,n,G,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Zt(e,n,T,l,r,null))}function o1(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,I=null,z=null,G=null;for(F in r){var Y=r[F];if(r.hasOwnProperty(F)&&Y!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=Y;default:l.hasOwnProperty(F)||Zt(e,n,F,null,l,Y)}}for(var j in l){var F=l[j];if(Y=r[j],l.hasOwnProperty(j)&&(F!=null||Y!=null))switch(j){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":G=F;break;case"value":p=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==Y&&Zt(e,n,j,F,l,Y)}}ra(e,p,T,I,z,G,f,h);return;case"select":F=p=T=j=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(f)||Zt(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==I&&Zt(e,n,h,f,l,I)}n=T,r=p,l=F,j!=null?fs(e,!!r,j,!1):!!l!=!!r&&(n!=null?fs(e,!!r,n,!0):fs(e,!!r,r?[]:"",!1));return;case"textarea":F=j=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,n,T,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,p,h,l,f)}hu(e,j,F);return;case"option":for(var at in r)if(j=r[at],r.hasOwnProperty(at)&&j!=null&&!l.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Zt(e,n,at,null,l,j)}for(I in l)if(j=l[I],F=r[I],l.hasOwnProperty(I)&&j!==F&&(j!=null||F!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Zt(e,n,I,j,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)j=r[gt],r.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&Zt(e,n,gt,null,l,j);for(z in l)if(j=l[z],F=r[z],l.hasOwnProperty(z)&&j!==F&&(j!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Zt(e,n,z,j,l,F)}return;default:if(aa(n)){for(var Jt in r)j=r[Jt],r.hasOwnProperty(Jt)&&j!==void 0&&!l.hasOwnProperty(Jt)&&dd(e,n,Jt,void 0,l,j);for(G in l)j=l[G],F=r[G],!l.hasOwnProperty(G)||j===F||j===void 0&&F===void 0||dd(e,n,G,j,l,F);return}}for(var U in r)j=r[U],r.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&Zt(e,n,U,null,l,j);for(Y in l)j=l[Y],F=r[Y],!l.hasOwnProperty(Y)||j===F||j==null&&F==null||Zt(e,n,Y,j,l,F)}function a_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function u1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&a_(p)){for(p=0,T=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],z=I.startTime;if(z>T)break;var G=I.transferSize,Y=I.initiatorType;G&&a_(Y)&&(I=I.responseEnd,p+=G*(I<T?1:(T-z)/(I-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,gd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function l_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function c1(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,h1=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,f1=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(e){return c_.resolve(null).then(e).catch(d1)}:u_;function d1(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function h_(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),ja(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")uo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,uo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[oi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&uo(e.ownerDocument.body);r=h}while(r);ja(n)}function f_(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":_d(r),ia(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function m1(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[oi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function g1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ln(e.nextSibling),e===null))return null;return e}function d_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function p1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function m_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Ln(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function g_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function p_(e,n,r){switch(n=mc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function uo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var Bn=new Map,y_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=et.d;et.d={f:y1,r:_1,D:v1,C:T1,L:E1,m:A1,X:S1,S:b1,M:w1};function y1(){var e=Zi.f(),n=ac();return e||n}function _1(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Vp(n):Zi.r(e)}var Ba=typeof document>"u"?null:document;function __(e,n,r){var l=Ba;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),y_.has(h)||(y_.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Fe(n,"link",e),ve(n),l.head.appendChild(n)))}}function v1(e){Zi.D(e),__("dns-prefetch",e,null)}function T1(e,n){Zi.C(e,n),__("preconnect",e,n)}function E1(e,n,r){Zi.L(e,n,r);var l=Ba;if(l&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+sn(r.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=za(e)}Bn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Bn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(co(f))||n==="script"&&l.querySelector(ho(f))||(n=l.createElement("link"),Fe(n,"link",e),ve(n),l.head.appendChild(n)))}}function A1(e,n){Zi.m(e,n);var r=Ba;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Bn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Bn.set(f,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ho(f)))return}l=r.createElement("link"),Fe(l,"link",e),ve(l),r.head.appendChild(l)}}}function b1(e,n,r){Zi.S(e,n,r);var l=Ba;if(l&&e){var h=ci(l).hoistableStyles,f=Pa(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(co(f)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Bn.get(f))&&Ad(e,r);var I=p=l.createElement("link");ve(I),Fe(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,pc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function S1(e,n){Zi.X(e,n);var r=Ba;if(r&&e){var l=ci(r).hoistableScripts,h=za(e),f=l.get(h);f||(f=r.querySelector(ho(h)),f||(e=b({src:e,async:!0},n),(n=Bn.get(h))&&bd(e,n),f=r.createElement("script"),ve(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function w1(e,n){Zi.M(e,n);var r=Ba;if(r&&e){var l=ci(r).hoistableScripts,h=za(e),f=l.get(h);f||(f=r.querySelector(ho(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&bd(e,n),f=r.createElement("script"),ve(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function v_(e,n,r,l){var h=(h=wt.current)?gc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Pa(r.href),r=ci(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Pa(r.href);var f=ci(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(co(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Bn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Bn.set(e,r),f||C1(h,e,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(r),r=ci(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pa(e){return'href="'+sn(e)+'"'}function co(e){return'link[rel="stylesheet"]['+e+"]"}function T_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function C1(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",r),ve(n),e.head.appendChild(n))}function za(e){return'[src="'+sn(e)+'"]'}function ho(e){return"script[async]"+e}function E_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+sn(r.href)+'"]');if(l)return n.instance=l,ve(l),l;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ve(l),Fe(l,"style",h),pc(l,r.precedence,e),n.instance=l;case"stylesheet":h=Pa(r.href);var f=e.querySelector(co(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=T_(r),(h=Bn.get(h))&&Ad(l,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var p=f;return p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Fe(f,"link",l),n.state.loading|=4,pc(f,r.precedence,e),n.instance=f;case"script":return f=za(r.src),(h=e.querySelector(ho(f)))?(n.instance=h,ve(h),h):(l=r,(h=Bn.get(f))&&(l=b({},r),bd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),Fe(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pc(l,r.precedence,e));return n.instance}function pc(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function A_(e,n,r){if(yc===null){var l=new Map,h=yc=new Map;h.set(r,l)}else h=yc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[oi]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function b_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function R1(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function I1(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Pa(l.href),f=n.querySelector(co(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ve(f);return}f=n.ownerDocument||n,l=T_(l),(h=Bn.get(h))&&Ad(l,h),f=f.createElement("link"),ve(f);var p=f;p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Fe(f,"link",l),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=_c.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Sd=0;function N1(e,n){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*u1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(D1,e),vc=null,_c.call(e))}function D1(e,n){if(!(n.state.loading&4)){var r=vc.get(e);if(r)var l=r.get(null);else{r=new Map,vc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fo={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function x1(e,n,r,l,h,f,p,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function w_(e,n,r,l,h,f,p,T,I,z,G,Y){return e=new x1(e,n,r,p,I,z,G,Y,T),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},lf(f),e}function C_(e){return e?(e=ya,e):ya}function R_(e,n,r,l,h,f){h=C_(h),l.context===null?l.context=h:l.pendingContext=h,l=ws(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Cs(e,l,n),r!==null&&(cn(r,e,n),Fl(r,e,n))}function I_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function wd(e,n){I_(e,n),(e=e.alternate)&&I_(e,n)}function N_(e){if(e.tag===13||e.tag===31){var n=Rr(e,67108864);n!==null&&cn(n,e,67108864),wd(e,67108864)}}function D_(e){if(e.tag===13||e.tag===31){var n=Sn();n=gr(n);var r=Rr(e,n);r!==null&&cn(r,e,n),wd(e,n)}}var Ec=!0;function O1(e,n,r,l){var h=Q.T;Q.T=null;var f=et.p;try{et.p=2,Cd(e,n,r,l)}finally{et.p=f,Q.T=h}}function M1(e,n,r,l){var h=Q.T;Q.T=null;var f=et.p;try{et.p=8,Cd(e,n,r,l)}finally{et.p=f,Q.T=h}}function Cd(e,n,r,l){if(Ec){var h=Rd(l);if(h===null)fd(e,n,l,Ac,r),O_(e,l);else if(U1(h,e,n,r,l))l.stopPropagation();else if(O_(e,l),n&4&&-1<V1.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=si(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var I=1<<31-he(p);T.entanglements[1]|=I,p&=~I}bi(f),(Ht&6)===0&&(sc=tn()+500,ao(0))}}break;case 31:case 13:T=Rr(f,2),T!==null&&cn(T,f,2),ac(),wd(f,2)}if(f=Rd(l),f===null&&fd(e,n,l,Ac,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else fd(e,n,l,null,r)}}function Rd(e){return e=In(e),Id(e)}var Ac=null;function Id(e){if(Ac=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function x_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case gl:return 2;case pl:return 8;case cs:case Mh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Nd=!1,Ls=null,Bs=null,Ps=null,mo=new Map,go=new Map,zs=[],V1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(e,n){switch(e){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(n.pointerId)}}function po(e,n,r,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&N_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function U1(e,n,r,l,h){switch(n){case"focusin":return Ls=po(Ls,e,n,r,l,h),!0;case"dragenter":return Bs=po(Bs,e,n,r,l,h),!0;case"mouseover":return Ps=po(Ps,e,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return mo.set(f,po(mo.get(f)||null,e,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,go.set(f,po(go.get(f)||null,e,n,r,l,h)),!0}return!1}function M_(e){var n=ui(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Hn(e.priority,function(){D_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Hn(e.priority,function(){D_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Rd(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Il=l,r.target.dispatchEvent(l),Il=null}else return n=Rn(r),n!==null&&N_(n),e.blockedOn=r,!1;n.shift()}return!0}function V_(e,n,r){bc(e)&&r.delete(n)}function k1(){Nd=!1,Ls!==null&&bc(Ls)&&(Ls=null),Bs!==null&&bc(Bs)&&(Bs=null),Ps!==null&&bc(Ps)&&(Ps=null),mo.forEach(V_),go.forEach(V_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,k1)))}var wc=null;function U_(e){wc!==e&&(wc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Id(l||r)===null)continue;break}var f=Rn(r);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function ja(e){function n(I){return Sc(I,e)}Ls!==null&&Sc(Ls,e),Bs!==null&&Sc(Bs,e),Ps!==null&&Sc(Ps,e),mo.forEach(n),go.forEach(n);for(var r=0;r<zs.length;r++){var l=zs[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<zs.length&&(r=zs[0],r.blockedOn===null);)M_(r),r.blockedOn===null&&zs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Ue]||null;if(typeof f=="function")p||U_(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ue]||null)T=p.formAction;else if(Id(h)!==null)continue}else T=p.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),U_(r)}}}function k_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}Cc.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Sn();R_(r,l,e,n,null,null)},Cc.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;R_(e.current,2,null,e,null,null),ac(),n[li]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var r=0;r<zs.length&&n!==0&&n<zs[r].priority;r++);zs.splice(r,0,e),r===0&&M_(e)}};var L_=t.version;if(L_!=="19.2.0")throw Error(a(527,L_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var L1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{jn=Rc.inject(L1),Pe=Rc}catch{}}return _o.createRoot=function(e,n){if(!o(e))throw Error(a(299));var r=!1,l="",h=Fp,f=Gp,p=Qp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=w_(e,1,!1,null,null,r,l,null,h,f,p,k_),e[li]=n.current,hd(e),new Dd(n)},_o.hydrateRoot=function(e,n,r){if(!o(e))throw Error(a(299));var l=!1,h="",f=Fp,p=Gp,T=Qp,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=w_(e,1,!0,n,r??null,l,h,I,f,p,T,k_),n.context=C_(null),r=n.current,l=Sn(),l=gr(l),h=ws(l),h.callback=null,Cs(r,h,l),r=l,n.current.lanes=r,dr(n,r),bi(n),e[li]=n.current,hd(e),new Cc(n)},_o.version="19.2.0",_o}var K_;function K1(){if(K_)return Md.exports;K_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=Q1(),Md.exports}var Y1=K1();const X1=()=>{};var Y_={};const O0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},$1=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},M0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,E=c>>2,b=(c&3)<<4|g>>4;let C=(g&15)<<2|_>>6,B=_&63;y||(B=64,d||(C=64)),a.push(i[E],i[b],i[C],i[B])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(O0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):$1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const b=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||b==null)throw new Z1;const C=c<<2|g>>4;if(a.push(C),_!==64){const B=g<<4&240|_>>2;if(a.push(B),b!==64){const H=_<<6&192|b;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J1=function(s){const t=O0(s);return M0.encodeByteArray(t,!0)},Fc=function(s){return J1(s).replace(/\./g,"")},V0=function(s){try{return M0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function W1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tb=()=>W1().__FIREBASE_DEFAULTS__,eb=()=>{if(typeof process>"u"||typeof Y_>"u")return;const s=Y_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},nb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&V0(s[1]);return t&&JSON.parse(t)},ch=()=>{try{return X1()||tb()||eb()||nb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},U0=s=>ch()?.emulatorHosts?.[s],ib=s=>{const t=U0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},k0=()=>ch()?.config,L0=s=>ch()?.[`_${s}`];class sb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function rl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B0(s){return(await fetch(s,{credentials:"include"})).ok}function rb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const bo={};function ab(){const s={prod:[],emulator:[]};for(const t of Object.keys(bo))bo[t]?s.emulator.push(t):s.prod.push(t);return s}function lb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let X_=!1;function P0(s,t){if(typeof window>"u"||typeof document>"u"||!rl(window.location.host)||bo[s]===t||bo[s]||X_)return;bo[s]=t;function i(C){return`__firebase__banner__${C}`}const a="__firebase__banner",c=ab().prod.length>0;function d(){const C=document.getElementById(a);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,B){C.setAttribute("width","24"),C.setAttribute("id",B),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{X_=!0,d()},C}function E(C,B){C.setAttribute("id",B),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=lb(a),B=i("text"),H=document.getElementById(B)||document.createElement("span"),J=i("learnmore"),W=document.getElementById(J)||document.createElement("a"),ot=i("preprendIcon"),mt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const pt=C.element;g(pt),E(W,J);const Ut=_();y(mt,ot),pt.append(mt,H,W,Ut),document.body.appendChild(pt)}c?(H.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ob(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function ub(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function fb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function db(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function mb(){return!ub()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gb(){try{return typeof indexedDB=="object"}catch{return!1}}function pb(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const yb="FirebaseError";class os extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=yb,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bo.prototype.create)}}class Bo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?_b(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new os(o,g,a)}}function _b(s,t){return s.replace(vb,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const vb=/\{\$([^}]+)}/g;function Tb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Fr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=t[o];if($_(c)&&$_(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function $_(s){return s!==null&&typeof s=="object"}function Po(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Eb(s,t){const i=new Ab(s,t);return i.subscribe.bind(i)}class Ab{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");bb(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ld(){}function Ve(s){return s&&s._delegate?s._delegate:s}class Gr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zr="[DEFAULT]";class Sb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new sb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Cb(t))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zr){return this.instances.has(t)}getOptions(t=zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:wb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=zr){return this.component?this.component.multipleInstances?t:zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wb(s){return s===zr?void 0:s}function Cb(s){return s.instantiationMode==="EAGER"}class Rb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Sb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const Ib={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},Nb=xt.INFO,Db={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},xb=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),o=Db[t];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Im{constructor(t){this.name=t,this._logLevel=Nb,this._logHandler=xb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ib[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const Ob=(s,t)=>t.some(i=>s instanceof i);let Z_,J_;function Mb(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vb(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z0=new WeakMap,Wd=new WeakMap,j0=new WeakMap,Bd=new WeakMap,Nm=new WeakMap;function Ub(s){const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ys(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&z0.set(i,s)}).catch(()=>{}),Nm.set(t,s),t}function kb(s){if(Wd.has(s))return;const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Wd.set(s,t)}let tm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Wd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||j0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Lb(s){tm=s(tm)}function Bb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Pd(this),t,...i);return j0.set(a,t.sort?t.sort():[t]),Ys(a)}:Vb().includes(s)?function(...t){return s.apply(Pd(this),t),Ys(z0.get(this))}:function(...t){return Ys(s.apply(Pd(this),t))}}function Pb(s){return typeof s=="function"?Bb(s):(s instanceof IDBTransaction&&kb(s),Ob(s,Mb())?new Proxy(s,tm):s)}function Ys(s){if(s instanceof IDBRequest)return Ub(s);if(Bd.has(s))return Bd.get(s);const t=Pb(s);return t!==s&&(Bd.set(s,t),Nm.set(t,s)),t}const Pd=s=>Nm.get(s);function zb(s,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,t),g=Ys(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Ys(d.result),y.oldVersion,y.newVersion,Ys(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const jb=["get","getKey","getAll","getAllKeys","count"],qb=["put","add","delete","clear"],zd=new Map;function W_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=qb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||jb.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return zd.set(t,c),c}Lb(s=>({...s,get:(t,i,a)=>W_(t,i)||s.get(t,i,a),has:(t,i)=>!!W_(t,i)||s.has(t,i)}));class Hb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Fb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Fb(s){return s.getComponent()?.type==="VERSION"}const em="@firebase/app",tv="0.14.6";const ns=new Im("@firebase/app"),Gb="@firebase/app-compat",Qb="@firebase/analytics-compat",Kb="@firebase/analytics",Yb="@firebase/app-check-compat",Xb="@firebase/app-check",$b="@firebase/auth",Zb="@firebase/auth-compat",Jb="@firebase/database",Wb="@firebase/data-connect",tS="@firebase/database-compat",eS="@firebase/functions",nS="@firebase/functions-compat",iS="@firebase/installations",sS="@firebase/installations-compat",rS="@firebase/messaging",aS="@firebase/messaging-compat",lS="@firebase/performance",oS="@firebase/performance-compat",uS="@firebase/remote-config",cS="@firebase/remote-config-compat",hS="@firebase/storage",fS="@firebase/storage-compat",dS="@firebase/firestore",mS="@firebase/ai",gS="@firebase/firestore-compat",pS="firebase",yS="12.6.0";const nm="[DEFAULT]",_S={[em]:"fire-core",[Gb]:"fire-core-compat",[Kb]:"fire-analytics",[Qb]:"fire-analytics-compat",[Xb]:"fire-app-check",[Yb]:"fire-app-check-compat",[$b]:"fire-auth",[Zb]:"fire-auth-compat",[Jb]:"fire-rtdb",[Wb]:"fire-data-connect",[tS]:"fire-rtdb-compat",[eS]:"fire-fn",[nS]:"fire-fn-compat",[iS]:"fire-iid",[sS]:"fire-iid-compat",[rS]:"fire-fcm",[aS]:"fire-fcm-compat",[lS]:"fire-perf",[oS]:"fire-perf-compat",[uS]:"fire-rc",[cS]:"fire-rc-compat",[hS]:"fire-gcs",[fS]:"fire-gcs-compat",[dS]:"fire-fst",[gS]:"fire-fst-compat",[mS]:"fire-vertex","fire-js":"fire-js",[pS]:"fire-js-all"};const Gc=new Map,vS=new Map,im=new Map;function ev(s,t){try{s.container.addComponent(t)}catch(i){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ja(s){const t=s.name;if(im.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;im.set(t,s);for(const i of Gc.values())ev(i,s);for(const i of vS.values())ev(i,s);return!0}function Dm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Pn(s){return s==null?!1:s.settings!==void 0}const TS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Bo("app","Firebase",TS);class ES{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const al=yS;function q0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:nm,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(i||(i=k0()),!i)throw Xs.create("no-options");const c=Gc.get(o);if(c){if(Fr(i,c.options)&&Fr(a,c.config))return c;throw Xs.create("duplicate-app",{appName:o})}const d=new Rb(o);for(const y of im.values())d.addComponent(y);const g=new ES(i,a,d);return Gc.set(o,g),g}function H0(s=nm){const t=Gc.get(s);if(!t&&s===nm&&k0())return q0();if(!t)throw Xs.create("no-app",{appName:s});return t}function $s(s,t,i){let a=_S[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}Ja(new Gr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const AS="firebase-heartbeat-database",bS=1,No="firebase-heartbeat-store";let jd=null;function F0(){return jd||(jd=zb(AS,bS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(No)}catch(i){console.warn(i)}}}}).catch(s=>{throw Xs.create("idb-open",{originalErrorMessage:s.message})})),jd}async function SS(s){try{const i=(await F0()).transaction(No),a=await i.objectStore(No).get(G0(s));return await i.done,a}catch(t){if(t instanceof os)ns.warn(t.message);else{const i=Xs.create("idb-get",{originalErrorMessage:t?.message});ns.warn(i.message)}}}async function nv(s,t){try{const a=(await F0()).transaction(No,"readwrite");await a.objectStore(No).put(t,G0(s)),await a.done}catch(i){if(i instanceof os)ns.warn(i.message);else{const a=Xs.create("idb-set",{originalErrorMessage:i?.message});ns.warn(a.message)}}}function G0(s){return`${s.name}!${s.options.appId}`}const wS=1024,CS=30;class RS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new NS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>CS){const o=DS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iv(),{heartbeatsToSend:i,unsentEntries:a}=IS(this._heartbeatsCache.heartbeats),o=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ns.warn(t),""}}}function iv(){return new Date().toISOString().substring(0,10)}function IS(s,t=wS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),sv(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),sv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class NS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gb()?pb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await SS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function sv(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function DS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function xS(s){Ja(new Gr("platform-logger",t=>new Hb(t),"PRIVATE")),Ja(new Gr("heartbeat",t=>new RS(t),"PRIVATE")),$s(em,tv,s),$s(em,tv,"esm2020"),$s("fire-js","")}xS("");var OS="firebase",MS="12.6.0";$s(OS,MS,"app");function Q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VS=Q0,K0=new Bo("auth","Firebase",Q0());const Qc=new Im("@firebase/auth");function US(s,...t){Qc.logLevel<=xt.WARN&&Qc.warn(`Auth (${al}): ${s}`,...t)}function Vc(s,...t){Qc.logLevel<=xt.ERROR&&Qc.error(`Auth (${al}): ${s}`,...t)}function is(s,...t){throw xm(s,...t)}function Ci(s,...t){return xm(s,...t)}function Y0(s,t,i){const a={...VS(),[t]:i};return new Bo("auth","Firebase",a).create(t,{appName:s.name})}function es(s){return Y0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return K0.create(s,...t)}function _t(s,t,...i){if(!s)throw xm(t,...i)}function Wi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Vc(t),new Error(t)}function ss(s,t){s||Wi(t)}function sm(){return typeof self<"u"&&self.location?.href||""}function kS(){return rv()==="http:"||rv()==="https:"}function rv(){return typeof self<"u"&&self.location?.protocol||null}function LS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kS()||hb()||"connection"in navigator)?navigator.onLine:!0}function BS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class zo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ss(i>t,"Short delay should be less than long delay!"),this.isMobile=ob()||fb()}get(){return LS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(s,t){ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class X0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jS=new zo(3e4,6e4);function jo(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ll(s,t,i,a,o={}){return $0(s,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Po({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return cb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&rl(s.emulatorConfig.host)&&(_.credentials="include"),X0.fetch()(await Z0(s,s.config.apiHost,i,g),_)})}async function $0(s,t,i){s._canInitEmulator=!1;const a={...PS,...t};try{const o=new qS(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ic(s,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Y0(s,E,_);is(s,E)}}catch(o){if(o instanceof os)throw o;is(s,"network-request-failed",{message:String(o)})}}async function Mm(s,t,i,a,o={}){const c=await ll(s,t,i,a,o);return"mfaPendingCredential"in c&&is(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Z0(s,t,i,a){const o=`${t}${i}?${a}`,c=s,d=c.config.emulator?Om(s.config,o):`${s.config.apiScheme}://${o}`;return zS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class qS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ci(this.auth,"network-request-failed")),jS.get())})}}function Ic(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ci(s,t,a);return o.customData._tokenResponse=i,o}async function HS(s,t){return ll(s,"POST","/v1/accounts:delete",t)}async function Kc(s,t){return ll(s,"POST","/v1/accounts:lookup",t)}function So(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function FS(s,t=!1){const i=Ve(s),a=await i.getIdToken(t),o=Vm(a);_t(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:So(qd(o.auth_time)),issuedAtTime:So(qd(o.iat)),expirationTime:So(qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(s){return Number(s)*1e3}function Vm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=V0(i);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function av(s){const t=Vm(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Do(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof os&&GS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function GS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class QS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(s){const t=s.auth,i=await s.getIdToken(),a=await Do(s,Kc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?J0(o.providerUserInfo):[],d=YS(s.providerData,c),g=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=g?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,E)}async function KS(s){const t=Ve(s);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function YS(s,t){return[...s.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function J0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function XS(s,t){const i=await $0(s,{},async()=>{const a=Po({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Z0(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&rl(s.emulatorConfig.host)&&(y.credentials="include"),X0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function $S(s,t){return ll(s,"POST","/v2/accounts:revokeToken",jo(s,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):av(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=av(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await XS(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ya;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(_t(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function qs(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new QS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Do(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return FS(this,t)}reload(){return KS(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(es(this.auth));const t=await this.getIdToken();return await Do(this,HS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:b,emailVerified:C,isAnonymous:B,providerData:H,stsTokenManager:J}=i;_t(b&&J,t,"internal-error");const W=Ya.fromJSON(this.name,J);_t(typeof b=="string",t,"internal-error"),qs(a,t.name),qs(o,t.name),_t(typeof C=="boolean",t,"internal-error"),_t(typeof B=="boolean",t,"internal-error"),qs(c,t.name),qs(d,t.name),qs(g,t.name),qs(y,t.name),qs(_,t.name),qs(E,t.name);const ot=new Wn({uid:b,auth:t,email:o,emailVerified:C,displayName:a,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:_,lastLoginAt:E});return H&&Array.isArray(H)&&(ot.providerData=H.map(mt=>({...mt}))),y&&(ot._redirectEventId=y),ot}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ya;o.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];_t(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?J0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Ya;g.updateFromIdToken(a);const y=new Wn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const lv=new Map;function ts(s){ss(s instanceof Function,"Expected a class definition");let t=lv.get(s);return t?(ss(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,lv.set(s,t),t)}class W0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}W0.type="NONE";const ov=W0;function Uc(s,t,i){return`firebase:${s}:${t}:${i}`}class Xa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Uc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Xa(ts(ov),t,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ts(ov);const d=Uc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const E=await _._get(d);if(E){let b;if(typeof E=="string"){const C=await Kc(t,{idToken:E}).catch(()=>{});if(!C)break;b=await Wn._fromGetAccountInfoResponse(t,C,E)}else b=Wn._fromJSON(t,E);_!==c&&(g=b),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Xa(c,t,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Xa(c,t,a))}}function uv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(iT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rT(t))return"Blackberry";if(aT(t))return"Webos";if(eT(t))return"Safari";if((t.includes("chrome/")||nT(t))&&!t.includes("edge/"))return"Chrome";if(sT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function tT(s=We()){return/firefox\//i.test(s)}function eT(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nT(s=We()){return/crios\//i.test(s)}function iT(s=We()){return/iemobile/i.test(s)}function sT(s=We()){return/android/i.test(s)}function rT(s=We()){return/blackberry/i.test(s)}function aT(s=We()){return/webos/i.test(s)}function Um(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ZS(s=We()){return Um(s)&&!!window.navigator?.standalone}function JS(){return db()&&document.documentMode===10}function lT(s=We()){return Um(s)||sT(s)||aT(s)||rT(s)||/windows phone/i.test(s)||iT(s)}function oT(s,t=[]){let i;switch(s){case"Browser":i=uv(We());break;case"Worker":i=`${uv(We())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${al}/${a}`}class WS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function tw(s,t={}){return ll(s,"GET","/v2/passwordPolicy",jo(s,t))}const ew=6;class nw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ew,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class iw{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new WS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),a=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Pn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(es(this));const i=t?Ve(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tw(this),i=new nw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await $S(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ts(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&US(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qo(s){return Ve(s)}class cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Eb(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sw(s){km=s}function rw(s){return km.loadJS(s)}function aw(){return km.gapiScript}function lw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function ow(s,t){const i=Dm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Fr(c,t??{}))return o;is(o,"already-initialized")}return i.initialize({options:t})}function uw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ts);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function cw(s,t,i){const a=qo(s);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=uT(t),{host:d,port:g}=hw(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Fr(_,a.config.emulator)&&Fr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,rl(d)?(B0(`${c}//${d}${y}`),P0("Auth",!0)):fw()}function uT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function hw(s){const t=uT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:hv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:hv(d)}}}function hv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function fw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class cT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function $a(s,t){return Mm(s,"POST","/v1/accounts:signInWithIdp",jo(s,t))}const dw="http://localhost";class Qr extends cT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):is("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Qr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return $a(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,$a(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$a(t,i)}buildRequest(){const t={requestUri:dw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Po(i)}return t}}class hT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ho extends hT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hs extends Ho{constructor(){super("facebook.com")}static credential(t){return Qr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class Fs extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Fs.credential(i,a)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";class Gs extends Ho{constructor(){super("github.com")}static credential(t){return Qr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Qs extends Ho{constructor(){super("twitter.com")}static credential(t,i){return Qr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Qs.credential(i,a)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";async function mw(s,t){return Mm(s,"POST","/v1/accounts:signUp",jo(s,t))}class rs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await Wn._fromIdTokenResponse(t,a,o),d=fv(a);return new rs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=fv(a);return new rs({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function fv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function gw(s){if(Pn(s.app))return Promise.reject(es(s));const t=qo(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new rs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await mw(t,{returnSecureToken:!0}),a=await rs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Xc extends os{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Xc(t,i,a,o)}}function fT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,t,a):c})}async function pw(s,t,i=!1){const a=await Do(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return rs._forOperation(s,"link",a)}async function yw(s,t,i=!1){const{auth:a}=s;if(Pn(a.app))return Promise.reject(es(a));const o="reauthenticate";try{const c=await Do(s,fT(a,o,t,s),i);_t(c.idToken,a,"internal-error");const d=Vm(c.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(s.uid===g,a,"user-mismatch"),rs._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&is(a,"user-mismatch"),c}}async function _w(s,t,i=!1){if(Pn(s.app))return Promise.reject(es(s));const a="signIn",o=await fT(s,a,t),c=await rs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function vw(s,t){return Mm(s,"POST","/v1/accounts:signInWithCustomToken",jo(s,t))}async function Tw(s,t){if(Pn(s.app))return Promise.reject(es(s));const i=qo(s),a=await vw(i,{token:t,returnSecureToken:!0}),o=await rs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function Ew(s,t,i,a){return Ve(s).onIdTokenChanged(t,i,a)}function Aw(s,t,i){return Ve(s).beforeAuthStateChanged(t,i)}function bw(s,t,i,a){return Ve(s).onAuthStateChanged(t,i,a)}const $c="__sak";class dT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sw=1e3,ww=10;class mT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);JS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ww):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}mT.type="LOCAL";const Cw=mT;class gT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}gT.type="SESSION";const pT=gT;function Rw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new hh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await Rw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function Lm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class Iw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Lm("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(b){const C=b;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function Nw(s){Ri().location.href=s}function yT(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function Dw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xw(){return navigator?.serviceWorker?.controller||null}function Ow(){return yT()?self:null}const _T="firebaseLocalStorageDb",Mw=1,Zc="firebaseLocalStorage",vT="fbase_key";class Fo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fh(s,t){return s.transaction([Zc],t?"readwrite":"readonly").objectStore(Zc)}function Vw(){const s=indexedDB.deleteDatabase(_T);return new Fo(s).toPromise()}function am(){const s=indexedDB.open(_T,Mw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Zc,{keyPath:vT})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Zc)?t(a):(a.close(),await Vw(),t(await am()))})})}async function dv(s,t,i){const a=fh(s,!0).put({[vT]:t,value:i});return new Fo(a).toPromise()}async function Uw(s,t){const i=fh(s,!1).get(t),a=await new Fo(i).toPromise();return a===void 0?null:a.value}function mv(s,t){const i=fh(s,!0).delete(t);return new Fo(i).toPromise()}const kw=800,Lw=3;class TT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Lw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(Ow()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Dw(),!this.activeServiceWorker)return;this.sender=new Iw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await am();return await dv(t,$c,"1"),await mv(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>dv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Uw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>mv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=fh(o,!1).getAll();return new Fo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TT.type="LOCAL";const Bw=TT;new zo(3e4,6e4);function Pw(s,t){return t?ts(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Bm extends cT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $a(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function zw(s){return _w(s.auth,new Bm(s),s.bypassAuthState)}function jw(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),yw(i,new Bm(s),s.bypassAuthState)}async function qw(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),pw(i,new Bm(s),s.bypassAuthState)}class ET{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zw;case"linkViaPopup":case"linkViaRedirect":return qw;case"reauthViaPopup":case"reauthViaRedirect":return jw;default:is(this.auth,"internal-error")}}resolve(t){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hw=new zo(2e3,1e4);class Ka extends ET{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const t=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Hw.get())};t()}}Ka.currentPopupAction=null;const Fw="pendingRedirect",kc=new Map;class Gw extends ET{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const a=await Qw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qw(s,t){const i=Xw(t),a=Yw(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Kw(s,t){kc.set(s._key(),t)}function Yw(s){return ts(s._redirectPersistence)}function Xw(s){return Uc(Fw,s.config.apiKey,s.name)}async function $w(s,t,i=!1){if(Pn(s.app))return Promise.reject(es(s));const a=qo(s),o=Pw(a,t),d=await new Gw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Zw=600*1e3;class Jw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ww(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!AT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ci(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Zw&&this.cachedEventUids.clear(),this.cachedEventUids.has(gv(t))}saveEventToCache(t){this.cachedEventUids.add(gv(t)),this.lastProcessedEventTime=Date.now()}}function gv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function AT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Ww(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AT(s);default:return!1}}async function tC(s,t={}){return ll(s,"GET","/v1/projects",t)}const eC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nC=/^https?/;async function iC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await tC(s);for(const i of t)try{if(sC(i))return}catch{}is(s,"unauthorized-domain")}function sC(s){const t=sm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!nC.test(i))return!1;if(eC.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const rC=new zo(3e4,6e4);function pv(){const s=Ri().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function aC(s){return new Promise((t,i)=>{function a(){pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pv(),i(Ci(s,"network-request-failed"))},timeout:rC.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)a();else{const o=lw("iframefcb");return Ri()[o]=()=>{gapi.load?a():i(Ci(s,"network-request-failed"))},rw(`${aw()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function lC(s){return Lc=Lc||aC(s),Lc}const oC=new zo(5e3,15e3),uC="__/auth/iframe",cC="emulator/auth/iframe",hC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dC(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Om(t,cC):`https://${s.config.authDomain}/${uC}`,a={apiKey:t.apiKey,appName:s.name,v:al},o=fC.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Po(a).slice(1)}`}async function mC(s){const t=await lC(s),i=Ri().gapi;return _t(i,s,"internal-error"),t.open({where:document.body,url:dC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hC,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ci(s,"network-request-failed"),g=Ri().setTimeout(()=>{c(d)},oC.get());function y(){Ri().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const gC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pC=500,yC=600,_C="_blank",vC="http://localhost";class yv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TC(s,t,i,a=pC,o=yC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...gC,width:a.toString(),height:o.toString(),top:c,left:d},_=We().toLowerCase();i&&(g=nT(_)?_C:i),tT(_)&&(t=t||vC,y.scrollbars="yes");const E=Object.entries(y).reduce((C,[B,H])=>`${C}${B}=${H},`,"");if(ZS(_)&&g!=="_self")return EC(t||"",g),new yv(null);const b=window.open(t||"",g,E);_t(b,s,"popup-blocked");try{b.focus()}catch{}return new yv(b)}function EC(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const AC="__/auth/handler",bC="emulator/auth/handler",SC=encodeURIComponent("fac");async function _v(s,t,i,a,o,c){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:al,eventId:o};if(t instanceof hT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Tb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))d[E]=b}if(t instanceof Ho){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await s._getAppCheckToken(),_=y?`#${SC}=${encodeURIComponent(y)}`:"";return`${wC(s)}?${Po(g).slice(1)}${_}`}function wC({config:s}){return s.emulator?Om(s,bC):`https://${s.authDomain}/${AC}`}const Hd="webStorageSupport";class CC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pT,this._completeRedirectFn=$w,this._overrideRedirectResult=Kw}async _openPopup(t,i,a,o){ss(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _v(t,i,a,sm(),o);return TC(t,c,Lm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await _v(t,i,a,sm(),o);return Nw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await mC(t),a=new Jw(t);return i.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&i(!!c),is(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=iC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return lT()||eT()||Um()}}const RC=CC;var vv="@firebase/auth",Tv="1.11.1";class IC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function NC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DC(s){Ja(new Gr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oT(s)},_=new iw(a,o,c,y);return uw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ja(new Gr("auth-internal",t=>{const i=qo(t.getProvider("auth").getImmediate());return(a=>new IC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(vv,Tv,NC(s)),$s(vv,Tv,"esm2020")}const xC=300,OC=L0("authIdTokenMaxAge")||xC;let Ev=null;const MC=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>OC)return;const o=i?.token;Ev!==o&&(Ev=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VC(s=H0()){const t=Dm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=ow(s,{popupRedirectResolver:RC,persistence:[Bw,Cw,pT]}),a=L0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=MC(c.toString());Aw(i,d,()=>d(i.currentUser)),Ew(i,g=>d(g))}}const o=U0("auth");return o&&cw(i,`http://${o}`),i}function UC(){return document.getElementsByTagName("head")?.[0]??document}sw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=o=>{const c=Ci("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",UC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DC("Browser");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zs,bT;(function(){var s;function t(N,S){function w(){}w.prototype=S.prototype,N.F=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(O,D,k){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return S.prototype[D].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,w){w||(w=0);const O=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)O[D]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(D=0;D<16;++D)O[D]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],D=N.g[2];let k=N.g[3],R;R=S+(k^w&(D^k))+O[0]+3614090360&4294967295,S=w+(R<<7&4294967295|R>>>25),R=k+(D^S&(w^D))+O[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(w^k&(S^w))+O[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(S^D&(k^S))+O[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(k^w&(D^k))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=k+(D^S&(w^D))+O[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(w^k&(S^w))+O[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(S^D&(k^S))+O[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(k^w&(D^k))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=k+(D^S&(w^D))+O[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(w^k&(S^w))+O[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(S^D&(k^S))+O[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(k^w&(D^k))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=k+(D^S&(w^D))+O[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(w^k&(S^w))+O[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(S^D&(k^S))+O[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(D^k&(w^D))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(S^w))+O[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(k^S))+O[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^S&(D^k))+O[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(w^D))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(S^w))+O[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(k^S))+O[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^S&(D^k))+O[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(w^D))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(S^w))+O[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(k^S))+O[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^S&(D^k))+O[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(w^D))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(S^w))+O[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(k^S))+O[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^S&(D^k))+O[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(w^D^k)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=k+(S^w^D)+O[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^w)+O[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^S)+O[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^k)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=k+(S^w^D)+O[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^w)+O[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^S)+O[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^k)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=k+(S^w^D)+O[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^w)+O[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^S)+O[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^k)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=k+(S^w^D)+O[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^w)+O[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^S)+O[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(D^(w|~k))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=k+(w^(S|~D))+O[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~w))+O[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~S))+O[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~k))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=k+(w^(S|~D))+O[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~w))+O[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~S))+O[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~k))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=k+(w^(S|~D))+O[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~w))+O[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~S))+O[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~k))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=k+(w^(S|~D))+O[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~w))+O[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const w=S-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=w;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<S;)if(O[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,O),D=0;break}}else for(;k<S;)if(O[D++]=N[k++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)N[S++]=this.g[w]>>>O&255;return N};function c(N,S){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;const w=[];let O=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;O&&k==S||(w[D]=k,O=!1)}this.g=w}var g={};function y(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return W(_(-N));const S=[];let w=1;for(let O=0;N>=w;O++)S[O]=N/w|0,w*=4294967296;return new d(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return W(E(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(S,8));let O=b;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const R=parseInt(N.substring(k,k+D),S);D<8?(D=_(Math.pow(S,D)),O=O.j(D).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var b=y(0),C=y(1),B=y(16777216);s=d.prototype,s.m=function(){if(J(this))return-W(this).m();let N=0,S=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);N+=(O>=0?O:4294967296+O)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(J(this))return"-"+W(this).toString(N);const S=_(Math.pow(N,6));var w=this;let O="";for(;;){const D=Ut(w,S).g;w=ot(w,D.j(S));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=D,H(w))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function J(N){return N.h==-1}s.l=function(N){return N=ot(this,N),J(N)?-1:H(N)?0:1};function W(N){const S=N.g.length,w=[];for(let O=0;O<S;O++)w[O]=~N.g[O];return new d(w,~N.h).add(C)}s.abs=function(){return J(this)?W(this):this},s.add=function(N){const S=Math.max(this.g.length,N.g.length),w=[];let O=0;for(let D=0;D<=S;D++){let k=O+(this.i(D)&65535)+(N.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);O=R>>>16,k&=65535,R&=65535,w[D]=R<<16|k}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ot(N,S){return N.add(W(S))}s.j=function(N){if(H(this)||H(N))return b;if(J(this))return J(N)?W(this).j(W(N)):W(W(this).j(N));if(J(N))return W(this.j(W(N)));if(this.l(B)<0&&N.l(B)<0)return _(this.m()*N.m());const S=this.g.length+N.g.length,w=[];for(var O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<N.g.length;D++){const k=this.i(O)>>>16,R=this.i(O)&65535,se=N.i(D)>>>16,Ne=N.i(D)&65535;w[2*O+2*D]+=R*Ne,mt(w,2*O+2*D),w[2*O+2*D+1]+=k*Ne,mt(w,2*O+2*D+1),w[2*O+2*D+1]+=R*se,mt(w,2*O+2*D+1),w[2*O+2*D+2]+=k*se,mt(w,2*O+2*D+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function mt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function pt(N,S){this.g=N,this.h=S}function Ut(N,S){if(H(S))throw Error("division by zero");if(H(N))return new pt(b,b);if(J(N))return S=Ut(W(N),S),new pt(W(S.g),W(S.h));if(J(S))return S=Ut(N,W(S)),new pt(W(S.g),S.h);if(N.g.length>30){if(J(N)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var w=C,O=S;O.l(N)<=0;)w=dt(w),O=dt(O);var D=ht(w,1),k=ht(O,1);for(O=ht(O,2),w=ht(w,2);!H(O);){var R=k.add(O);R.l(N)<=0&&(D=D.add(w),k=R),O=ht(O,1),w=ht(w,1)}return S=ot(N,D.j(S)),new pt(D,S)}for(D=b;N.l(S)>=0;){for(w=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=_(w),R=k.j(S);J(R)||R.l(N)>0;)w-=O,k=_(w),R=k.j(S);H(k)&&(k=C),D=D.add(k),N=ot(N,R)}return new pt(D,N)}s.B=function(N){return Ut(this,N).h},s.and=function(N){const S=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)&N.i(O);return new d(w,this.h&N.h)},s.or=function(N){const S=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)|N.i(O);return new d(w,this.h|N.h)},s.xor=function(N){const S=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)^N.i(O);return new d(w,this.h^N.h)};function dt(N){const S=N.g.length+1,w=[];for(let O=0;O<S;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(w,N.h)}function ht(N,S){const w=S>>5;S%=32;const O=N.g.length-w,D=[];for(let k=0;k<O;k++)D[k]=S>0?N.i(k+w)>>>S|N.i(k+w+1)<<32-S:N.i(k+w);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Zs=d}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ST,vo,wT,Bc,lm,CT,RT,IT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break t;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,q){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return m.prototype[L].apply(A,tt)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function H(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let tt=0;tt<q;tt++)u[v+tt]=L[tt]}else u.push(L)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,v){const A=pt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var pt=new J(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,ht=!1,N=new mt,S=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(w)}};function w(){for(var u;u=ot();){try{u.h.call(u.g)}catch(v){W(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ht=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(se,D),se.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),Q=0;function et(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++Q,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let q=0;q<$.length;q++)v=$[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,A,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=wt(u,m,A,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,q,!!A,L),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,A){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return L}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),De={};function re(u,m,v,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(u,m[q],v,A,L);return null}return v=ml(v),u&&u[Ne]?u.J(m,v,g(A)?!!A.capture:!1,L):ur(u,m,v,!1,A,L)}function ur(u,m,v,A,L,q){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let bt=cr(u);if(bt||(u[kt]=bt=new rt(u)),v=bt.add(m,v,A,tt,q),v.proxy)return v;if(A=Jr(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(ni(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Jr(){function u(v){return m.call(u.src,u.listener,v)}const m=fl;return u}function Wr(u,m,v,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Wr(u,m[q],v,A,L);else A=g(A)?!!A.capture:!!A,v=ml(v),u&&u[Ne]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=wt(m,v,A,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=cr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,A,L)),(v=u>-1?m[u]:null)&&ta(v))}function ta(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])vt(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ni(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=cr(m))?(vt(v,u),v.h==0&&(v.src=null,m[kt]=null)):ft(u)}}}function ni(u){return u in De?De[u]:De[u]="on"+u}function fl(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ta(u),u=v.call(A,m)}return u}function cr(u){return u=u[kt],u instanceof rt?u:null}var dl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ml(u){return typeof u=="function"?u:(u[dl]||(u[dl]=function(m){return u.handleEvent(m)}),u[dl])}function pe(){O.call(this),this.i=new rt(this),this.M=this,this.G=null}b(pe,O),pe.prototype[Ne]=!0,pe.prototype.removeEventListener=function(u,m,v,A){Wr(this,u,m,v,A)};function xe(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(A,u),nt(m,L)}L=!0;let q,tt;if(v)for(tt=v.length-1;tt>=0;tt--)q=m.g=v[tt],L=us(q,A,!0,m)&&L;if(q=m.g=u,L=us(q,A,!0,m)&&L,L=us(q,A,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)q=m.g=v[tt],L=us(q,A,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ft(v[A]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},pe.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function us(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==v){const bt=tt.listener,fe=tt.ha||tt.src;tt.fa&&vt(u.i,tt),L=bt.call(fe,A)!==!1&&L}}return L&&!A.defaultPrevented}function Oh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wo(u){u.g=Oh(()=>{u.g=null,u.i&&(u.i=!1,Wo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(u){O.call(this),this.h=u,this.g={}}b(hr,O);var gl=[];function pl(u){Bt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ta(m)},u),u.g={}}hr.prototype.N=function(){hr.Z.N.call(this),pl(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=d.JSON.stringify,Mh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}b(Pe,D);function Cn(){D.call(this,"c")}b(Cn,D);var he={},iu=null;function ea(){return iu=iu||new pe}he.Ia="serverreachability";function su(u){D.call(this,he.Ia,u)}b(su,D);function ii(u){const m=ea();xe(m,new su(m))}he.STAT_EVENT="statevent";function fr(u,m){D.call(this,he.STAT_EVENT,u),this.stat=m}b(fr,D);function ye(u){const m=ea();xe(m,new fr(m,u))}he.Ja="timingevent";function si(u,m){D.call(this,he.Ja,u),this.size=m}b(si,D);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Vh(u,m,v,A,L,q){u.info(function(){if(u.g)if(q){var tt="",bt=q.split("&");for(let qt=0;qt<bt.length;qt++){var fe=bt[qt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const Dn=ae.split("_");tt=Dn.length>=2&&Dn[1]=="type"?tt+(ae+"="+fe+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function ru(u,m,v,A,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+tt})}function ai(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uh(u,v)+(A?" "+A:"")})}function dr(u,m){u.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Uh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return cs(q)}catch{return m}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function gr(){}b(gr,eu),gr.prototype.g=function(){return new XMLHttpRequest},_l=new gr;function Mi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Hn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var _e={},Ue={};function li(u,m,v){u.M=1,u.A=pr(Te(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),oi(u),u.B=Te(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),aa(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Fn,u.g=Eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(gl[0]=L.toString()),L=gl);for(let q=0;q<L.length;q++){const tt=re(v,L[q],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Kn(this.g),fe=this.g.ya(),qt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||bt!=4||fe==7||(fe==8||qt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break e}}q=null}if(u=q)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,ye(12),pn(this),Rn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=ou(this,v),ae==Ue){bt==4&&(this.m=4,ye(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==_e){this.m=4,ye(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,ae,null),ci(this,ae);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ml(tt),tt.P=!0,ye(11))}}else ai(this.i,this.l,v,null),ci(this,v);bt==4&&pn(this),this.o&&!this.K&&(bt==4?yu(this.j,this):(this.o=!1,oi(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),pn(this),Rn(this)}}}catch{}finally{}};function kh(u){if(!lu(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const A=m.length,L=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ue:(v=Number(m.substring(v,A)),isNaN(v)?_e:(A+=1,A+v>m.length?Ue:(m=m.slice(A,A+v),u.C=A+v,m)))}Hn.prototype.cancel=function(){this.K=!0,pn(this)};function oi(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(_(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(dr(this.i,this.B),this.M!=2&&(ii(),ye(17)),pn(this),this.m=2,Rn(this)):ia(this,this.T-u)};function Rn(u){u.j.I==0||u.K||yu(u.j,u)}function pn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,pl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),_s(v);else break t;br(v),ye(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(_(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&ha(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Dn=qt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const vi=qt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Yn=qt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xn=u.g;if(Xn){const Sr=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var q=A.h;q.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(El(q,q.h),q.h=null))}if(A.G){const fa=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(A.wa=fa,Qt(A.J,A.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=u;if(A.na=Tu(A,A.L?A.ba:null,A.W),tt.L){Al(A.h,tt);var bt=tt,fe=A.O;fe&&(bt.H=fe),bt.D&&(ui(bt),oi(bt)),A.g=tt}else gu(A);v.i.length>0&&yi(v)}else qt[0]!="stop"&&qt[0]!="close"||_i(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?_i(v,7):xl(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ii(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function vl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function El(u,m){u.g?u.g.add(m):u.h=m}function Al(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vl.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,q=null;A>=0?(L=u[v].substring(0,A),q=u[v].substring(A+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof yn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,hs(this,u.u),this.h=u.h,Sl(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),hs(this,m[4]),this.h=di(m[5]||"",!0),Sl(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}yn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(yr(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yr(m,ra,!0),"@"),u.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(yr(v,v.charAt(0)=="/"?wl:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",yr(v,hu)),u.join("")},yn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)hs(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let tt=0;tt<L.length;){const bt=L[tt++];bt=="."?A&&tt==L.length&&q.push(""):bt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&tt==L.length&&q.push("")):(q.push(bt),A=!0)}A=q.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?Sl(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new yn(u)}function ke(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Sl(u,m,v){m instanceof ds?(u.i=m,la(u.i,u.l)):(v||(m=yr(m,fs)),u.i=new ds(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function pr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,cu=/[#\?:]/g,wl=/[#\?]/g,fs=/[#\?@]/g,hu=/#/g;function ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ds.prototype,s.add=function(u,m){rn(this),this.i=null,u=ms(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){rn(u),m=ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Cl(u,m){return rn(u),m=ms(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Rl(u,m){rn(u);let v=[];if(typeof m=="string")Cl(u,m)&&(v=v.concat(u.g.get(ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return rn(this),this.i=null,u=ms(this,u),Cl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Rl(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(ms(u,m),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Mi(v);v=Rl(this,v);for(let q=0;q<v.length;q++){let tt=L;v[q]!==""&&(tt+="="+Mi(v[q])),u.push(tt)}}return this.i=u.join("&")};function du(u){const m=new ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(fu(this,A),aa(this,L,v))},u)),u.j=m}function Gn(u,m){const v=new qn;if(d.Image){const A=new Image;A.onload=E(In,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(In,v,"TestLoadImage: error",!1,m,A),A.onabort=E(In,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(In,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Il(u,m){const v=new qn,A=new AbortController,L=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function gs(){this.g=new tu}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(mi,eu),mi.prototype.g=function(){return new _r(this.i,this.h)};function _r(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(_r,pe),s=_r.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ps(this):Qn(this),this.readyState==3&&oa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ps(this))},s.Na=function(u){this.g&&(this.response=u,ps(this))},s.ga=function(){this.g&&ps(this)};function ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let m="";return Bt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function vr(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Nn(v),typeof u=="string"?v!=null&&Mi(v):Qt(u,m,v))}function Xt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xt,pe);var gi=/^https?$/i,Nl=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=C(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Tr(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Nl,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of v)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Tr(this,q)}};function Tr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Dl(u),Vi(u)}function Dl(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Vi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},s.Xa=function(){Er(this)};function Er(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let tt=String(u.D).match(uu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),A=!gi.test(tt?tt.toLowerCase():"")}v=A}if(v)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var L=Kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Dl(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=au(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Gt(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ys(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(u&&u.concurrentRequestLimit),this.Ba=new gs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ys.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){ye(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Tu(this,null,this.W),yi(this)};function xl(u){if(ua(u),u.I==3){var m=u.V++,v=Te(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Ar(u,v),m=new Hn(u,u.j,m),m.M=2,m.A=pr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),oi(m)}vu(u)}function _s(u){u.g&&(Ml(u),u.g.cancel(),u.g=null)}function ua(u){_s(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!Tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||S(),ht||(dt(),ht=!0),N.add(m,u),u.D=0}}function ca(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Hn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,L,m),v=Te(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Ar(this,v),q&&(this.R?m="headers="+Mi(Nn(q))+"&"+m:this.u&&vr(v,this.u,q)),El(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),L.U=!0,li(L,v,null)):li(L,v,m),this.I=2}}else this.I==3&&(u?Ol(this,u):this.i.length==0||Tl(this.h)||Ol(this))};function Ol(u,m){var v;m?v=m.l:v=u.V++;const A=Te(u.J);Qt(A,"SID",u.M),Qt(A,"RID",v),Qt(A,"AID",u.K),Ar(u,A),u.u&&u.o&&vr(A,u.u,u.o),v=new Hn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),El(u.h,v),li(v,A,m)}function Ar(u,m){u.H&&Bt(u.H,function(v,A){Qt(m,A,v)}),u.l&&Bt({},function(v,A){Qt(m,A,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let bt=-1;for(;;){const fe=["count="+v];bt==-1?v>0?(bt=L[0].g,fe.push("ofs="+bt)):bt=0:fe.push("ofs="+bt);let qt=!0;for(let ae=0;ae<v;ae++){var q=L[ae].g;const Dn=L[ae].map;if(q-=bt,q<0)bt=Math.max(0,L[ae].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var tt=Dn instanceof Map?Dn:Object.entries(Dn);for(const[vi,Yn]of tt){let Xn=Yn;g(Yn)&&(Xn=cs(Yn)),fe.push(q+vi+"="+encodeURIComponent(Xn))}}catch(vi){throw fe.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(Dn)}}if(qt){tt=fe.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||S(),ht||(dt(),ht=!0),N.add(m,u),u.A=0}}function br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(_(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),_s(this),pu(this))};function Ml(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Ar(u,m),u.u&&u.o&&vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=pr(Te(m)),v.u=null,v.R=!0,na(v,u)}s.Va=function(){this.C!=null&&(this.C=null,_s(this),br(this),ye(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){ha(u),Ml(u),u.g=null;var A=2}else if(fi(u.h,m))v=m.G,Al(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=ea(),xe(A,new si(A,v)),yi(u)}else gu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&ca(u,m)||A==2&&br(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const L=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(A,"https"),pr(A),L?Gn(A.toString(),v):Il(A.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),vu(u),ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=bl(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ja,m),H(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var A=v instanceof yn?Te(v):new yn(v);if(A.g!="")m&&(A.g=m+"."+A.g),hs(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new yn(null);A&&ke(q,A),m&&(q.g=m),L&&hs(q,L),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&Qt(A,v,m),Qt(A,"VER",u.ka),Ar(u,A),A}function Eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new mi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function vs(){}vs.prototype.g=function(u,m){return new en(u,m)};function en(u,m){pe.call(this),this.g=new ys(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}b(en,pe),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){xl(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=cs(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&yi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,en.Z.N.call(this)};function bu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(bu,Pe);function Su(){Cn.call(this),this.status=1}b(Su,Cn);function ki(u){this.g=u}b(ki,Au),ki.prototype.ra=function(){xe(this.g,"a")},ki.prototype.qa=function(u){xe(this.g,new bu(u))},ki.prototype.pa=function(u){xe(this.g,new Su)},ki.prototype.oa=function(){xe(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,IT=function(){return new vs},RT=function(){return ea()},CT=he,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,Bc=mr,yl.COMPLETE="complete",wT=yl,nu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,vo=nu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,ST=Xt}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const bv="@firebase/firestore",Sv="4.9.2";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let ol="12.3.0";const Kr=new Im("@firebase/firestore");function Ha(){return Kr.logLevel}function st(s,...t){if(Kr.logLevel<=xt.DEBUG){const i=t.map(Pm);Kr.debug(`Firestore (${ol}): ${s}`,...i)}}function as(s,...t){if(Kr.logLevel<=xt.ERROR){const i=t.map(Pm);Kr.error(`Firestore (${ol}): ${s}`,...i)}}function Wa(s,...t){if(Kr.logLevel<=xt.WARN){const i=t.map(Pm);Kr.warn(`Firestore (${ol}): ${s}`,...i)}}function Pm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function yt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,NT(s,a,i)}function NT(s,t,i){let a=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw as(a),new Error(a)}function Ft(s,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||NT(t,o,a)}function At(s,t){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends os{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Js{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class DT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class LC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class BC{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Js,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Js)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new DT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class PC{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zC{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new PC(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jC{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new wv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qC(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=qC(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Ot(s,t){return s<t?-1:s>t?1:0}function om(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=t.charAt(a);if(o!==c)return Fd(o)===Fd(c)?Ot(o,c):Fd(o)?1:-1}return Ot(s.length,t.length)}const HC=55296,FC=57343;function Fd(s){const t=s.charCodeAt(0);return t>=HC&&t<=FC}function tl(s,t,i){return s.length===t.length&&s.every(((a,o)=>i(a,t[o])))}const Cv="__name__";class wi{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=wi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const a=wi.isNumericId(t),o=wi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?wi.extractNumericId(t).compare(wi.extractNumericId(i)):om(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zs.fromString(t.substring(4,t.length-2))}}class te extends wi{construct(t,i,a){return new te(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new it(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const GC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends wi{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return GC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cv}static keyField(){return new Qe([Cv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new it(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new it(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new it(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(te.fromString(t))}static fromName(t){return new ct(te.fromString(t).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new te(t.slice()))}}function xT(s,t,i){if(!i)throw new it(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function QC(s,t,i,a){if(t===!0&&a===!0)throw new it(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Rv(s){if(!ct.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Iv(s){if(ct.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function OT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function ti(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new it(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(s);throw new it(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Re(s,t){const i={typeString:s};return t&&(i.value=t),i}function Go(s,t){if(!OT(s))throw new it(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new it(X.INVALID_ARGUMENT,i);return!0}const Nv=-62135596800,Dv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Dv);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Nv)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Go(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Nv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ie(0,0))}static max(){return new Tt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xo=-1;function KC(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new tr(o,ct.empty(),t)}function YC(s){return new tr(s.readTime,s.key,xo)}class tr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new tr(Tt.min(),ct.empty(),xo)}static max(){return new tr(Tt.max(),ct.empty(),xo)}}function XC(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,t.documentKey),i!==0?i:Ot(s.largestBatchId,t.largestBatchId))}const $C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ul(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==$C)throw s;st("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++g,g===c&&a(d)}),(E=>o(E)))}}))}static doWhile(t,i){return new Z(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function JC(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function cl(s){return s.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const jm=-1;function gh(s){return s==null}function Jc(s){return s===0&&1/s==-1/0}function WC(s){return typeof s=="number"&&Number.isInteger(s)&&!Jc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const MT="";function tR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=xv(t)),t=eR(s.get(i),t);return xv(t)}function eR(s,t){let i=t;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case MT:i+="";break;default:i+=c}}return i}function xv(s){return s+MT+""}function Ov(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function lr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function VT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Ge(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(t){return new Mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new wn([])}unionWith(t){let i=new Me(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return tl(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class UT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new UT("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const nR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=nR.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function nr(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const kT="server_timestamp",LT="__type__",BT="__previous_value__",PT="__local_write_time__";function qm(s){return(s?.mapValue?.fields||{})[LT]?.stringValue===kT}function ph(s){const t=s.mapValue.fields[BT];return qm(t)?ph(t):t}function Oo(s){const t=er(s.mapValue.fields[PT].timestampValue);return new ie(t.seconds,t.nanos)}class iR{constructor(t,i,a,o,c,d,g,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const Wc="(default)";class Mo{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Mo&&t.projectId===this.projectId&&t.database===this.database}}const zT="__type__",sR="__max__",xc={mapValue:{}},jT="__vector__",th="value";function ir(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qm(s)?4:aR(s)?9007199254740991:rR(s)?10:11:yt(28295,{value:s})}function Oi(s,t){if(s===t)return!0;const i=ir(s);if(i!==ir(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Oo(s).isEqual(Oo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=er(o.timestampValue),g=er(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,c){return nr(o.bytesValue).isEqual(nr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,c){return ge(o.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ge(o.integerValue)===ge(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ge(o.doubleValue),g=ge(c.doubleValue);return d===g?Jc(d)===Jc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return tl(s.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Ov(d)!==Ov(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Oi(d[y],g[y])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Vo(s,t){return(s.values||[]).find((i=>Oi(i,t)))!==void 0}function el(s,t){if(s===t)return 0;const i=ir(s),a=ir(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return Vv(s.timestampValue,t.timestampValue);case 4:return Vv(Oo(s),Oo(t));case 5:return om(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=nr(c),y=nr(d);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const E=Ot(g[_],y[_]);if(E!==0)return E}return Ot(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ot(ge(c.latitude),ge(d.latitude));return g!==0?g:Ot(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Uv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[th]?.arrayValue,E=y[th]?.arrayValue,b=Ot(_?.values?.length||0,E?.values?.length||0);return b!==0?b:Uv(_,E)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let b=0;b<y.length&&b<E.length;++b){const C=om(y[b],E[b]);if(C!==0)return C;const B=el(g[y[b]],_[E[b]]);if(B!==0)return B}return Ot(y.length,E.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Vv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const i=er(s),a=er(t),o=Ot(i.seconds,a.seconds);return o!==0?o:Ot(i.nanos,a.nanos)}function Uv(s,t){const i=s.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=el(i[o],a[o]);if(c)return c}return Ot(i.length,a.length)}function nl(s){return um(s)}function um(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=er(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return nr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=um(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${um(i.fields[d])}`;return o+"}"})(s.mapValue):yt(61005,{value:s})}function Pc(s){switch(ir(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(s);return t?16+Pc(t):16;case 5:return 2*s.stringValue.length;case 6:return nr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Pc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return lr(a.fields,((c,d)=>{o+=c.length+Pc(d)})),o})(s.mapValue);default:throw yt(13486,{value:s})}}function kv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function cm(s){return!!s&&"integerValue"in s}function Hm(s){return!!s&&"arrayValue"in s}function Lv(s){return!!s&&"nullValue"in s}function Bv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function rR(s){return(s?.mapValue?.fields||{})[zT]?.stringValue===jT}function wo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return lr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=wo(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wo(s.arrayValue.values[i]);return t}return{...s}}function aR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===sR}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wo(i)}setAll(t){let i=Qe.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=wo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){lr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new dn(wo(this.value))}}function qT(s){const t=[];return lr(s.fields,((i,a)=>{const o=new Qe([i]);if(zc(a)){const c=qT(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new wn(t)}class Je{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,Tt.min(),Tt.min(),Tt.min(),dn.empty(),0)}static newFoundDocument(t,i,a,o){return new Je(t,1,i,Tt.min(),a,o,0)}static newNoDocument(t,i){return new Je(t,2,i,Tt.min(),Tt.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Tt.min(),Tt.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function Pv(s,t,i){let a=0;for(let o=0;o<s.position.length;o++){const c=t[o],d=s.position[o];if(c.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=el(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function zv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Oi(s.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function lR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class HT{}class Ce extends HT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new uR(t,i,a):i==="array-contains"?new fR(t,a):i==="in"?new dR(t,a):i==="not-in"?new mR(t,a):i==="array-contains-any"?new gR(t,a):new Ce(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new cR(t,a):new hR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(el(i,this.value)):i!==null&&ir(this.value)===ir(i)&&this.matchesComparison(el(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends HT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ei(t,i)}matches(t){return FT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FT(s){return s.op==="and"}function GT(s){return oR(s)&&FT(s)}function oR(s){for(const t of s.filters)if(t instanceof ei)return!1;return!0}function hm(s){if(s instanceof Ce)return s.field.canonicalString()+s.op.toString()+nl(s.value);if(GT(s))return s.filters.map((t=>hm(t))).join(",");{const t=s.filters.map((i=>hm(i))).join(",");return`${s.op}(${t})`}}function QT(s,t){return s instanceof Ce?(function(a,o){return o instanceof Ce&&a.op===o.op&&a.field.isEqual(o.field)&&Oi(a.value,o.value)})(s,t):s instanceof ei?(function(a,o){return o instanceof ei&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&QT(d,o.filters[g])),!0):!1})(s,t):void yt(19439)}function KT(s){return s instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${nl(i.value)}`})(s):s instanceof ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(KT).join(" ,")+"}"})(s):"Filter"}class uR extends Ce{constructor(t,i,a){super(t,i,a),this.key=ct.fromName(a.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class cR extends Ce{constructor(t,i){super(t,"in",i),this.keys=YT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class hR extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=YT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function YT(s,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class fR extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Hm(i)&&Vo(i.arrayValue,this.value)}}class dR extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vo(this.value.arrayValue,i)}}class mR extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vo(this.value.arrayValue,i)}}class gR extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vo(this.value.arrayValue,a)))}}class pR{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function jv(s,t=null,i=[],a=[],o=null,c=null,d=null){return new pR(s,t,i,a,o,c,d)}function Fm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>nl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>nl(a))).join(",")),t.Te=i}return t.Te}function Gm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!lR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!QT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!zv(s.startAt,t.startAt)&&zv(s.endAt,t.endAt)}function fm(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Qo{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yR(s,t,i,a,o,c,d,g){return new Qo(s,t,i,a,o,c,d,g)}function Qm(s){return new Qo(s)}function qv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function XT(s){return s.collectionGroup!==null}function Co(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new nh(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new nh(Qe.keyField(),a))}return t.Ie}function Ii(s){const t=At(s);return t.Ee||(t.Ee=_R(t,Co(s))),t.Ee}function _R(s,t){if(s.limitType==="F")return jv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new nh(o.field,c)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return jv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function dm(s,t){const i=s.filters.concat([t]);return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function mm(s,t,i){return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function yh(s,t){return Gm(Ii(s),Ii(t))&&s.limitType===t.limitType}function $T(s){return`${Fm(Ii(s))}|lt:${s.limitType}`}function Fa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>KT(o))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>nl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>nl(o))).join(",")),`Target(${a})`})(Ii(s))}; limitType=${s.limitType})`}function _h(s,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ct.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,o){for(const c of Co(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const _=Pv(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Co(a),o)||a.endAt&&!(function(d,g,y){const _=Pv(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Co(a),o))})(s,t)}function vR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ZT(s){return(t,i)=>{let a=!1;for(const o of Co(s)){const c=TR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function TR(s,t,i){const a=s.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?el(y,_):yt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:s.dir})}}class Xr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){lr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return VT(this.inner)}size(){return this.innerSize}}const ER=new oe(ct.comparator);function ls(){return ER}const JT=new oe(ct.comparator);function To(...s){let t=JT;for(const i of s)t=t.insert(i.key,i);return t}function WT(s){let t=JT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function jr(){return Ro()}function tE(){return Ro()}function Ro(){return new Xr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const AR=new oe(ct.comparator),bR=new Me(ct.comparator);function Mt(...s){let t=bR;for(const i of s)t=t.add(i);return t}const SR=new Me(Ot);function wR(){return SR}function Km(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function eE(s){return{integerValue:""+s}}function CR(s,t){return WC(t)?eE(t):Km(s,t)}class vh{constructor(){this._=void 0}}function RR(s,t,i){return s instanceof Uo?(function(o,c){const d={fields:{[LT]:{stringValue:kT},[PT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&qm(c)&&(c=ph(c)),c&&(d.fields[BT]=c),{mapValue:d}})(i,t):s instanceof ko?iE(s,t):s instanceof Lo?sE(s,t):(function(o,c){const d=nE(o,c),g=Hv(d)+Hv(o.Ae);return cm(d)&&cm(o.Ae)?eE(g):Km(o.serializer,g)})(s,t)}function IR(s,t,i){return s instanceof ko?iE(s,t):s instanceof Lo?sE(s,t):i}function nE(s,t){return s instanceof ih?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Uo extends vh{}class ko extends vh{constructor(t){super(),this.elements=t}}function iE(s,t){const i=rE(t);for(const a of s.elements)i.some((o=>Oi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Lo extends vh{constructor(t){super(),this.elements=t}}function sE(s,t){let i=rE(t);for(const a of s.elements)i=i.filter((o=>!Oi(o,a)));return{arrayValue:{values:i}}}class ih extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Hv(s){return ge(s.integerValue||s.doubleValue)}function rE(s){return Hm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class NR{constructor(t,i){this.field=t,this.transform=i}}function DR(s,t){return s.field.isEqual(t.field)&&(function(a,o){return a instanceof ko&&o instanceof ko||a instanceof Lo&&o instanceof Lo?tl(a.elements,o.elements,Oi):a instanceof ih&&o instanceof ih?Oi(a.Ae,o.Ae):a instanceof Uo&&o instanceof Uo})(s.transform,t.transform)}class xR{constructor(t,i){this.version=t,this.transformResults=i}}class mn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new mn}static exists(t){return new mn(void 0,t)}static updateTime(t){return new mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Th{}function aE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Eh(s.key,mn.none()):new Ko(s.key,s.data,mn.none());{const i=s.data,a=dn.empty();let o=new Me(Qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new or(s.key,a,new wn(o.toArray()),mn.none())}}function OR(s,t,i){s instanceof Ko?(function(o,c,d){const g=o.value.clone(),y=Gv(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof or?(function(o,c,d){if(!jc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Gv(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(lE(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Io(s,t,i,a){return s instanceof Ko?(function(c,d,g,y){if(!jc(c.precondition,d))return g;const _=c.value.clone(),E=Qv(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof or?(function(c,d,g,y){if(!jc(c.precondition,d))return g;const _=Qv(c.fieldTransforms,y,d),E=d.data;return E.setAll(lE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,g){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function MR(s,t){let i=null;for(const a of s.fieldTransforms){const o=t.data.field(a.field),c=nE(a.transform,o||null);c!=null&&(i===null&&(i=dn.empty()),i.set(a.field,c))}return i||null}function Fv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&tl(a,o,((c,d)=>DR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ko extends Th{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class or extends Th{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function lE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Gv(s,t,i){const a=new Map;Ft(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,IR(d,g,i[o]))}return a}function Qv(s,t,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,RR(c,d,t))}return a}class Eh extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VR extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&OR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Io(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Io(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=tE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=aE(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&tl(this.mutations,t.mutations,((i,a)=>Fv(i,a)))&&tl(this.baseMutations,t.baseMutations,((i,a)=>Fv(i,a)))}}class Ym{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return AR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Ym(t,i,a,o)}}class kR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class LR{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Lt;function BR(s){switch(s){case X.OK:return yt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function oE(s){if(s===void 0)return as("GRPC error has no .code"),X.UNKNOWN;switch(s){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return yt(39323,{code:s})}}(Lt=we||(we={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function PR(){return new TextEncoder}const zR=new Zs([4294967295,4294967295],0);function Kv(s){const t=PR().encode(s),i=new bT;return i.update(t),new Uint8Array(i.digest())}function Yv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Zs([i,a],0),new Zs([o,c],0)]}class Xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Eo(`Invalid padding: ${i}`);if(a<0)throw new Eo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Zs.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Zs.fromNumber(a)));return o.compare(zR)===1&&(o=new Zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Kv(t),[a,o]=Yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Xm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Kv(t),[a,o]=Yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Yo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ah(Tt.min(),o,new oe(Ot),ls(),Mt())}}class Yo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Yo(a,i,Mt(),Mt(),Mt())}}class qc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class uE{constructor(t,i){this.targetId=t,this.Ce=i}}class cE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Xv{constructor(){this.ve=0,this.Fe=$v(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:c})}})),new Yo(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=$v()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ls(),this.Je=Oc(),this.He=Oc(),this.Ye=new oe(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(fm(c))if(a===0){const d=new ct(c.path);this.et(i,d,Je.newNoDocument(d,Tt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=nr(a).toUint8Array()}catch(y){if(y instanceof UT)return Wa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Xm(d,o,c)}catch(y){return Wa(y instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&fm(g.target)){const y=new ct(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Ah(t,i,this.Ye,this.je,a);return this.je=ls(),this.Je=Oc(),this.He=Oc(),this.Ye=new oe(Ot),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Xv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Xv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new oe(ct.comparator)}function $v(){return new oe(ct.comparator)}const qR={asc:"ASCENDING",desc:"DESCENDING"},HR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FR={and:"AND",or:"OR"};class GR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gm(s,t){return s.useProto3Json||gh(t)?t:{value:t}}function sh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function QR(s,t){return sh(s,t.toTimestamp())}function Ni(s){return Ft(!!s,49232),Tt.fromTimestamp((function(i){const a=er(i);return new ie(a.seconds,a.nanos)})(s))}function $m(s,t){return pm(s,t).canonicalString()}function pm(s,t){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?i:i.child(t)}function fE(s){const t=te.fromString(s);return Ft(yE(t),10190,{key:t.toString()}),t}function ym(s,t){return $m(s.databaseId,t.path)}function Gd(s,t){const i=fE(t);if(i.get(1)!==s.databaseId.projectId)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(mE(i))}function dE(s,t){return $m(s.databaseId,t)}function KR(s){const t=fE(s);return t.length===4?te.emptyPath():mE(t)}function _m(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function mE(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Zv(s,t,i){return{name:ym(s,t),fields:i.value.mapValue.fields}}function YR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Ke.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ke.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const E=_.code===void 0?X.UNKNOWN:oE(_.code);return new it(E,_.message||"")})(d);i=new cE(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(s,a.document.name),c=Ni(a.document.updateTime),d=a.document.createTime?Ni(a.document.createTime):Tt.min(),g=new dn({mapValue:{fields:a.document.fields}}),y=Je.newFoundDocument(o,c,d,g),_=a.targetIds||[],E=a.removedTargetIds||[];i=new qc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Gd(s,a.document),c=a.readTime?Ni(a.readTime):Tt.min(),d=Je.newNoDocument(o,c),g=a.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Gd(s,a.document),c=a.removedTargetIds||[];i=new qc([],c,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new LR(o,c),g=a.targetId;i=new uE(g,d)}}return i}function XR(s,t){let i;if(t instanceof Ko)i={update:Zv(s,t.key,t.value)};else if(t instanceof Eh)i={delete:ym(s,t.key)};else if(t instanceof or)i={update:Zv(s,t.key,t.data),updateMask:s2(t.fieldMask)};else{if(!(t instanceof VR))return yt(16599,{Vt:t.type});i={verify:ym(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Uo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ko)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ih)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:QR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(s,t.precondition)),i}function $R(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ni(o.updateTime):Ni(c);return d.isEqual(Tt.min())&&(d=Ni(c)),new xR(d,o.transformResults||[])})(i,t)))):[]}function ZR(s,t){return{documents:[dE(s,t.path)]}}function JR(s,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=dE(s,o);const c=(function(_){if(_.length!==0)return pE(ei.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(C){return{field:Ga(C.field),direction:e2(C.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=gm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:o}}function WR(s){let t=KR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ft(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(b){const C=gE(b);return C instanceof ei&&GT(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((C=>(function(H){return new nh(Qa(H.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(C)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let C;return C=typeof b=="object"?b.value:b,gh(C)?null:C})(i.limit));let y=null;i.startAt&&(y=(function(b){const C=!!b.before,B=b.values||[];return new eh(B,C)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const C=!b.before,B=b.values||[];return new eh(B,C)})(i.endAt)),yR(t,o,d,c,g,"F",y,_)}function t2(s,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function gE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return Ce.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ce.create(Qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ei.create(i.compositeFilter.filters.map((a=>gE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function e2(s){return qR[s]}function n2(s){return HR[s]}function i2(s){return FR[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Qa(s){return Qe.fromServerFormat(s.fieldPath)}function pE(s){return s instanceof Ce?(function(i){if(i.op==="=="){if(Bv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(Lv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Bv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(Lv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:n2(i.op),value:i.value}}})(s):s instanceof ei?(function(i){const a=i.getFilters().map((o=>pE(o)));return a.length===1?a[0]:{compositeFilter:{op:i2(i.op),filters:a}}})(s):yt(54877,{filter:s})}function s2(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function yE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ks{constructor(t,i,a,o,c=Tt.min(),d=Tt.min(),g=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Ks(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class r2{constructor(t){this.yt=t}}function a2(s){const t=WR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?mm(t,t.limit,"L"):t}class l2{constructor(){this.Cn=new o2}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(tr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(tr.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class o2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Me(te.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Me(te.comparator)).toArray()}}const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_E=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(_E,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class il{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}const Wv="LruGarbageCollector",u2=1048576;function t0([s,t],[i,a]){const o=Ot(s,i);return o===0?Ot(t,a):o}class c2{constructor(t){this.Ir=t,this.buffer=new Me(t0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();t0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class h2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Wv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){cl(i)?st(Wv,"Ignoring IndexedDB error during garbage collection: ",i):await ul(i)}await this.Vr(3e5)}))}}class f2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(mh.ce);const a=new c2(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Jv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,g,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(a=b,g=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(_=Date.now(),Ha()<=xt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function d2(s,t){return new f2(s,t)}class m2{constructor(){this.changes=new Xr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class g2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class p2{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Io(a.mutation,o,wn.empty(),ie.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const o=jr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=To();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=ls();const d=Ro(),g=(function(){return Ro()})();return i.forEach(((y,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof or)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Io(E.mutation,_,E.mutation.getFieldMask(),ie.now())):d.set(_.key,wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>g.set(_,new g2(E,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ro();let o=new oe(((d,g)=>d-g)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||wn.empty();E=g.applyToLocalView(_,E),a.set(y,E);const b=(o.get(g.batchId)||Mt()).add(y);o=o.insert(g.batchId,b)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,E=y.value,b=tE();E.forEach((C=>{if(!c.has(C)){const B=aE(i.get(C),a.get(C));B!==null&&b.set(C,B),c=c.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):XT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):Z.resolve(jr());let g=xo,y=c;return d.next((_=>Z.forEach(_,((E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((C=>{y=y.insert(E,C)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Mt()))).next((E=>({batchId:g,changes:WT(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((a=>{let o=To();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=To();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(y=>{const _=(function(b,C){return new Qo(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,o).next((E=>{E.forEach(((b,C)=>{d=d.insert(b,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,Je.newInvalidDocument(E)))}));let g=To();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Io(E.mutation,_,wn.empty(),ie.now()),_h(i,_)&&(g=g.insert(y,_))})),g}))}}class y2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:a2(o.bundledQuery),readTime:Ni(o.readTime)}})(i)),Z.resolve()}}class _2{constructor(){this.overlays=new oe(ct.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=jr();return Z.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const o=jr(),c=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new oe(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=jr(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=jr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>g.set(_,E))),!(g.size()>=o)););return Z.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new kR(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class v2{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Zm{constructor(){this.Qr=new Me(Be.$r),this.Ur=new Me(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Be(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Be(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ct(new te([])),a=new Be(i,t),o=new Be(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new te([])),a=new Be(i,t),o=new Be(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Be(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class T2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Be.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new UR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Be(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Ot);return i.forEach((o=>{const c=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;ct.isDocumentKey(c)||(c=c.child(""));const d=new Be(new ct(c),0);let g=new Me(Ot);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Be(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Be(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class E2{constructor(t){this.ri=t,this.docs=(function(){return new oe(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=ls();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=ls();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||XC(YC(E),a)<=0||(o.has(E.key)||_h(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,o){yt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new A2(this)}getSize(t){return Z.resolve(this.size)}}class A2 extends m2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class b2{constructor(t){this.persistence=t,this.si=new Xr((i=>Fm(i)),Gm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=il.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new il(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class vE{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new v2,this.referenceDelegate=t(this),this.Pi=new b2(this),this.indexManager=new l2,this.remoteDocumentCache=(function(o){return new E2(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new r2(i),this.Ii=new y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new _2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new T2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const o=new S2(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class S2 extends ZC{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Jm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=ct.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.pi=new Xr((a=>tR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=d2(this,i)}static mi(t,i){return new rh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Wm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Mt(),o=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Wm(t,i.fromCache,a,o)}}class w2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class C2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mb()?8:JC(We())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new w2;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Ha()<=xt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ha()<=xt.DEBUG&&st("QueryEngine","Query:",Fa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ha()<=xt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):Z.resolve())}ys(t,i){if(qv(i))return Z.resolve(null);let a=Ii(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=mm(i,null,"F"),a=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,mm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,o){return qv(i)||o.isEqual(Tt.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):(Ha()<=xt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(i)),this.vs(t,d,i,KC(o,xo)).next((g=>g)))}))}Ds(t,i){let a=new Me(ZT(t));return i.forEach(((o,c)=>{_h(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return Ha()<=xt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(t,i,tr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",R2=3e8;class I2{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new oe(Ot),this.xs=new Xr((c=>Fm(c)),Gm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new p2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function N2(s,t,i,a){return new I2(s,t,i,a)}async function TE(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Mt();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){g.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function D2(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,E){const b=_.batch,C=b.keys();let B=Z.resolve();return C.forEach((H=>{B=B.next((()=>E.getEntry(y,H))).next((J=>{const W=_.docVersions.get(H);Ft(W!==null,48541),J.version.compareTo(W)<0&&(b.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),E.addEntry(J)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(y,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function EE(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function x2(s,t){const i=At(s),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((E,b)=>{const C=o.get(b);if(!C)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,b))));let B=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?B=B.withResumeToken(Ke.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,a)),o=o.insert(b,B),(function(J,W,ot){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=R2?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(C,B,E)&&g.push(i.Pi.updateTargetData(c,B))}));let y=ls(),_=Mt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(O2(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(Tt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function O2(s,t,i){let a=Mt(),o=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ls();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):st(tg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function M2(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function V2(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Ks(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function vm(s,t,i){const a=At(s),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!cl(d))throw d;st(tg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function e0(s,t,i){const a=At(s);let o=Tt.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const b=At(y),C=b.xs.get(E);return C!==void 0?Z.resolve(b.Ms.get(C)):b.Pi.getTargetData(_,E)})(a,d,Ii(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:Tt.min(),i?c:Mt()))).next((g=>(U2(a,vR(t),g),{documents:g,Qs:c})))))}function U2(s,t,i){let a=s.Os.get(t)||Tt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class n0{constructor(){this.activeTargetIds=wR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class k2{constructor(){this.Mo=new n0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new n0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class L2{Oo(t){}shutdown(){}}const i0="ConnectivityMonitor";class s0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(i0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(i0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function Tm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Qd="RestConnection",B2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=Tm(),g=this.zo(t,i.toUriEncodedString());st(Qd,`Sending RPC '${t}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),E=rl(_);return this.Jo(t,g,y,a,E).then((b=>(st(Qd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Wa(Qd,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",a),b}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=B2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class z2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class j2 extends P2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=Tm();return new Promise(((g,y)=>{const _=new ST;_.setWithCredentials(!0),_.listenOnce(wT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Bc.NO_ERROR:const b=_.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case Bc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),y(new it(X.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const C=_.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,C,"response text:",_.getResponseText()),C>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const H=B?.error;if(H&&H.status&&H.message){const J=(function(ot){const mt=ot.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(mt)>=0?mt:X.UNKNOWN})(H.status);y(new it(J,H.message))}else y(new it(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new it(X.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(o);st(Xe,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(t,i,a){const o=Tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=IT(),g=RT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");st(Xe,`Creating RPC '${t}' stream ${o}: ${E}`,y);const b=d.createWebChannel(E,y);this.I_(b);let C=!1,B=!1;const H=new z2({Yo:W=>{B?st(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(C||(st(Xe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),C=!0),st(Xe,`RPC '${t}' stream ${o} sending:`,W),b.send(W))},Zo:()=>b.close()}),J=(W,ot,mt)=>{W.listen(ot,(pt=>{try{mt(pt)}catch(Ut){setTimeout((()=>{throw Ut}),0)}}))};return J(b,vo.EventType.OPEN,(()=>{B||(st(Xe,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),J(b,vo.EventType.CLOSE,(()=>{B||(B=!0,st(Xe,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(b))})),J(b,vo.EventType.ERROR,(W=>{B||(B=!0,Wa(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),H.a_(new it(X.UNAVAILABLE,"The operation could not be completed")))})),J(b,vo.EventType.MESSAGE,(W=>{if(!B){const ot=W.data[0];Ft(!!ot,16349);const mt=ot,pt=mt?.error||mt[0]?.error;if(pt){st(Xe,`RPC '${t}' stream ${o} received error:`,pt);const Ut=pt.status;let dt=(function(S){const w=we[S];if(w!==void 0)return oE(w)})(Ut),ht=pt.message;dt===void 0&&(dt=X.INTERNAL,ht="Unknown error status: "+Ut+" with message "+pt.message),B=!0,H.a_(new it(dt,ht)),b.close()}else st(Xe,`RPC '${t}' stream ${o} received:`,ot),H.u_(ot)}})),J(g,CT.STAT_EVENT,(W=>{W.stat===lm.PROXY?st(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===lm.NOPROXY&&st(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Kd(){return typeof document<"u"?document:null}function bh(s){return new GR(s,!0)}class AE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const r0="PersistentStream";class bE{constructor(t,i,a,o,c,d,g,y){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(as(i.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new it(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(r0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(r0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class q2 extends bE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=YR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Ni(d.readTime):Tt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=fm(y)?{documents:ZR(c,y)}:{query:JR(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=hE(c,d.resumeToken);const _=gm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=sh(c,d.snapshotVersion.toTimestamp());const _=gm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const a=t2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=_m(this.serializer),i.removeTarget=t,this.q_(i)}}class H2 extends bE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=$R(t.writeResults,t.commitTime),a=Ni(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=_m(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>XR(this.serializer,a)))};this.q_(i)}}class F2{}class G2 extends F2{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,pm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(X.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,pm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Q2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yr="RemoteStore";class K2{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{$r(this)&&(st(Yr,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await Xo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Ra=new Q2(a,o)}}async function Sh(s){if($r(s))for(const t of s.da)await t(!0)}async function Xo(s){for(const t of s.da)await t(!1)}function SE(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),sg(i)?ig(i):hl(i).O_()&&ng(i,t))}function eg(s,t){const i=At(s),a=hl(i);i.Ia.delete(t),a.O_()&&wE(i,t),i.Ia.size===0&&(a.O_()?a.L_():$r(i)&&i.Ra.set("Unknown"))}function ng(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}hl(s).Y_(t)}function wE(s,t){s.Va.Ue(t),hl(s).Z_(t)}function ig(s){s.Va=new jR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),hl(s).start(),s.Ra.ua()}function sg(s){return $r(s)&&!hl(s).x_()&&s.Ia.size>0}function $r(s){return At(s).Ea.size===0}function CE(s){s.Va=void 0}async function Y2(s){s.Ra.set("Online")}async function X2(s){s.Ia.forEach(((t,i)=>{ng(s,t)}))}async function $2(s,t){CE(s),sg(s)?(s.Ra.ha(t),ig(s)):s.Ra.set("Unknown")}async function Z2(s,t,i){if(s.Ra.set("Online"),t instanceof cE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,t)}catch(a){st(Yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(s,a)}else if(t instanceof qc?s.Va.Ze(t):t instanceof uE?s.Va.st(t):s.Va.tt(t),!i.isEqual(Tt.min()))try{const a=await EE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Ke.EMPTY_BYTE_STRING,E.snapshotVersion)),wE(c,y);const b=new Ks(E.target,y,_,E.sequenceNumber);ng(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){st(Yr,"Failed to raise snapshot:",a),await ah(s,a)}}async function ah(s,t,i){if(!cl(t))throw t;s.Ea.add(1),await Xo(s),s.Ra.set("Offline"),i||(i=()=>EE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Yr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Sh(s)}))}function RE(s,t){return t().catch((i=>ah(s,i,t)))}async function wh(s){const t=At(s),i=sr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:jm;for(;J2(t);)try{const o=await M2(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,W2(t,o)}catch(o){await ah(t,o)}IE(t)&&NE(t)}function J2(s){return $r(s)&&s.Ta.length<10}function W2(s,t){s.Ta.push(t);const i=sr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function IE(s){return $r(s)&&!sr(s).x_()&&s.Ta.length>0}function NE(s){sr(s).start()}async function tI(s){sr(s).ra()}async function eI(s){const t=sr(s);for(const i of s.Ta)t.ea(i.mutations)}async function nI(s,t,i){const a=s.Ta.shift(),o=Ym.from(a,t,i);await RE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await wh(s)}async function iI(s,t){t&&sr(s).X_&&await(async function(a,o){if((function(d){return BR(d)&&d!==X.ABORTED})(o.code)){const c=a.Ta.shift();sr(a).B_(),await RE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await wh(a)}})(s,t),IE(s)&&NE(s)}async function a0(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),st(Yr,"RemoteStore received new credentials");const a=$r(i);i.Ea.add(3),await Xo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function sI(s,t){const i=At(s);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Xo(i),i.Ra.set("Unknown"))}function hl(s){return s.ma||(s.ma=(function(i,a,o){const c=At(i);return c.sa(),new q2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:Y2.bind(null,s),t_:X2.bind(null,s),r_:$2.bind(null,s),H_:Z2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),sg(s)?ig(s):s.Ra.set("Unknown")):(await s.ma.stop(),CE(s))}))),s.ma}function sr(s){return s.fa||(s.fa=(function(i,a,o){const c=At(i);return c.sa(),new H2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:tI.bind(null,s),r_:iI.bind(null,s),ta:eI.bind(null,s),na:nI.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await wh(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Yr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class rg{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new rg(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(s,t){if(as("AsyncQueue",`${t}: ${s}`),cl(s))return new it(X.UNAVAILABLE,`${t}: ${s}`);throw s}class Za{static emptySet(t){return new Za(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=To(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Za)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Za;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class l0{constructor(){this.ga=new oe(ct.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class sl{constructor(t,i,a,o,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new sl(t,i,Za.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class rI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class aI{constructor(){this.queries=o0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),c=o.queries;o.queries=o0(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new it(X.ABORTED,"Firestore shutting down"))}}function o0(){return new Xr((s=>$T(s)),yh)}async function DE(s,t){const i=At(s);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new rI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=ag(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&lg(i)}async function xE(s,t){const i=At(s),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function lI(s,t){const i=At(s);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&lg(i)}function oI(s,t,i){const a=At(s),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function lg(s){s.Ca.forEach((t=>{t.next()}))}var Em,u0;(u0=Em||(Em={})).Ma="default",u0.Cache="cache";class OE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new sl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=sl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Em.Cache}}class ME{constructor(t){this.key=t}}class VE{constructor(t){this.key=t}}class uI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=ZT(t),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new l0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,b)=>{const C=o.get(E),B=_h(this.query,b)?b:null,H=!!C&&this.mutatedKeys.has(C.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;C&&B?C.data.isEqual(B.data)?H!==J&&(a.track({type:3,doc:B}),W=!0):this.su(C,B)||(a.track({type:2,doc:B}),W=!0,(y&&this.eu(B,y)>0||_&&this.eu(B,_)<0)&&(g=!0)):!C&&B?(a.track({type:0,doc:B}),W=!0):C&&!B&&(a.track({type:1,doc:C}),W=!0,(y||_)&&(g=!0)),W&&(B?(d=d.add(B),c=J?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,b)=>(function(B,H){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:W})}};return J(B)-J(H)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new sl(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new VE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new ME(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class cI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class hI{constructor(t){this.key=t,this.hu=!1}}class fI{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xr((g=>$T(g)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ct.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dI(s,t,i=!0){const a=zE(s);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await UE(a,t,i,!0),o}async function mI(s,t){const i=zE(s);await UE(i,t,!0,!1)}async function UE(s,t,i,a){const o=await V2(s.localStore,Ii(t)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await gI(s,t,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&SE(s.remoteStore,o),g}async function gI(s,t,i,a,o){s.pu=(b,C,B)=>(async function(J,W,ot,mt){let pt=W.view.ru(ot);pt.Cs&&(pt=await e0(J.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,pt))));const Ut=mt&&mt.targetChanges.get(W.targetId),dt=mt&&mt.targetMismatches.get(W.targetId)!=null,ht=W.view.applyChanges(pt,J.isPrimaryClient,Ut,dt);return h0(J,W.targetId,ht.au),ht.snapshot})(s,b,C,B);const c=await e0(s.localStore,t,!0),d=new uI(t,c.Qs),g=d.ru(c.documents),y=Yo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,y);h0(s,i,_.au);const E=new cI(t,i,d);return s.Tu.set(t,E),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function pI(s,t,i){const a=At(s),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&eg(a.remoteStore,o.targetId),Am(a,o.targetId)})).catch(ul)):(Am(a,o.targetId),await vm(a.localStore,o.targetId,!0))}async function yI(s,t){const i=At(s),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),eg(i.remoteStore,a.targetId))}async function _I(s,t,i){const a=wI(s);try{const o=await(function(d,g){const y=At(d),_=ie.now(),E=g.reduce(((B,H)=>B.add(H.key)),Mt());let b,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let H=ls(),J=Mt();return y.Ns.getEntries(B,E).next((W=>{H=W,H.forEach(((ot,mt)=>{mt.isValidDocument()||(J=J.add(ot))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,H))).next((W=>{b=W;const ot=[];for(const mt of g){const pt=MR(mt,b.get(mt.key).overlayedDocument);pt!=null&&ot.push(new or(mt.key,pt,qT(pt.value.mapValue),mn.exists(!0)))}return y.mutationQueue.addMutationBatch(B,_,ot,g)})).next((W=>{C=W;const ot=W.applyToLocalDocumentSet(b,J);return y.documentOverlayCache.saveOverlays(B,W.batchId,ot)}))})).then((()=>({batchId:C.batchId,changes:WT(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Ot)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await $o(a,o.changes),await wh(a.remoteStore)}catch(o){const c=ag(o,"Failed to persist write");i.reject(c)}}async function kE(s,t){const i=At(s);try{const a=await x2(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await $o(i,a,t)}catch(a){await ul(a)}}function c0(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=At(d);y.onlineState=g;let _=!1;y.queries.forEach(((E,b)=>{for(const C of b.Sa)C.va(g)&&(_=!0)})),_&&lg(y)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function vI(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new oe(ct.comparator);d=d.insert(c,Je.newNoDocument(c,Tt.min()));const g=Mt().add(c),y=new Ah(Tt.min(),new Map,new oe(Ot),d,g);await kE(a,y),a.du=a.du.remove(c),a.Au.delete(t),ug(a)}else await vm(a.localStore,t,!1).then((()=>Am(a,t,i))).catch(ul)}async function TI(s,t){const i=At(s),a=t.batch.batchId;try{const o=await D2(i.localStore,t);BE(i,a,null),LE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $o(i,o)}catch(o){await ul(o)}}async function EI(s,t,i){const a=At(s);try{const o=await(function(d,g){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,g).next((b=>(Ft(b!==null,37113),E=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);BE(a,t,i),LE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await $o(a,o)}catch(o){await ul(o)}}function LE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function BE(s,t,i){const a=At(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function Am(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||PE(s,a)}))}function PE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(eg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),ug(s))}function h0(s,t,i){for(const a of i)a instanceof ME?(s.Ru.addReference(a.key,t),AI(s,a)):a instanceof VE?(st(og,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||PE(s,a.key)):yt(19791,{wu:a})}function AI(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(st(og,"New document in limbo: "+i),s.Eu.add(a),ug(s))}function ug(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ct(te.fromString(t)),a=s.fu.next();s.Au.set(a,new hI(i)),s.du=s.du.insert(i,a),SE(s.remoteStore,new Ks(Ii(Qm(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function $o(s,t,i){const a=At(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=Wm.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const E=At(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(C=>Z.forEach(C.Es,(B=>E.persistence.referenceDelegate.addReference(b,C.targetId,B))).next((()=>Z.forEach(C.ds,(B=>E.persistence.referenceDelegate.removeReference(b,C.targetId,B)))))))))}catch(b){if(!cl(b))throw b;st(tg,"Failed to update sequence numbers: "+b)}for(const b of _){const C=b.targetId;if(!b.fromCache){const B=E.Ms.get(C),H=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(C,J)}}})(a.localStore,c))}async function bI(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){st(og,"User change. New user:",t.toKey());const a=await TE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new it(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await $o(i,a.Ls)}}function SI(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let o=Mt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function zE(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=kE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vI.bind(null,t),t.Pu.H_=lI.bind(null,t.eventManager),t.Pu.yu=oI.bind(null,t.eventManager),t}function wI(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EI.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return N2(this.persistence,new C2,t.initialUser,this.serializer)}Cu(t){return new vE(Jm.mi,this.serializer)}Du(t){return new k2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class CI extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new h2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new vE((a=>rh.mi(a,i)),this.serializer)}}class bm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>c0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bI.bind(null,this.syncEngine),await sI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new aI})()}createDatastore(t){const i=bh(t.databaseInfo.databaseId),a=(function(c){return new j2(c)})(t.databaseInfo);return(function(c,d,g,y){return new G2(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new K2(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>c0(this.syncEngine,i,0)),(function(){return s0.v()?new s0:new L2})())}createSyncEngine(t,i){return(function(o,c,d,g,y,_,E){const b=new fI(o,c,d,g,y,_);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);st(Yr,"RemoteStore shutting down."),a.Ea.add(5),await Xo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class jE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):as("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const rr="FirestoreClient";class RI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ag(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Yd(s,t){s.asyncQueue.verifyOperationInProgress(),st(rr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await TE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function f0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await II(s);st(rr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>a0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>a0(t.remoteStore,o))),s._onlineComponents=t}async function II(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(rr,"Using user provided OfflineComponentProvider");try{await Yd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Wa("Error using user provided cache. Falling back to memory cache: "+i),await Yd(s,new lh)}}else st(rr,"Using default OfflineComponentProvider"),await Yd(s,new CI(void 0));return s._offlineComponents}async function qE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(rr,"Using user provided OnlineComponentProvider"),await f0(s,s._uninitializedComponentsProvider._online)):(st(rr,"Using default OnlineComponentProvider"),await f0(s,new bm))),s._onlineComponents}function NI(s){return qE(s).then((t=>t.syncEngine))}async function Sm(s){const t=await qE(s),i=t.eventManager;return i.onListen=dI.bind(null,t.syncEngine),i.onUnlisten=pI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=mI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=yI.bind(null,t.syncEngine),i}function DI(s,t,i={}){const a=new Js;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const E=new jE({next:C=>{E.Nu(),d.enqueueAndForget((()=>xE(c,b))),C.fromCache&&y.source==="server"?_.reject(new it(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),b=new OE(g,E,{includeMetadataChanges:!0,qa:!0});return DE(c,b)})(await Sm(s),s.asyncQueue,t,i,a))),a.promise}function HE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const d0=new Map;const FE="firestore.googleapis.com",m0=!0;class g0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FE,this.ssl=m0}else this.host=t.host,this.ssl=t.ssl??m0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<u2)throw new it(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}QC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ch{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new kC;switch(a.type){case"firstParty":return new zC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new it(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=d0.get(i);a&&(st("ComponentProvider","Removing Datastore"),d0.delete(i),a.terminate())})(this),Promise.resolve()}}function xI(s,t,i,a={}){s=ti(s,Ch);const o=rl(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;o&&(B0(`https://${g}`),P0("Firestore",!0)),c.host!==FE&&c.host!==g&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:a};if(!Fr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=Ze.MOCK_USER;else{_=rb(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new it(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ze(b)}s._authCredentials=new LC(new DT(_,E))}}class Zr{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Zr(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Go(i,Ie._jsonSchema))return new Ie(t,a||null,new ct(te.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Re("string",Ie._jsonSchemaVersion),referencePath:Re("string")};class Ws extends Zr{constructor(t,i,a){super(t,i,Qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new ct(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function Ji(s,t,...i){if(s=Ve(s),xT("collection","path",t),s instanceof Ch){const a=te.fromString(t,...i);return Iv(a),new Ws(s,null,a)}{if(!(s instanceof Ie||s instanceof Ws))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(t,...i));return Iv(a),new Ws(s.firestore,null,a)}}function Si(s,t,...i){if(s=Ve(s),arguments.length===1&&(t=zm.newId()),xT("doc","path",t),s instanceof Ch){const a=te.fromString(t,...i);return Rv(a),new Ie(s,null,new ct(a))}{if(!(s instanceof Ie||s instanceof Ws))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(t,...i));return Rv(a),new Ie(s.firestore,s instanceof Ws?s.converter:null,new ct(a))}}const p0="AsyncQueue";class y0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AE(this,"async_queue_retry"),this._c=()=>{const a=Kd();a&&st(p0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!cl(t))throw t;st(p0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",_0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=rg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:_0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function _0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function v0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ar extends Ch{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new y0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new y0(t),this._firestoreClient=void 0,await t}}}function OI(s,t){const i=typeof s=="object"?s:H0(),a=typeof s=="string"?s:Wc,o=Dm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=ib("firestore");c&&xI(o,...c)}return o}function Rh(s){if(s._terminated)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||MI(s),s._firestoreClient}function MI(s){const t=s._freezeSettings(),i=(function(o,c,d,g){return new iR(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,HE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new RI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Ke.fromBase64String(t))}catch(i){throw new it(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new zn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Go(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Re("string",zn._jsonSchemaVersion),bytes:Re("string")};class Zo{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ih{constructor(t){this._methodName=t}}class Di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(Go(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Re("string",Di._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class xi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Go(t,xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new xi(t.vectorValues);throw new it(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Re("string",xi._jsonSchemaVersion),vectorValues:Re("object")};const VI=/^__.*__$/;class UI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new or(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ko(t,this.data,i,this.fieldTransforms)}}class GE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new or(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function QE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class cg{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new cg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(QE(this.Ac)&&VI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class kI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||bh(t)}Cc(t,i,a,o=!1){return new cg({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nh(s){const t=s._freezeSettings(),i=bh(s._databaseId);return new kI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function KE(s,t,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,o);fg("Data must be an object, but it was:",d,a);const g=$E(a,d);let y,_;if(c.merge)y=new wn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const C=wm(t,b,i);if(!d.contains(C))throw new it(X.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);JE(E,C)||E.push(C)}y=new wn(E),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new UI(new dn(g),y,_)}class Dh extends Ih{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}class hg extends Ih{_toFieldTransform(t){return new NR(t.path,new Uo)}isEqual(t){return t instanceof hg}}function YE(s,t,i,a){const o=s.Cc(1,t,i);fg("Data must be an object, but it was:",o,a);const c=[],d=dn.empty();lr(a,((y,_)=>{const E=dg(t,y,i);_=Ve(_);const b=o.yc(E);if(_ instanceof Dh)c.push(E);else{const C=Jo(_,b);C!=null&&(c.push(E),d.set(E,C))}}));const g=new wn(c);return new GE(d,g,o.fieldTransforms)}function XE(s,t,i,a,o,c){const d=s.Cc(1,t,i),g=[wm(t,a,i)],y=[o];if(c.length%2!=0)throw new it(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(wm(t,c[C])),y.push(c[C+1]);const _=[],E=dn.empty();for(let C=g.length-1;C>=0;--C)if(!JE(_,g[C])){const B=g[C];let H=y[C];H=Ve(H);const J=d.yc(B);if(H instanceof Dh)_.push(B);else{const W=Jo(H,J);W!=null&&(_.push(B),E.set(B,W))}}const b=new wn(_);return new GE(E,b,d.fieldTransforms)}function LI(s,t,i,a=!1){return Jo(i,s.Cc(a?4:3,t))}function Jo(s,t){if(ZE(s=Ve(s)))return fg("Unsupported field value:",t,s),$E(s,t);if(s instanceof Ih)return(function(a,o){if(!QE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let y=Jo(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,o){if((a=Ve(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return CR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:sh(o.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(o.serializer,c)}}if(a instanceof Di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zn)return{bytesValue:hE(o.serializer,a._byteString)};if(a instanceof Ie){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof xi)return(function(d,g){return{mapValue:{fields:{[zT]:{stringValue:jT},[th]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Km(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${dh(a)}`)})(s,t)}function $E(s,t){const i={};return VT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lr(s,((a,o)=>{const c=Jo(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function ZE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Di||s instanceof zn||s instanceof Ie||s instanceof Ih||s instanceof xi)}function fg(s,t,i){if(!ZE(i)||!OT(i)){const a=dh(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function wm(s,t,i){if((t=Ve(t))instanceof Zo)return t._internalPath;if(typeof t=="string")return dg(s,t);throw oh("Field path arguments must be of type string or ",s,!1,void 0,i)}const BI=new RegExp("[~\\*/\\[\\]]");function dg(s,t,i){if(t.search(BI)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Zo(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function oh(s,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new it(X.INVALID_ARGUMENT,g+s+y)}function JE(s,t){return s.some((i=>i.isEqual(t)))}class WE{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(tA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class PI extends WE{data(){return super.data()}}function tA(s,t){return typeof t=="string"?dg(s,t):t instanceof Zo?t._internalPath:t._delegate._internalPath}function eA(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class zI extends mg{}function Xd(s,t,...i){let a=[];t instanceof mg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof pg)).length,g=c.filter((y=>y instanceof gg)).length;if(d>1||d>0&&g>0)throw new it(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class gg extends zI{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new gg(t,i,a)}_apply(t){const i=this._parse(t);return nA(t._query,i),new Zr(t.firestore,t.converter,dm(t._query,i))}_parse(t){const i=Nh(t.firestore);return(function(c,d,g,y,_,E,b){let C;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new it(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){E0(b,E);const H=[];for(const J of b)H.push(T0(y,c,J));C={arrayValue:{values:H}}}else C=T0(y,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||E0(b,E),C=LI(g,d,b,E==="in"||E==="not-in");return Ce.create(_,E,C)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class pg extends mg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new pg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const y of g)nA(d,y),d=dm(d,y)})(t._query,i),new Zr(t.firestore,t.converter,dm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function T0(s,t,i){if(typeof(i=Ve(i))=="string"){if(i==="")throw new it(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XT(t)&&i.indexOf("/")!==-1)throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(te.fromString(i));if(!ct.isDocumentKey(a))throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return kv(s,new ct(a))}if(i instanceof Ie)return kv(s,i._key);throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function E0(s,t){if(!Array.isArray(s)||s.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nA(s,t){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class jI{convertValue(t,i="none"){switch(ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return lr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new xi(i)}convertGeoPoint(t){return new Di(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ph(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Oo(t));default:return null}}convertTimestamp(t){const i=er(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=te.fromString(t);Ft(yE(a),9688,{name:t});const o=new Mo(a.get(1),a.get(3)),c=new ct(a.popFirst(5));return o.isEqual(i)||as(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function iA(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class Ao{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qr extends WE{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(tA("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Re("string",qr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Hc extends qr{data(t={}){return super.data(t)}}class Hr{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ao(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Ao(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new Hc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ao(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Hc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ao(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:qI(g.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Hr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function qI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}Hr._jsonSchemaVersion="firestore/querySnapshot/1.0",Hr._jsonSchema={type:Re("string",Hr._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class yg extends jI{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function HI(s){s=ti(s,Zr);const t=ti(s.firestore,ar),i=Rh(t),a=new yg(t);return eA(s._query),DI(i,s._query).then((o=>new Hr(t,a,s,o)))}function A0(s,t,i,...a){s=ti(s,Ie);const o=ti(s.firestore,ar),c=Nh(o);let d;return d=typeof(t=Ve(t))=="string"||t instanceof Zo?XE(c,"updateDoc",s._key,t,i,a):YE(c,"updateDoc",s._key,t),xh(o,[d.toMutation(s._key,mn.exists(!0))])}function b0(s){return xh(ti(s.firestore,ar),[new Eh(s._key,mn.none())])}function S0(s,t){const i=ti(s.firestore,ar),a=Si(s),o=iA(s.converter,t);return xh(i,[KE(Nh(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,mn.exists(!1))]).then((()=>a))}function w0(s,...t){s=Ve(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||v0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(v0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Ie)d=ti(s.firestore,ar),g=Qm(s._key.path),c={next:y=>{t[a]&&t[a](FI(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=ti(s,Zr);d=ti(y.firestore,ar),g=y._query;const _=new yg(d);c={next:E=>{t[a]&&t[a](new Hr(d,_,y,E))},error:t[a+1],complete:t[a+2]},eA(s._query)}return(function(_,E,b,C){const B=new jE(C),H=new OE(E,B,b);return _.asyncQueue.enqueueAndForget((async()=>DE(await Sm(_),H))),()=>{B.Nu(),_.asyncQueue.enqueueAndForget((async()=>xE(await Sm(_),H)))}})(Rh(d),g,o,c)}function xh(s,t){return(function(a,o){const c=new Js;return a.asyncQueue.enqueueAndForget((async()=>_I(await NI(a),o,c))),c.promise})(Rh(s),t)}function FI(s,t,i){const a=i.docs.get(t._key),o=new yg(s);return new qr(s,o,t._key,a,new Ao(i.hasPendingWrites,i.fromCache),t.converter)}class GI{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Nh(t)}set(t,i,a){this._verifyNotCommitted();const o=$d(t,this._firestore),c=iA(o.converter,i,a),d=KE(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,a);return this._mutations.push(d.toMutation(o._key,mn.none())),this}update(t,i,a,...o){this._verifyNotCommitted();const c=$d(t,this._firestore);let d;return d=typeof(i=Ve(i))=="string"||i instanceof Zo?XE(this._dataReader,"WriteBatch.update",c._key,i,a,o):YE(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,mn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=$d(t,this._firestore);return this._mutations=this._mutations.concat(new Eh(i._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $d(s,t){if((s=Ve(s)).firestore!==t)throw new it(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function qa(){return new hg("serverTimestamp")}function C0(s){return Rh(s=ti(s,ar)),new GI(s,(t=>xh(s,t)))}(function(t,i=!0){(function(o){ol=o})(al),Ja(new Gr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ar(new BC(a.getProvider("auth-internal")),new jC(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(_.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$s(bv,Sv,t),$s(bv,Sv,"esm2020")})();const QI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),R0=s=>{const t=KI(s);return t.charAt(0).toUpperCase()+t.slice(1)},sA=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),YI=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var XI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $I=jt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},y)=>jt.createElement("svg",{ref:y,...XI,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:sA("lucide",o),...!c&&!YI(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,E])=>jt.createElement(_,E)),...Array.isArray(c)?c:[c]]));const gn=(s,t)=>{const i=jt.forwardRef(({className:a,...o},c)=>jt.createElement($I,{ref:c,iconNode:t,className:sA(`lucide-${QI(R0(s))}`,`lucide-${s}`,a),...o}));return i.displayName=R0(s),i};const ZI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rA=gn("arrow-right",ZI);const JI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],WI=gn("book-open",JI);const tN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],eN=gn("calendar",tN);const nN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],iN=gn("circle-alert",nN);const sN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zd=gn("circle-check",sN);const rN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aN=gn("clock",rN);const lN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],oN=gn("pen",lN);const uN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cm=gn("plus",uN);const cN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],I0=gn("refresh-cw",cN);const hN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fN=gn("save",hN);const dN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mN=gn("search",dN);const gN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],aA=gn("trash-2",gN);const pN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yN=gn("users",pN);const _N=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lA=gn("x",_N),vN={apiKey:"AIzaSyCnGYvKV5RM920W9MfVK0vE9_OFDh9qOt4",authDomain:"school-scheduler-be0ba.firebaseapp.com",projectId:"school-scheduler-be0ba",storageBucket:"school-scheduler-be0ba.firebasestorage.app",messagingSenderId:"293883160030",appId:"1:293883160030:web:96f28a8cdef6415a42294f",measurementId:"G-DQWDYSGX12"},oA=q0(vN),Jd=VC(oA),$e=OI(oA),hn="school-scheduler-v1",uh=["Monday","Tuesday","Wednesday","Thursday","Friday"],N0=[1,2,3,4,5,6,7],D0=[{name:"5",divisions:["A","B"]},{name:"6",divisions:["A","B"]},{name:"7",divisions:["A","B"]},{name:"8",divisions:["A","B","C"]},{name:"9",divisions:["A","B","C"]},{name:"10",divisions:["A","B","C"]}],x0=[{name:"RIJI",timetable:{Monday:["10A","8A, 8C","10C","8A, 8B","10B","9A, 9C","9A, 9B"],Tuesday:["10A","8A, 8C","9C","8A, 8B","8C","10B","10A, 10C"],Wednesday:["9A, 9C","","10A, 10C","10B","","","9A, 9B"],Thursday:["9A, 9C","8A, 8C","10B","","8B","9B","10A, 10C"],Friday:["","8A, 8C","9C","","10B","10A, 10C","9A, 9C"]}},{name:"KPS",timetable:{Monday:["8B","","","8B","9B","","10B"],Tuesday:["8B","9A","9A","","9B","9A, 9C","10A, 10C"],Wednesday:["9A, 9C","","10A, 10C","10B","","",""],Thursday:["9A, 9C","9A","10B","","8B","9B","10A, 10C"],Friday:["","","9B","","10B","10A, 10C","9A, 9C"]}},{name:"ANV",timetable:{Monday:["","8A, 8C","7A, 7B","","5A, 5B","","6A, 6B"],Tuesday:["","8A, 8C","6A, 6B","","5A, 5B","",""],Wednesday:["","5A, 5B","","","6A, 6B","7A, 7B",""],Thursday:["","","8A, 8C","7A, 7B","6A, 6B","",""],Friday:["","8A, 8C","7A, 7B","5A, 5B","","",""]}},{name:"KCR",timetable:{Monday:["","9A, 9C","8A, 8C","5A, 5B","7A, 7B","6A, 6B","10A, 10C"],Tuesday:["9A, 9C","8A, 8C","5A, 5B","6A, 6B","6A, 6B","9A, 9C","7A, 7B"],Wednesday:["6A, 6B","10A, 10C","10A, 10C","5A, 5B","5A, 5B","6A, 6B","7A, 7B"],Thursday:["6A, 6B","10A, 10C","10A, 10C","8A, 8C","7A, 7B","5A, 5B",""],Friday:["8A, 8C","7A, 7B","5A, 5B","","10A, 10C","9A, 9C",""]}},{name:"RV",timetable:{Monday:["8A","8B","10A","9C","10B","",""],Tuesday:["8A","","10B","9C","10A","",""],Wednesday:["8A","9C","10A","","8B","10B",""],Thursday:["8A","","10A","10B","9C","","8B"],Friday:["8A","10A","10B","","8B","9C","8B"]}},{name:"SL",timetable:{Monday:["10C","9A","8C","","8A","8A",""],Tuesday:["10C","9B","9B","9A","8C","",""],Wednesday:["10C","","9A","9B","8C","",""],Thursday:["10C","9B","9A","","8C","",""],Friday:["10C","","9A","","9B","8C",""]}},{name:"US",timetable:{Monday:["9A","10A","10A","10C","9B","",""],Tuesday:["","9C","8C","10B","","10A","10B"],Wednesday:["","10A","9C","10B","10C","",""],Thursday:["","8C","9B","10A","","9C","9A"],Friday:["9B","10C","8C","10A","9A","",""]}},{name:"NMS",timetable:{Monday:["","6B","6A","7A","","5B",""],Tuesday:["","7B","5A, 5B","","7A","7B",""],Wednesday:["","6B","5A","8A","6A","8B",""],Thursday:["","8B","7B","8A","5B","6A",""],Friday:["","8B","8A","5A","","6B","7A"]}},{name:"SK",timetable:{Monday:["10B","","9A","8B","","10A",""],Tuesday:["10B","10A","8C","8B","","9A",""],Wednesday:["10B","","9A","8C","8B","","10A"],Thursday:["10B","","8B","8C","9A","","10A"],Friday:["10B","","10A","9A","8C","","10A"]}},{name:"GS",timetable:{Monday:["9C","9B","","","8A","10C","10C"],Tuesday:["","","9B","8A","","10C","9C"],Wednesday:["","9B","","9B","","10C","9C"],Thursday:["9B","8A","","9B","","9B","9C"],Friday:["9C","","8A","9B","","","10C"]}},{name:"PKV",timetable:{Monday:["10B","9C","9B","","9A","8C",""],Tuesday:["10C","10A","9A","","10B","",""],Wednesday:["10C","8C","","9C","9B","",""],Thursday:["10A","","10C","10B","10C","",""],Friday:["","","10A","10C","10C","",""]}},{name:"RM",timetable:{Monday:["9B","","8A","8A","8C","","9C"],Tuesday:["9B","","10C","8B","8A","",""],Wednesday:["10A","8B","8A","","9A","",""],Thursday:["8B","10C","","9C","10A","","10B"],Friday:["8B","9A","","8C","","10B",""]}},{name:"AMG",timetable:{Monday:["9C","10C","","10B","8B","","10A"],Tuesday:["9C","","8A","10B","9B","8C",""],Wednesday:["","8C","8B","10C","10A","",""],Thursday:["10A","9C","9A","10C","8A","9B",""],Friday:["","9C","9C","9A","","10B",""]}},{name:"LCV",timetable:{Monday:["8C","","10B","9C","","10A",""],Tuesday:["8C","10B","","10A","","9C","8A"],Wednesday:["8C","8A","","","10A","10B","9C"],Thursday:["8C","10B","9C","","","10A",""],Friday:["10A","10B","","9C","","8A","8A"]}},{name:"SV",timetable:{Monday:["9B","10C","9A","8B","","",""],Tuesday:["9A","8B","10C","10C","9B","",""],Wednesday:["9B","10B","10B","9B","9A","10C",""],Thursday:["10C","9A","8B","9A","","",""],Friday:["10B","8B","9B","","","",""]}},{name:"SB",timetable:{Monday:["9A","5A","8C","7B","","",""],Tuesday:["8B","7A","6B","8A","","",""],Wednesday:["7B","9C","5B","BA","","",""],Thursday:["6A","5B","5A","7A","","",""],Friday:["9B","8B","6B","8C","6A","",""]}},{name:"SH",timetable:{Monday:["5A","8C","6B","9C","8B","",""],Tuesday:["6A","8B","8B","9A","7A","8C",""],Wednesday:["8C","","8C","5B","8A","",""],Thursday:["7B","8B","","9B","BA","",""],Friday:["6A","","","","","",""]}},{name:"SN",timetable:{Monday:["","","","","","",""],Tuesday:["8B","7A","6B","5B","8A","6A",""],Wednesday:["","","","","","","7B"],Thursday:["5A","6B","8C","","","",""],Friday:["","5B","","6A","","7A","7B"]}},{name:"SM",timetable:{Monday:["7A","7B","7A","","","5A, 5B",""],Tuesday:["7A","6A","7A","","5A, 5B","",""],Wednesday:["6B","5A, 5B","6B","6A","7B","",""],Thursday:["7A","6B","7A","6A","7B","6A",""],Friday:["7B","6B","5A, 5B","","","",""]}},{name:"NS",timetable:{Monday:["7B","5B","5A","7B","7A","6A, 6B",""],Tuesday:["7B","","6A, 6B","7A","5B","","7B"],Wednesday:["5B","7A","","","","","SA"],Thursday:["7B","5B","","","6A, 6B","7A",""],Friday:["7B","5B","","7A","5A","",""]}},{name:"BC",timetable:{Monday:["6B","","7A, 7B","6A","5B","SA",""],Tuesday:["6B","5A","","6B","5B","","6A"],Wednesday:["6B","","6A","5A","5B","7A, 7B",""],Thursday:["6B","","5A","7A, 7B","5B","",""],Friday:["6B","","7A, 7B","6A","5B","","SA"]}},{name:"JB",timetable:{Monday:["6A","","6B","5B","7B","7A",""],Tuesday:["6A","6B","","7A","7B","5A",""],Wednesday:["6A","","7B","6B","5B","7A",""],Thursday:["6A","","7A","6B","7B","5A",""],Friday:["6A","7A","","6B","7B","",""]}},{name:"PRV",timetable:{Monday:["5A","6A","SB","6B","6A","",""],Tuesday:["5A","5B","7B","6A","6B","5B",""],Wednesday:["5A","6A","","7B","5A","6B",""],Thursday:["5A","7A","","5B","","6B",""],Friday:["5A","6B","6A","7A","5B","",""]}},{name:"ASA",timetable:{Monday:["5B","7A","","7B","6A","5A",""],Tuesday:["5B","7A","5A","","7B","6A","7A"],Wednesday:["5B","","7A","","","5A","7B"],Thursday:["5B","5A","6B","","7A","","7B"],Friday:["5B","","6B","","5A","7B","5B"]}}],TN=({classes:s,onAddClass:t,onDeleteClass:i,onUpdateClass:a})=>{const[o,c]=jt.useState(""),[d,g]=jt.useState(""),[y,_]=jt.useState(null),E=H=>{H.preventDefault(),o.trim()&&(t(o),c(""))},b=async(H,J)=>{if(!d.trim())return;const W=[...J||[],d.trim().toUpperCase()].sort();await a(H,W),g("")},C=async(H,J,W)=>{const ot=J.filter(mt=>mt!==W);await a(H,ot)},B=[...s].sort((H,J)=>{const W=parseInt(H.name)||0,ot=parseInt(J.name)||0;return W-ot||H.name.localeCompare(J.name)});return V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-full",children:[V.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col h-full overflow-hidden",children:[V.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl shrink-0",children:[V.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[V.jsx(WI,{className:"w-5 h-5 text-blue-600"}),"Class Standards"]}),V.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Add grades (e.g., 8, 9, 10)"})]}),V.jsx("div",{className:"p-4 border-b border-slate-100 shrink-0",children:V.jsxs("form",{onSubmit:E,className:"flex gap-2",children:[V.jsx("input",{type:"text",placeholder:"Add Class (e.g. 8)...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:o,onChange:H=>c(H.target.value)}),V.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:V.jsx(Cm,{className:"w-4 h-4"})})]})}),V.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1 min-h-0",children:B.map(H=>V.jsxs("div",{onClick:()=>_(H.id),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all border ${y===H.id?"bg-blue-50 border-blue-200 ring-1 ring-blue-300":"bg-white border-transparent hover:bg-slate-50"}`,children:[V.jsxs("span",{className:"font-bold text-slate-700",children:["Class ",H.name]}),V.jsx("button",{onClick:J=>{J.stopPropagation(),i(H.id)},className:"text-slate-400 hover:text-red-500 p-1",children:V.jsx(aA,{className:"w-4 h-4"})})]},H.id))})]}),V.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col h-full overflow-hidden",children:[V.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl shrink-0",children:[V.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Divisions"}),V.jsx("p",{className:"text-xs text-slate-500 mt-1",children:y?`Managing divisions for Class ${s.find(H=>H.id===y)?.name}`:"Select a class on the left to manage divisions"})]}),y?V.jsxs(V.Fragment,{children:[V.jsx("div",{className:"p-4 border-b border-slate-100 shrink-0",children:V.jsxs("div",{className:"flex gap-2",children:[V.jsx("input",{type:"text",placeholder:"Add Div (e.g. A)...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none uppercase",value:d,onChange:H=>g(H.target.value),maxLength:2}),V.jsx("button",{onClick:()=>b(y,s.find(H=>H.id===y)?.divisions),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:V.jsx(Cm,{className:"w-4 h-4"})})]})}),V.jsx("div",{className:"p-4 flex-1 overflow-y-auto min-h-0",children:V.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.find(H=>H.id===y)?.divisions?.map((H,J)=>V.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-100 text-slate-700 font-bold border border-slate-200",children:[H,V.jsx("button",{onClick:()=>C(y,s.find(W=>W.id===y)?.divisions,H),className:"w-4 h-4 rounded-full bg-slate-300 text-white hover:bg-red-500 flex items-center justify-center",children:V.jsx(lA,{className:"w-3 h-3"})})]},J)),!s.find(H=>H.id===y)?.divisions?.length&&V.jsx("p",{className:"text-sm text-slate-400 italic",children:"No divisions added yet."})]})})]}):V.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:V.jsx(rA,{className:"w-8 h-8 opacity-20"})})]})]})},EN=({teachers:s,onSelectTeacher:t,onDeleteTeacher:i,onAddTeacher:a})=>{const[o,c]=jt.useState(""),[d,g]=jt.useState(""),y=E=>{E.preventDefault(),o.trim()&&(a(o),c(""))},_=s.filter(E=>E.name.toLowerCase().includes(d.toLowerCase())).sort((E,b)=>E.name.localeCompare(b.name));return V.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 h-full flex flex-col overflow-hidden",children:[V.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl shrink-0",children:V.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[V.jsx(yN,{className:"w-5 h-5 text-blue-600"}),"Staff Directory"]})}),V.jsxs("div",{className:"p-4 border-b border-slate-100 shrink-0",children:[V.jsxs("form",{onSubmit:y,className:"flex gap-2 mb-3",children:[V.jsx("input",{type:"text",placeholder:"Add Teacher...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:o,onChange:E=>c(E.target.value)}),V.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-1",children:V.jsx(Cm,{className:"w-4 h-4"})})]}),V.jsxs("div",{className:"relative",children:[V.jsx(mN,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),V.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-9 pr-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-blue-400",value:d,onChange:E=>g(E.target.value)})]})]}),V.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1 min-h-0",children:_.length===0?V.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No teachers found."}):_.map(E=>V.jsxs("div",{onClick:()=>t(E),className:"group flex items-center justify-between p-3 rounded-lg hover:bg-blue-50 cursor-pointer border border-transparent hover:border-blue-100 transition-all",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm font-bold",children:E.name.charAt(0).toUpperCase()}),V.jsx("span",{className:"font-medium text-slate-700 group-hover:text-blue-700",children:E.name})]}),V.jsx("button",{onClick:b=>{b.stopPropagation(),i(E.id)},className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-md transition-all z-10",title:"Delete Teacher",children:V.jsx(aA,{className:"w-4 h-4"})})]},E.id))})]})},AN=({value:s,definedClasses:t,onClose:i,onSave:a})=>{const[o,c]=jt.useState(new Set),[d,g]=jt.useState("");jt.useEffect(()=>{const E=new Set;if(s){s.split(",").map(B=>B.trim().toUpperCase()).forEach(B=>{t.forEach(H=>{(H.divisions||[]).forEach(J=>{const W=`${H.name}${J}`.toUpperCase();B.includes(W)&&E.add(W)})})});let C=s;t.forEach(B=>{(B.divisions||[]).forEach(H=>{const J=`${B.name}${H}`,W=new RegExp(`${J}[, ]*`,"gi");C=C.replace(W,"")})}),g(C.replace(/^[,\s]+|[,\s]+$/g,""))}c(E)},[s,t]);const y=E=>{const b=new Set(o);b.has(E)?b.delete(E):b.add(E),c(b)},_=()=>{let E=Array.from(o).sort().join(", ");d&&(E=E?`${E} ${d}`:d),a(E)};return V.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4",children:V.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md flex flex-col max-h-[90vh]",children:[V.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[V.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Select Classes & Subject"}),V.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-100 rounded-full",children:V.jsx(lA,{className:"w-5 h-5"})})]}),V.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[t.map(E=>V.jsxs("div",{children:[V.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 border-b border-slate-100 pb-1",children:["Standard ",E.name]}),V.jsx("div",{className:"flex flex-wrap gap-2",children:(E.divisions||[]).length>0?E.divisions.map(b=>{const C=`${E.name}${b}`.toUpperCase(),B=o.has(C);return V.jsx("button",{onClick:()=>y(C),className:`
                          px-4 py-2 rounded-lg text-sm font-bold border transition-all
                          ${B?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:border-blue-300 hover:bg-slate-50"}
                        `,children:C},b)}):V.jsx("span",{className:"text-xs text-slate-400 italic",children:"No divisions"})})]},E.id)),V.jsxs("div",{children:[V.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"Subject / Note"}),V.jsx("input",{type:"text",placeholder:"e.g. Math, Eng, Library...",className:"w-full p-2 border border-slate-300 rounded-lg text-sm",value:d,onChange:E=>g(E.target.value)})]})]}),V.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50 rounded-b-xl flex justify-end gap-2",children:[V.jsx("button",{onClick:i,className:"px-4 py-2 text-slate-600 font-medium text-sm hover:bg-slate-200 rounded-lg",children:"Cancel"}),V.jsx("button",{onClick:_,className:"px-6 py-2 bg-blue-600 text-white font-medium text-sm rounded-lg hover:bg-blue-700 shadow-sm",children:"Done"})]})]})})},bN=({teacher:s,onUpdateTimetable:t,onClose:i,definedClasses:a})=>{const[o,c]=jt.useState(s.timetable||{}),[d,g]=jt.useState(!1),[y,_]=jt.useState(null);jt.useEffect(()=>{const C=s.timetable||{};uh.forEach(B=>{C[B]||(C[B]=Array(7).fill(""))}),c(C)},[s]);const E=(C,B,H)=>{const J={...o};J[C]||(J[C]=Array(7).fill("")),J[C][B]=H,c(J),_(null)},b=async()=>{g(!0),await t(s.id,o),g(!1)};return V.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 h-full flex flex-col relative overflow-hidden",children:[V.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50 rounded-t-xl shrink-0",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Master Timetable"}),V.jsxs("p",{className:"text-sm text-slate-500",children:["Editing: ",V.jsx("span",{className:"font-medium text-blue-600",children:s.name})]})]}),V.jsxs("div",{className:"flex gap-2",children:[V.jsx("button",{onClick:i,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg text-sm font-medium",children:"Close"}),V.jsx("button",{onClick:b,disabled:d,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm",children:d?"Saving...":V.jsxs(V.Fragment,{children:[V.jsx(fN,{className:"w-4 h-4"})," Save Changes"]})})]})]}),V.jsx("div",{className:"flex-1 overflow-auto p-4 min-h-0",children:V.jsxs("div",{className:"min-w-[800px]",children:[V.jsxs("div",{className:"grid grid-cols-[100px_repeat(7,1fr)] gap-1 mb-2",children:[V.jsx("div",{className:"font-bold text-slate-400 text-xs uppercase tracking-wider text-center self-end pb-2",children:"Day"}),N0.map(C=>V.jsxs("div",{className:"text-center font-bold text-slate-600 bg-slate-100 py-2 rounded-md text-sm",children:["Pd ",C]},C))]}),uh.map(C=>V.jsxs("div",{className:"grid grid-cols-[100px_repeat(7,1fr)] gap-1 mb-2 items-stretch",children:[V.jsx("div",{className:"font-bold text-slate-700 text-sm flex items-center justify-center bg-slate-50 rounded-md border border-slate-100",children:C.substring(0,3)}),N0.map((B,H)=>{const J=o[C]&&o[C][H]||"";return V.jsxs("div",{onClick:()=>_({day:C,idx:H,value:J}),className:`
                      relative w-full h-16 p-1 text-xs text-center border rounded-md cursor-pointer transition-all flex items-center justify-center group
                      ${J?"bg-blue-50 border-blue-200 text-blue-800 font-bold hover:bg-blue-100":"bg-white border-slate-200 text-slate-300 hover:border-blue-300 hover:bg-slate-50"}
                    `,children:[V.jsx("span",{className:"line-clamp-3 leading-tight px-1",children:J||"-"}),V.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 text-blue-400",children:V.jsx(oN,{className:"w-3 h-3"})})]},`${C}-${B}`)})]},C))]})}),y&&V.jsx(AN,{value:y.value,definedClasses:a,onClose:()=>_(null),onSave:C=>E(y.day,y.idx,C)})]})},SN=({teachers:s,definedClasses:t})=>{const[i,a]=jt.useState("Monday"),[o,c]=jt.useState([]),d=b=>{c(C=>C.includes(b)?C.filter(B=>B!==b):[...C,b])},g=jt.useMemo(()=>{const b=new Set;return t.forEach(C=>{(C.divisions||[]).forEach(B=>{b.add(`${C.name}${B}`.toUpperCase())})}),b},[t]),y=b=>{if(!b)return[];const C=b.toUpperCase(),B=[];for(const H of g)C.includes(H)&&B.push(H);return B},_=(b,C)=>{if(!b.timetable||!C||C.length===0)return!1;for(const B of uh){const H=b.timetable[B];if(H)for(const J of H){if(!J)continue;if(y(J).some(ot=>C.includes(ot)))return!0}}return!1},E=jt.useMemo(()=>{if(o.length===0)return[];const b=[];return o.forEach(C=>{const B=s.find(H=>H.id===C);!B||!B.timetable||!B.timetable[i]||B.timetable[i].forEach((H,J)=>{if(J<7&&H&&H.trim()!==""){const W=y(H),ot=s.filter(mt=>{if(mt.id===C||o.includes(mt.id))return!1;const Ut=mt.timetable?.[i]?.[J];return(!Ut||Ut.trim()==="")&&W.length>0?_(mt,W):!1});b.push({period:J+1,classInfo:H,targetCodes:W,absentTeacherName:B.name,replacements:ot})}})}),b.sort((C,B)=>C.period-B.period)},[i,o,s,g]);return V.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 h-full flex flex-col overflow-hidden",children:[V.jsxs("div",{className:"p-5 bg-slate-800 text-white shrink-0",children:[V.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[V.jsx(aN,{className:"w-6 h-6 text-blue-400"}),"Substitution Generator"]}),V.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Strict Mode: Substitutes must teach the target class."})]}),V.jsxs("div",{className:"grid grid-cols-12 h-full overflow-hidden min-h-0",children:[V.jsxs("div",{className:"col-span-4 bg-slate-50 border-r border-slate-200 p-4 overflow-y-auto h-full min-h-0",children:[V.jsxs("div",{className:"mb-6",children:[V.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Select Day"}),V.jsx("select",{value:i,onChange:b=>a(b.target.value),className:"w-full p-2 border border-slate-300 rounded-lg bg-white font-medium text-slate-700",children:uh.map(b=>V.jsx("option",{value:b,children:b},b))})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Mark Absent Staff"}),V.jsx("div",{className:"space-y-2",children:s.map(b=>V.jsxs("label",{className:`
                  flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all
                  ${o.includes(b.id)?"bg-red-50 border-red-200 shadow-sm":"bg-white border-slate-200 hover:border-blue-300"}
                `,children:[V.jsx("div",{className:`
                    w-5 h-5 rounded border flex items-center justify-center
                    ${o.includes(b.id)?"bg-red-500 border-red-500":"border-slate-300 bg-white"}
                  `,children:o.includes(b.id)&&V.jsx(Zd,{className:"w-3.5 h-3.5 text-white"})}),V.jsx("input",{type:"checkbox",className:"hidden",checked:o.includes(b.id),onChange:()=>d(b.id)}),V.jsx("span",{className:`font-medium text-sm ${o.includes(b.id)?"text-red-700":"text-slate-700"}`,children:b.name})]},b.id))})]})]}),V.jsx("div",{className:"col-span-8 p-6 overflow-y-auto h-full min-h-0 bg-white",children:o.length===0?V.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[V.jsx(Zd,{className:"w-16 h-16 mb-4 text-slate-200"}),V.jsx("p",{className:"text-lg font-medium",children:"No teachers marked absent."})]}):E.length===0?V.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-green-600",children:[V.jsx(Zd,{className:"w-16 h-16 mb-4"}),V.jsx("p",{className:"text-lg font-bold",children:"No Substitutions Needed"}),V.jsx("p",{className:"text-slate-500 text-sm",children:"Absent teachers have no classes today."})]}):V.jsxs("div",{className:"space-y-6",children:[V.jsx("div",{className:"flex justify-between items-end border-b pb-4 mb-4",children:V.jsxs("div",{children:[V.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Substitution Plan"}),V.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["For ",V.jsx("span",{className:"font-medium text-blue-600",children:i})]})]})}),E.map((b,C)=>V.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden",children:[V.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-100 flex justify-between items-center",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsxs("span",{className:"bg-slate-800 text-white text-xs font-bold px-2 py-1 rounded",children:["PERIOD ",b.period]}),V.jsx("span",{className:"font-bold text-slate-700",children:b.classInfo})]}),V.jsxs("span",{className:"text-xs font-medium text-red-500 bg-red-50 px-2 py-1 rounded-full border border-red-100",children:["Absent: ",b.absentTeacherName]})]}),V.jsxs("div",{className:"p-4",children:[V.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Substitutes"}),b.replacements.length>0?V.jsx("div",{className:"flex flex-wrap gap-2",children:b.replacements.map(B=>V.jsxs("div",{className:"bg-green-50 text-green-700 border border-green-200 px-3 py-1.5 rounded-md text-sm font-bold flex items-center gap-2 shadow-sm",children:[V.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),B.name]},B.id))}):V.jsxs("div",{className:"bg-red-50 text-red-600 border border-red-100 px-3 py-2 rounded-md text-sm italic flex items-center gap-2",children:[V.jsx(iN,{className:"w-4 h-4"}),"No subject teacher available for this period."]})]})]},C))]})})]})]})};function wN(){const[s,t]=jt.useState(null),[i,a]=jt.useState([]),[o,c]=jt.useState([]),[d,g]=jt.useState(!0),[y,_]=jt.useState(!1),[E,b]=jt.useState("manage"),[C,B]=jt.useState(null);jt.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await Tw(Jd,__initial_auth_token):await gw(Jd)}catch(N){console.error("Auth failed",N)}})();const ht=bw(Jd,N=>{t(N),N||g(!1)});return()=>ht()},[]),jt.useEffect(()=>{s&&!d&&(async()=>{if(s)try{const ht=Xd(Ji($e,"artifacts",hn,"public","data","teachers"));if((await HI(ht)).empty){console.log("Seeding database...");const S=C0($e);D0.forEach(w=>{const O=Si(Ji($e,"artifacts",hn,"public","data","classes"));S.set(O,{...w,createdAt:qa()})}),x0.forEach(w=>{const O=Si(Ji($e,"artifacts",hn,"public","data","teachers"));S.set(O,{...w,createdAt:qa()})}),await S.commit(),console.log("Database seeded successfully")}}catch(ht){console.error("Auto-seed error",ht)}})()},[s,d]),jt.useEffect(()=>{if(!s)return;const dt=Xd(Ji($e,"artifacts",hn,"public","data","teachers")),ht=w0(dt,w=>{const O=w.docs.map(D=>({id:D.id,...D.data()}));a(O),(o.length>0||w.empty)&&g(!1)}),N=Xd(Ji($e,"artifacts",hn,"public","data","classes")),S=w0(N,w=>{const O=w.docs.map(D=>({id:D.id,...D.data()}));c(O),g(!1)});return()=>{ht(),S()}},[s]);const H=async dt=>{s&&await S0(Ji($e,"artifacts",hn,"public","data","teachers"),{name:dt,timetable:{},createdAt:qa()})},J=async(dt,ht)=>{s&&await A0(Si($e,"artifacts",hn,"public","data","teachers",dt),{timetable:ht})},W=async dt=>{s&&confirm("Delete teacher?")&&(await b0(Si($e,"artifacts",hn,"public","data","teachers",dt)),C?.id===dt&&B(null))},ot=async dt=>{if(s){if(o.some(ht=>ht.name===dt))return alert("Class exists");await S0(Ji($e,"artifacts",hn,"public","data","classes"),{name:dt,divisions:[],createdAt:qa()})}},mt=async(dt,ht)=>{s&&await A0(Si($e,"artifacts",hn,"public","data","classes",dt),{divisions:ht})},pt=async dt=>{s&&confirm("Delete this class standard?")&&await b0(Si($e,"artifacts",hn,"public","data","classes",dt))},Ut=async()=>{if(!s){alert("Please wait for authentication to finish.");return}if(confirm("Force reload default teachers (RIJI, KPS, etc.)? This will overwrite their existing schedules with the default template. Continue?")){_(!0);try{const dt=C0($e);let ht=0;const N=o.map(w=>w.name);for(const w of D0)if(!N.includes(w.name)){const O=Si(Ji($e,"artifacts",hn,"public","data","classes"));dt.set(O,{name:w.name,divisions:w.divisions,createdAt:qa()}),ht++}const S=new Map(i.map(w=>[w.name,w.id]));for(const w of x0)if(S.has(w.name)){const O=S.get(w.name),D=Si($e,"artifacts",hn,"public","data","teachers",O);dt.update(D,{timetable:w.timetable}),ht++}else{const O=Si(Ji($e,"artifacts",hn,"public","data","teachers"));dt.set(O,{name:w.name,timetable:w.timetable,createdAt:qa()}),ht++}ht>0?(await dt.commit(),alert(`Successfully reloaded defaults! Updated ${ht} records.`)):alert("All default data is already present and up to date.")}catch(dt){console.error(dt),alert("Error loading data: "+dt.message)}_(!1)}};return d?V.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50 text-slate-400",children:V.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):V.jsxs("div",{className:"min-h-screen bg-slate-100 text-slate-800 font-sans flex flex-col h-screen overflow-hidden",children:[V.jsx("header",{className:"bg-slate-800 text-white shadow-md z-10 shrink-0",children:V.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx("div",{className:"bg-blue-600 p-1.5 rounded text-white",children:V.jsx(eN,{className:"w-5 h-5"})}),V.jsx("h1",{className:"font-bold text-xl tracking-tight",children:"SchoolScheduler"})]}),V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsxs("div",{className:"flex bg-slate-700 rounded-lg p-1 gap-1 items-center mr-2",children:[V.jsx("button",{onClick:()=>{b("classes"),B(null)},className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${E==="classes"?"bg-white text-slate-800 shadow":"text-slate-300 hover:bg-slate-600"}`,children:"Class Directory"}),V.jsx("button",{onClick:()=>{b("manage"),B(null)},className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${E==="manage"?"bg-white text-slate-800 shadow":"text-slate-300 hover:bg-slate-600"}`,children:"Timetables"}),V.jsx("button",{onClick:()=>b("substitute"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${E==="substitute"?"bg-white text-slate-800 shadow":"text-slate-300 hover:bg-slate-600"}`,children:"Generate Subs"})]}),V.jsx("button",{onClick:Ut,disabled:y,className:"p-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-md transition-colors",title:"Reload Default Teachers",children:y?V.jsx(Loader2,{className:"w-4 h-4 animate-spin"}):V.jsx(I0,{className:"w-4 h-4"})})]})]})}),V.jsx("main",{className:"flex-1 p-4 overflow-hidden min-h-0",children:V.jsxs("div",{className:"max-w-7xl mx-auto h-full flex flex-col",children:[E==="classes"&&V.jsx("div",{className:"h-full max-w-4xl mx-auto w-full",children:V.jsx(TN,{classes:o,onAddClass:ot,onUpdateClass:mt,onDeleteClass:pt})}),E==="manage"&&V.jsxs("div",{className:"grid grid-cols-12 gap-4 h-full min-h-0",children:[V.jsx("div",{className:"col-span-3 h-full min-h-0",children:V.jsx(EN,{teachers:i,onSelectTeacher:B,onDeleteTeacher:W,onAddTeacher:H})}),V.jsx("div",{className:"col-span-9 h-full min-h-0",children:C?V.jsx(bN,{teacher:C,definedClasses:o,onUpdateTimetable:J,onClose:()=>B(null)}):V.jsxs("div",{className:"h-full bg-white rounded-xl border border-slate-200 border-dashed flex flex-col items-center justify-center text-slate-400 p-8 text-center",children:[V.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:V.jsx(rA,{className:"w-8 h-8 text-slate-300"})}),V.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-1",children:"Select a teacher to edit"}),V.jsx("p",{className:"max-w-sm text-sm opacity-75 mb-4",children:"Click a name from the list on the left."}),i.length===0&&V.jsxs("button",{onClick:Ut,className:"text-blue-600 underline text-sm flex items-center gap-1",children:[V.jsx(I0,{className:"w-3 h-3"})," Load default teachers"]})]})})]}),E==="substitute"&&V.jsx(SN,{teachers:i,definedClasses:o})]})})]})}Y1.createRoot(document.getElementById("root")).render(V.jsx(jt.StrictMode,{children:V.jsx(wN,{})}));
